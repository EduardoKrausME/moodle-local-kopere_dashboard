(function(i,a){if(typeof define==="function"&&define.amd){define(["moment","jquery"],function(t,e){return i.daterangepicker=a(t,e)})}else if(typeof module==="object"&&module.exports){var t=typeof window!="undefined"?window.jQuery:undefined;if(!t){t=require("jquery");if(!t.fn)t.fn={}}var e=typeof window!="undefined"&&typeof window.moment!="undefined"?window.moment:require("moment");module.exports=a(e,t)}else{i.daterangepicker=a(i.moment,i.jQuery)}})(this,function(H,V){var a=function(t,e,i){this.parentEl="body";this.element=V(t);this.startDate=H().startOf("day");this.endDate=H().endOf("day");this.minDate=false;this.maxDate=false;this.dateLimit=false;this.autoApply=false;this.singleDatePicker=false;this.showDropdowns=false;this.showWeekNumbers=false;this.showISOWeekNumbers=false;this.showCustomRangeLabel=true;this.timePicker=false;this.timePicker24Hour=false;this.timePickerIncrement=1;this.timePickerSeconds=false;this.linkedCalendars=true;this.autoUpdateInput=true;this.alwaysShowCalendars=false;this.ranges={};this.opens="right";if(this.element.hasClass("pull-right"))this.opens="left";this.drops="down";if(this.element.hasClass("dropup"))this.drops="up";this.buttonClasses="btn btn-sm";this.applyClass="btn-success";this.cancelClass="btn-default";this.locale={direction:"ltr",format:H.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:H.weekdaysMin(),monthNames:H.monthsShort(),firstDay:H.localeData().firstDayOfWeek()};this.callback=function(){};this.isShowing=false;this.leftCalendar={};this.rightCalendar={};if(typeof e!=="object"||e===null)e={};e=V.extend(this.element.data(),e);if(typeof e.template!=="string"&&!(e.template instanceof V))e.template='<div class="daterangepicker dropdown-menu">'+'<div class="calendar left">'+'<div class="daterangepicker_input">'+'<input class="input-mini form-control" type="text" name="daterangepicker_start" value="" />'+'<i class="fa fa-calendar glyphicon glyphicon-calendar"></i>'+'<div class="calendar-time">'+"<div></div>"+'<i class="fa fa-clock-o glyphicon glyphicon-time"></i>'+"</div>"+"</div>"+'<div class="calendar-table"></div>'+"</div>"+'<div class="calendar right">'+'<div class="daterangepicker_input">'+'<input class="input-mini form-control" type="text" name="daterangepicker_end" value="" />'+'<i class="fa fa-calendar glyphicon glyphicon-calendar"></i>'+'<div class="calendar-time">'+"<div></div>"+'<i class="fa fa-clock-o glyphicon glyphicon-time"></i>'+"</div>"+"</div>"+'<div class="calendar-table"></div>'+"</div>"+'<div class="ranges">'+'<div class="range_inputs">'+'<button class="applyBtn" disabled="disabled" type="button"></button> '+'<button class="cancelBtn" type="button"></button>'+"</div>"+"</div>"+"</div>";this.parentEl=e.parentEl&&V(e.parentEl).length?V(e.parentEl):V(this.parentEl);this.container=V(e.template).appendTo(this.parentEl);if(typeof e.locale==="object"){if(typeof e.locale.direction==="string")this.locale.direction=e.locale.direction;if(typeof e.locale.format==="string")this.locale.format=e.locale.format;if(typeof e.locale.separator==="string")this.locale.separator=e.locale.separator;if(typeof e.locale.daysOfWeek==="object")this.locale.daysOfWeek=e.locale.daysOfWeek.slice();if(typeof e.locale.monthNames==="object")this.locale.monthNames=e.locale.monthNames.slice();if(typeof e.locale.firstDay==="number")this.locale.firstDay=e.locale.firstDay;if(typeof e.locale.applyLabel==="string")this.locale.applyLabel=e.locale.applyLabel;if(typeof e.locale.cancelLabel==="string")this.locale.cancelLabel=e.locale.cancelLabel;if(typeof e.locale.weekLabel==="string")this.locale.weekLabel=e.locale.weekLabel;if(typeof e.locale.customRangeLabel==="string"){var a=document.createElement("textarea");a.innerHTML=e.locale.customRangeLabel;var s=a.value;this.locale.customRangeLabel=s}}this.container.addClass(this.locale.direction);if(typeof e.startDate==="string")this.startDate=H(e.startDate,this.locale.format);if(typeof e.endDate==="string")this.endDate=H(e.endDate,this.locale.format);if(typeof e.minDate==="string")this.minDate=H(e.minDate,this.locale.format);if(typeof e.maxDate==="string")this.maxDate=H(e.maxDate,this.locale.format);if(typeof e.startDate==="object")this.startDate=H(e.startDate);if(typeof e.endDate==="object")this.endDate=H(e.endDate);if(typeof e.minDate==="object")this.minDate=H(e.minDate);if(typeof e.maxDate==="object")this.maxDate=H(e.maxDate);if(this.minDate&&this.startDate.isBefore(this.minDate))this.startDate=this.minDate.clone();if(this.maxDate&&this.endDate.isAfter(this.maxDate))this.endDate=this.maxDate.clone();if(typeof e.applyClass==="string")this.applyClass=e.applyClass;if(typeof e.cancelClass==="string")this.cancelClass=e.cancelClass;if(typeof e.dateLimit==="object")this.dateLimit=e.dateLimit;if(typeof e.opens==="string")this.opens=e.opens;if(typeof e.drops==="string")this.drops=e.drops;if(typeof e.showWeekNumbers==="boolean")this.showWeekNumbers=e.showWeekNumbers;if(typeof e.showISOWeekNumbers==="boolean")this.showISOWeekNumbers=e.showISOWeekNumbers;if(typeof e.buttonClasses==="string")this.buttonClasses=e.buttonClasses;if(typeof e.buttonClasses==="object")this.buttonClasses=e.buttonClasses.join(" ");if(typeof e.showDropdowns==="boolean")this.showDropdowns=e.showDropdowns;if(typeof e.showCustomRangeLabel==="boolean")this.showCustomRangeLabel=e.showCustomRangeLabel;if(typeof e.singleDatePicker==="boolean"){this.singleDatePicker=e.singleDatePicker;if(this.singleDatePicker)this.endDate=this.startDate.clone()}if(typeof e.timePicker==="boolean")this.timePicker=e.timePicker;if(typeof e.timePickerSeconds==="boolean")this.timePickerSeconds=e.timePickerSeconds;if(typeof e.timePickerIncrement==="number")this.timePickerIncrement=e.timePickerIncrement;if(typeof e.timePicker24Hour==="boolean")this.timePicker24Hour=e.timePicker24Hour;if(typeof e.autoApply==="boolean")this.autoApply=e.autoApply;if(typeof e.autoUpdateInput==="boolean")this.autoUpdateInput=e.autoUpdateInput;if(typeof e.linkedCalendars==="boolean")this.linkedCalendars=e.linkedCalendars;if(typeof e.isInvalidDate==="function")this.isInvalidDate=e.isInvalidDate;if(typeof e.isCustomDate==="function")this.isCustomDate=e.isCustomDate;if(typeof e.alwaysShowCalendars==="boolean")this.alwaysShowCalendars=e.alwaysShowCalendars;if(this.locale.firstDay!=0){var n=this.locale.firstDay;while(n>0){this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());n--}}var r,l,o;if(typeof e.startDate==="undefined"&&typeof e.endDate==="undefined"){if(V(this.element).is("input[type=text]")){var h=V(this.element).val(),c=h.split(this.locale.separator);r=l=null;if(c.length==2){r=H(c[0],this.locale.format);l=H(c[1],this.locale.format)}else if(this.singleDatePicker&&h!==""){r=H(h,this.locale.format);l=H(h,this.locale.format)}if(r!==null&&l!==null){this.setStartDate(r);this.setEndDate(l)}}}if(typeof e.ranges==="object"){for(o in e.ranges){if(typeof e.ranges[o][0]==="string")r=H(e.ranges[o][0],this.locale.format);else r=H(e.ranges[o][0]);if(typeof e.ranges[o][1]==="string")l=H(e.ranges[o][1],this.locale.format);else l=H(e.ranges[o][1]);if(this.minDate&&r.isBefore(this.minDate))r=this.minDate.clone();var d=this.maxDate;if(this.dateLimit&&d&&r.clone().add(this.dateLimit).isAfter(d))d=r.clone().add(this.dateLimit);if(d&&l.isAfter(d))l=d.clone();if(this.minDate&&l.isBefore(this.minDate,this.timepicker?"minute":"day")||d&&r.isAfter(d,this.timepicker?"minute":"day"))continue;var a=document.createElement("textarea");a.innerHTML=o;var s=a.value;this.ranges[s]=[r,l]}var f="<ul>";for(o in this.ranges){f+='<li data-range-key="'+o+'">'+o+"</li>"}if(this.showCustomRangeLabel){f+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"}f+="</ul>";this.container.find(".ranges").prepend(f)}if(typeof i==="function"){this.callback=i}if(!this.timePicker){this.startDate=this.startDate.startOf("day");this.endDate=this.endDate.endOf("day");this.container.find(".calendar-time").hide()}if(this.timePicker&&this.autoApply)this.autoApply=false;if(this.autoApply&&typeof e.ranges!=="object"){this.container.find(".ranges").hide()}else if(this.autoApply){this.container.find(".applyBtn, .cancelBtn").addClass("hide")}if(this.singleDatePicker){this.container.addClass("single");this.container.find(".calendar.left").addClass("single");this.container.find(".calendar.left").show();this.container.find(".calendar.right").hide();this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide();if(this.timePicker){this.container.find(".ranges ul").hide()}else{this.container.find(".ranges").hide()}}if(typeof e.ranges==="undefined"&&!this.singleDatePicker||this.alwaysShowCalendars){this.container.addClass("show-calendar")}this.container.addClass("opens"+this.opens);if(typeof e.ranges!=="undefined"&&this.opens=="right"){this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent())}this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses);if(this.applyClass.length)this.container.find(".applyBtn").addClass(this.applyClass);if(this.cancelClass.length)this.container.find(".cancelBtn").addClass(this.cancelClass);this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".calendar").on("click.daterangepicker",".prev",V.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",V.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",V.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",V.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",V.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",V.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",V.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",V.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",V.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",V.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",V.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",V.proxy(this.formInputsChanged,this));this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",V.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",V.proxy(this.clickCancel,this)).on("click.daterangepicker","li",V.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",V.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",V.proxy(this.updateFormInputs,this));if(this.element.is("input")||this.element.is("button")){this.element.on({"click.daterangepicker":V.proxy(this.show,this),"focus.daterangepicker":V.proxy(this.show,this),"keyup.daterangepicker":V.proxy(this.elementChanged,this),"keydown.daterangepicker":V.proxy(this.keydown,this)})}else{this.element.on("click.daterangepicker",V.proxy(this.toggle,this))}if(this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.element.trigger("change")}else if(this.element.is("input")&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format));this.element.trigger("change")}};a.prototype={constructor:a,setStartDate:function(t){if(typeof t==="string")this.startDate=H(t,this.locale.format);if(typeof t==="object")this.startDate=H(t);if(!this.timePicker)this.startDate=this.startDate.startOf("day");if(this.timePicker&&this.timePickerIncrement)this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);if(this.minDate&&this.startDate.isBefore(this.minDate)){this.startDate=this.minDate.clone();if(this.timePicker&&this.timePickerIncrement)this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)}if(this.maxDate&&this.startDate.isAfter(this.maxDate)){this.startDate=this.maxDate.clone();if(this.timePicker&&this.timePickerIncrement)this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)}if(!this.isShowing)this.updateElement();this.updateMonthsInView()},setEndDate:function(t){if(typeof t==="string")this.endDate=H(t,this.locale.format);if(typeof t==="object")this.endDate=H(t);if(!this.timePicker)this.endDate=this.endDate.endOf("day");if(this.timePicker&&this.timePickerIncrement)this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);if(this.endDate.isBefore(this.startDate))this.endDate=this.startDate.clone();if(this.maxDate&&this.endDate.isAfter(this.maxDate))this.endDate=this.maxDate.clone();if(this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate))this.endDate=this.startDate.clone().add(this.dateLimit);this.previousRightTime=this.endDate.clone();if(!this.isShowing)this.updateElement();this.updateMonthsInView()},isInvalidDate:function(){return false},isCustomDate:function(){return false},updateView:function(){if(this.timePicker){this.renderTimePicker("left");this.renderTimePicker("right");if(!this.endDate){this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")}else{this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled")}}if(this.endDate){this.container.find('input[name="daterangepicker_end"]').removeClass("active");this.container.find('input[name="daterangepicker_start"]').addClass("active")}else{this.container.find('input[name="daterangepicker_end"]').addClass("active");this.container.find('input[name="daterangepicker_start"]').removeClass("active")}this.updateMonthsInView();this.updateCalendars();this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))){return}this.leftCalendar.month=this.startDate.clone().date(2);if(!this.linkedCalendars&&(this.endDate.month()!=this.startDate.month()||this.endDate.year()!=this.startDate.year())){this.rightCalendar.month=this.endDate.clone().date(2)}else{this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")}}else{if(this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")){this.leftCalendar.month=this.startDate.clone().date(2);this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")}}if(this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate){this.rightCalendar.month=this.maxDate.clone().date(2);this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month")}},updateCalendars:function(){if(this.timePicker){var t,e,i;if(this.endDate){t=parseInt(this.container.find(".left .hourselect").val(),10);e=parseInt(this.container.find(".left .minuteselect").val(),10);i=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;if(!this.timePicker24Hour){var a=this.container.find(".left .ampmselect").val();if(a==="PM"&&t<12)t+=12;if(a==="AM"&&t===12)t=0}}else{t=parseInt(this.container.find(".right .hourselect").val(),10);e=parseInt(this.container.find(".right .minuteselect").val(),10);i=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;if(!this.timePicker24Hour){var a=this.container.find(".right .ampmselect").val();if(a==="PM"&&t<12)t+=12;if(a==="AM"&&t===12)t=0}}this.leftCalendar.month.hour(t).minute(e).second(i);this.rightCalendar.month.hour(t).minute(e).second(i)}this.renderCalendar("left");this.renderCalendar("right");this.container.find(".ranges li").removeClass("active");if(this.endDate==null)return;this.calculateChosenLabel()},renderCalendar:function(t){var e=t=="left"?this.leftCalendar:this.rightCalendar;var i=e.month.month();var a=e.month.year();var s=e.month.hour();var n=e.month.minute();var r=e.month.second();var l=H([a,i]).daysInMonth();var o=H([a,i,1]);var h=H([a,i,l]);var c=H(o).subtract(1,"month").month();var d=H(o).subtract(1,"month").year();var f=H([d,c]).daysInMonth();var m=o.day();var e=[];e.firstDay=o;e.lastDay=h;for(var p=0;p<6;p++){e[p]=[]}var u=f-m+this.locale.firstDay+1;if(u>f)u-=7;if(m==this.locale.firstDay)u=f-6;var g=H([d,c,u,12,n,r]);var D,v;for(var p=0,D=0,v=0;p<42;p++,D++,g=H(g).add(24,"hour")){if(p>0&&D%7===0){D=0;v++}e[v][D]=g.clone().hour(s).minute(n).second(r);g.hour(12);if(this.minDate&&e[v][D].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&e[v][D].isBefore(this.minDate)&&t=="left"){e[v][D]=this.minDate.clone()}if(this.maxDate&&e[v][D].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&e[v][D].isAfter(this.maxDate)&&t=="right"){e[v][D]=this.maxDate.clone()}}if(t=="left"){this.leftCalendar.calendar=e}else{this.rightCalendar.calendar=e}var k=t=="left"?this.minDate:this.startDate;var y=this.maxDate;var b=t=="left"?this.startDate:this.endDate;var C=this.locale.direction=="ltr"?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"};var w='<table class="table-condensed">';w+="<thead>";w+="<tr>";if(this.showWeekNumbers||this.showISOWeekNumbers)w+="<th></th>";if((!k||k.isBefore(e.firstDay))&&(!this.linkedCalendars||t=="left")){w+='<th class="prev available"><i class="fa fa-'+C.left+" glyphicon glyphicon-"+C.left+'"></i></th>'}else{w+="<th></th>"}var Y=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");if(this.showDropdowns){var P=e[1][1].month();var M=e[1][1].year();var x=y&&y.year()||M+5;var I=k&&k.year()||M-50;var L=M==I;var S=M==x;var A='<select class="monthselect">';for(var _=0;_<12;_++){if((!L||_>=k.month())&&(!S||_<=y.month())){A+="<option value='"+_+"'"+(_===P?" selected='selected'":"")+">"+this.locale.monthNames[_]+"</option>"}else{A+="<option value='"+_+"'"+(_===P?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[_]+"</option>"}}A+="</select>";var B='<select class="yearselect">';for(var E=I;E<=x;E++){B+='<option value="'+E+'"'+(E===M?' selected="selected"':"")+">"+E+"</option>"}B+="</select>";Y=A+B}w+='<th colspan="5" class="month">'+Y+"</th>";if((!y||y.isAfter(e.lastDay))&&(!this.linkedCalendars||t=="right"||this.singleDatePicker)){w+='<th class="next available"><i class="fa fa-'+C.right+" glyphicon glyphicon-"+C.right+'"></i></th>'}else{w+="<th></th>"}w+="</tr>";w+="<tr>";if(this.showWeekNumbers||this.showISOWeekNumbers)w+='<th class="week">'+this.locale.weekLabel+"</th>";V.each(this.locale.daysOfWeek,function(t,e){w+="<th>"+e+"</th>"});w+="</tr>";w+="</thead>";w+="<tbody>";if(this.endDate==null&&this.dateLimit){var W=this.startDate.clone().add(this.dateLimit).endOf("day");if(!y||W.isBefore(y)){y=W}}for(var v=0;v<6;v++){w+="<tr>";if(this.showWeekNumbers)w+='<td class="week">'+e[v][0].week()+"</td>";else if(this.showISOWeekNumbers)w+='<td class="week">'+e[v][0].isoWeek()+"</td>";for(var D=0;D<7;D++){var O=[];if(e[v][D].isSame(new Date,"day"))O.push("today");if(e[v][D].isoWeekday()>5)O.push("weekend");if(e[v][D].month()!=e[1][1].month())O.push("off");if(this.minDate&&e[v][D].isBefore(this.minDate,"day"))O.push("off","disabled");if(y&&e[v][D].isAfter(y,"day"))O.push("off","disabled");if(this.isInvalidDate(e[v][D]))O.push("off","disabled");if(e[v][D].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD"))O.push("active","start-date");if(this.endDate!=null&&e[v][D].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD"))O.push("active","end-date");if(this.endDate!=null&&e[v][D]>this.startDate&&e[v][D]<this.endDate)O.push("in-range");var N=this.isCustomDate(e[v][D]);if(N!==false){if(typeof N==="string")O.push(N);else Array.prototype.push.apply(O,N)}var R="",j=false;for(var p=0;p<O.length;p++){R+=O[p]+" ";if(O[p]=="disabled")j=true}if(!j)R+="available";w+='<td class="'+R.replace(/^\s+|\s+$/g,"")+'" data-title="'+"r"+v+"c"+D+'">'+e[v][D].date()+"</td>"}w+="</tr>"}w+="</tbody>";w+="</table>";this.container.find(".calendar."+t+" .calendar-table").html(w)},renderTimePicker:function(t){if(t=="right"&&!this.endDate)return;var e,i,a,s=this.maxDate;if(this.dateLimit&&(!this.maxDate||this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)))s=this.startDate.clone().add(this.dateLimit);if(t=="left"){i=this.startDate.clone();a=this.minDate}else if(t=="right"){i=this.endDate.clone();a=this.startDate;var n=this.container.find(".calendar.right .calendar-time div");if(n.html()!=""){i.hour(n.find(".hourselect option:selected").val()||i.hour());i.minute(n.find(".minuteselect option:selected").val()||i.minute());i.second(n.find(".secondselect option:selected").val()||i.second());if(!this.timePicker24Hour){var r=n.find(".ampmselect option:selected").val();if(r==="PM"&&i.hour()<12)i.hour(i.hour()+12);if(r==="AM"&&i.hour()===12)i.hour(0)}}if(i.isBefore(this.startDate))i=this.startDate.clone();if(s&&i.isAfter(s))i=s.clone()}e='<select class="hourselect">';var l=this.timePicker24Hour?0:1;var o=this.timePicker24Hour?23:12;for(var h=l;h<=o;h++){var c=h;if(!this.timePicker24Hour)c=i.hour()>=12?h==12?12:h+12:h==12?0:h;var d=i.clone().hour(c);var f=false;if(a&&d.minute(59).isBefore(a))f=true;if(s&&d.minute(0).isAfter(s))f=true;if(c==i.hour()&&!f){e+='<option value="'+h+'" selected="selected">'+h+"</option>"}else if(f){e+='<option value="'+h+'" disabled="disabled" class="disabled">'+h+"</option>"}else{e+='<option value="'+h+'">'+h+"</option>"}}e+="</select> ";e+=': <select class="minuteselect">';for(var h=0;h<60;h+=this.timePickerIncrement){var m=h<10?"0"+h:h;var d=i.clone().minute(h);var f=false;if(a&&d.second(59).isBefore(a))f=true;if(s&&d.second(0).isAfter(s))f=true;if(i.minute()==h&&!f){e+='<option value="'+h+'" selected="selected">'+m+"</option>"}else if(f){e+='<option value="'+h+'" disabled="disabled" class="disabled">'+m+"</option>"}else{e+='<option value="'+h+'">'+m+"</option>"}}e+="</select> ";if(this.timePickerSeconds){e+=': <select class="secondselect">';for(var h=0;h<60;h++){var m=h<10?"0"+h:h;var d=i.clone().second(h);var f=false;if(a&&d.isBefore(a))f=true;if(s&&d.isAfter(s))f=true;if(i.second()==h&&!f){e+='<option value="'+h+'" selected="selected">'+m+"</option>"}else if(f){e+='<option value="'+h+'" disabled="disabled" class="disabled">'+m+"</option>"}else{e+='<option value="'+h+'">'+m+"</option>"}}e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var p="";var u="";if(a&&i.clone().hour(12).minute(0).second(0).isBefore(a))p=' disabled="disabled" class="disabled"';if(s&&i.clone().hour(0).minute(0).second(0).isAfter(s))u=' disabled="disabled" class="disabled"';if(i.hour()>=12){e+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+u+">PM</option>"}else{e+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+u+">PM</option>"}e+="</select>"}this.container.find(".calendar."+t+" .calendar-time div").html(e)},updateFormInputs:function(){if(this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus"))return;this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format));if(this.endDate)this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format));if(this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))){this.container.find("button.applyBtn").removeAttr("disabled")}else{this.container.find("button.applyBtn").attr("disabled","disabled")}},move:function(){var t={top:0,left:0},e;var i=V(window).width();if(!this.parentEl.is("body")){t={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()};i=this.parentEl[0].clientWidth+this.parentEl.offset().left}if(this.drops=="up")e=this.element.offset().top-this.container.outerHeight()-t.top;else e=this.element.offset().top+this.element.outerHeight()-t.top;this.container[this.drops=="up"?"addClass":"removeClass"]("dropup");if(this.opens=="left"){this.container.css({top:e,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"});if(this.container.offset().left<0){this.container.css({right:"auto",left:9})}}else if(this.opens=="center"){this.container.css({top:e,left:this.element.offset().left-t.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"});if(this.container.offset().left<0){this.container.css({right:"auto",left:9})}}else{this.container.css({top:e,left:this.element.offset().left-t.left,right:"auto"});if(this.container.offset().left+this.container.outerWidth()>V(window).width()){this.container.css({left:"auto",right:0})}}},show:function(t){if(this.isShowing)return;this._outsideClickProxy=V.proxy(function(t){this.outsideClick(t)},this);V(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy);V(window).on("resize.daterangepicker",V.proxy(function(t){this.move(t)},this));this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.previousRightTime=this.endDate.clone();this.updateView();this.container.show();this.move();this.element.trigger("show.daterangepicker",this);this.isShowing=true},hide:function(t){if(!this.isShowing)return;if(!this.endDate){this.startDate=this.oldStartDate.clone();this.endDate=this.oldEndDate.clone()}if(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))this.callback(this.startDate,this.endDate,this.chosenLabel);this.updateElement();V(document).off(".daterangepicker");V(window).off(".daterangepicker");this.container.hide();this.element.trigger("hide.daterangepicker",this);this.isShowing=false},toggle:function(t){if(this.isShowing){this.hide()}else{this.show()}},outsideClick:function(t){var e=V(t.target);if(t.type=="focusin"||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-table").length)return;this.hide();this.element.trigger("outsideClick.daterangepicker",this)},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(t){if(this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus"))return;var e=t.target.getAttribute("data-range-key");if(e==this.locale.customRangeLabel){this.updateView()}else{var i=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(i[0].format(this.locale.format));this.container.find("input[name=daterangepicker_end]").val(i[1].format(this.locale.format))}},clickRange:function(t){var e=t.target.getAttribute("data-range-key");this.chosenLabel=e;if(e==this.locale.customRangeLabel){this.showCalendars()}else{var i=this.ranges[e];this.startDate=i[0];this.endDate=i[1];if(!this.timePicker){this.startDate.startOf("day");this.endDate.endOf("day")}if(!this.alwaysShowCalendars)this.hideCalendars();this.clickApply()}},clickPrev:function(t){var e=V(t.target).parents(".calendar");if(e.hasClass("left")){this.leftCalendar.month.subtract(1,"month");if(this.linkedCalendars)this.rightCalendar.month.subtract(1,"month")}else{this.rightCalendar.month.subtract(1,"month")}this.updateCalendars()},clickNext:function(t){var e=V(t.target).parents(".calendar");if(e.hasClass("left")){this.leftCalendar.month.add(1,"month")}else{this.rightCalendar.month.add(1,"month");if(this.linkedCalendars)this.leftCalendar.month.add(1,"month")}this.updateCalendars()},hoverDate:function(t){if(!V(t.target).hasClass("available"))return;var e=V(t.target).attr("data-title");var i=e.substr(1,1);var a=e.substr(3,1);var s=V(t.target).parents(".calendar");var l=s.hasClass("left")?this.leftCalendar.calendar[i][a]:this.rightCalendar.calendar[i][a];if(this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")){this.container.find("input[name=daterangepicker_start]").val(l.format(this.locale.format))}else if(!this.endDate&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){this.container.find("input[name=daterangepicker_end]").val(l.format(this.locale.format))}var o=this.leftCalendar;var h=this.rightCalendar;var c=this.startDate;if(!this.endDate){this.container.find(".calendar tbody td").each(function(t,e){if(V(e).hasClass("week"))return;var i=V(e).attr("data-title");var a=i.substr(1,1);var s=i.substr(3,1);var n=V(e).parents(".calendar");var r=n.hasClass("left")?o.calendar[a][s]:h.calendar[a][s];if(r.isAfter(c)&&r.isBefore(l)||r.isSame(l,"day")){V(e).addClass("in-range")}else{V(e).removeClass("in-range")}})}},clickDate:function(t){if(!V(t.target).hasClass("available"))return;var e=V(t.target).attr("data-title");var i=e.substr(1,1);var a=e.substr(3,1);var s=V(t.target).parents(".calendar");var n=s.hasClass("left")?this.leftCalendar.calendar[i][a]:this.rightCalendar.calendar[i][a];if(this.endDate||n.isBefore(this.startDate,"day")){if(this.timePicker){var r=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".left .ampmselect").val();if(l==="PM"&&r<12)r+=12;if(l==="AM"&&r===12)r=0}var o=parseInt(this.container.find(".left .minuteselect").val(),10);var h=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;n=n.clone().hour(r).minute(o).second(h)}this.endDate=null;this.setStartDate(n.clone())}else if(!this.endDate&&n.isBefore(this.startDate)){this.setEndDate(this.startDate.clone())}else{if(this.timePicker){var r=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();if(l==="PM"&&r<12)r+=12;if(l==="AM"&&r===12)r=0}var o=parseInt(this.container.find(".right .minuteselect").val(),10);var h=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;n=n.clone().hour(r).minute(o).second(h)}this.setEndDate(n.clone());if(this.autoApply){this.calculateChosenLabel();this.clickApply()}}if(this.singleDatePicker){this.setEndDate(this.startDate);if(!this.timePicker)this.clickApply()}this.updateView();t.stopPropagation()},calculateChosenLabel:function(){var t=true;var e=0;for(var i in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[i][0])&&this.endDate.isSame(this.ranges[i][1])){t=false;this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}}else{if(this.startDate.format("YYYY-MM-DD")==this.ranges[i][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[i][1].format("YYYY-MM-DD")){t=false;this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html();break}}e++}if(t){if(this.showCustomRangeLabel){this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html()}else{this.chosenLabel=null}this.showCalendars()}},clickApply:function(t){this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.hide();this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var e=V(t.target).closest(".calendar").hasClass("left"),i=e?"left":"right",a=this.container.find(".calendar."+i);var s=parseInt(a.find(".monthselect").val(),10);var n=a.find(".yearselect").val();if(!e){if(n<this.startDate.year()||n==this.startDate.year()&&s<this.startDate.month()){s=this.startDate.month();n=this.startDate.year()}}if(this.minDate){if(n<this.minDate.year()||n==this.minDate.year()&&s<this.minDate.month()){s=this.minDate.month();n=this.minDate.year()}}if(this.maxDate){if(n>this.maxDate.year()||n==this.maxDate.year()&&s>this.maxDate.month()){s=this.maxDate.month();n=this.maxDate.year()}}if(e){this.leftCalendar.month.month(s).year(n);if(this.linkedCalendars)this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month")}else{this.rightCalendar.month.month(s).year(n);if(this.linkedCalendars)this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month")}this.updateCalendars()},timeChanged:function(t){var e=V(t.target).closest(".calendar"),i=e.hasClass("left");var a=parseInt(e.find(".hourselect").val(),10);var s=parseInt(e.find(".minuteselect").val(),10);var n=this.timePickerSeconds?parseInt(e.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var r=e.find(".ampmselect").val();if(r==="PM"&&a<12)a+=12;if(r==="AM"&&a===12)a=0}if(i){var l=this.startDate.clone();l.hour(a);l.minute(s);l.second(n);this.setStartDate(l);if(this.singleDatePicker){this.endDate=this.startDate.clone()}else if(this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)){this.setEndDate(l.clone())}}else if(this.endDate){var o=this.endDate.clone();o.hour(a);o.minute(s);o.second(n);this.setEndDate(o)}this.updateCalendars();this.updateFormInputs();this.renderTimePicker("left");this.renderTimePicker("right")},formInputsChanged:function(t){var e=V(t.target).closest(".calendar").hasClass("right");var i=H(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format);var a=H(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);if(i.isValid()&&a.isValid()){if(e&&a.isBefore(i))i=a.clone();this.setStartDate(i);this.setEndDate(a);if(e){this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format))}else{this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))}}this.updateView()},formInputsFocused:function(t){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active");V(t.target).addClass("active");var e=V(t.target).closest(".calendar").hasClass("right");if(e){this.endDate=null;this.setStartDate(this.startDate.clone());this.updateView()}},formInputsBlurred:function(t){if(!this.endDate){var e=this.container.find('input[name="daterangepicker_end"]').val();var i=H(e,this.locale.format);if(i.isValid()){this.setEndDate(i);this.updateView()}}},elementChanged:function(){if(!this.element.is("input"))return;if(!this.element.val().length)return;if(this.element.val().length<this.locale.format.length)return;var t=this.element.val().split(this.locale.separator),e=null,i=null;if(t.length===2){e=H(t[0],this.locale.format);i=H(t[1],this.locale.format)}if(this.singleDatePicker||e===null||i===null){e=H(this.element.val(),this.locale.format);i=e}if(!e.isValid()||!i.isValid())return;this.setStartDate(e);this.setEndDate(i);this.updateView()},keydown:function(t){if(t.keyCode===9||t.keyCode===13){this.hide()}},updateElement:function(){if(this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.element.trigger("change")}else if(this.element.is("input")&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format));this.element.trigger("change")}},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData()}};V.fn.daterangepicker=function(e,i){this.each(function(){var t=V(this);if(t.data("daterangepicker"))t.data("daterangepicker").remove();t.data("daterangepicker",new a(t,e,i))});return this};return a});