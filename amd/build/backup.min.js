define(["jquery"], function($) {
    return {
        mark: function(key) {
            let toggleStateTable = false;
            $(".mark-all-table").click(function() {
                $(".table-checkbox-table").prop("checked", toggleStateTable);
                toggleStateTable = !toggleStateTable
            });
            let toggleStateData = false;
            $(".mark-all-data").click(function() {
                $(".table-checkbox-data").prop("checked", toggleStateData);
                toggleStateData = !toggleStateData
            });
            $(".mark-line-table").click(function() {
                let $row = $(this).closest("tr");
                let $checkboxes = $row.find("input[type='checkbox']");
                let allChecked = $checkboxes.length > 0 && $checkboxes.filter(":checked").length === $checkboxes.length;
                $checkboxes.prop("checked", !allChecked)
            })
        }
    }
});