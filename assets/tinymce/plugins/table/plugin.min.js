!function(B,G){function q(f,d){for(var h,g=[],c=0;c<f.length;++c){if(h=x[f[c]]||w(f[c]),!h){throw"module definition dependecy not found: "+f[c]}g.push(h)}d.apply(null,g)}function k(d,f,c){if("string"!=typeof d){throw"invalid module definition, module id must be defined and be a string"}if(f===G){throw"invalid module definition, dependencies must be specified"}if(c===G){throw"invalid module definition, definition function must be specified"}q(f,function(){x[d]=c.apply(null,arguments)})}function E(a){return !!x[a]}function w(d){for(var f=B,e=d.split(/[.\/]/),c=0;c<e.length;++c){if(!f[e[c]]){return}f=f[e[c]]}return f}function b(h){for(var g=0;g<h.length;g++){for(var d=B,c=h[g],f=c.split(/[.\/]/),e=0;e<f.length-1;++e){d[f[e]]===G&&(d[f[e]]={}),d=d[f[e]]}d[f[f.length-1]]=x[c]}}var x={},H="tinymce/tableplugin/TableGrid",D="tinymce/util/Tools",C="tinymce/Env",F="tinymce/tableplugin/Quirks",v="tinymce/util/VK",A="tinymce/tableplugin/CellSelection",z="tinymce/dom/TreeWalker",j="tinymce/tableplugin/Plugin",y="tinymce/PluginManager";k(H,[D,C],function(d,g){function f(h,a){return parseInt(h.getAttribute(a)||1,10)}var c=d.each;return function(ai,ad){function ak(){var h=0;J=[],ar=0,c(["thead","tbody","tfoot"],function(i){var l=V.select("> "+i+" tr",ad);c(l,function(p,m){m+=h,c(V.select("> td, > th",p),function(N,P){var u,M,I,L;if(J[m]){for(;J[m][P];){P++}}for(I=f(N,"rowspan"),L=f(N,"colspan"),M=m;m+I>M;M++){for(J[M]||(J[M]=[]),u=P;P+L>u;u++){J[M][u]={part:i,real:M==m&&u==P,elm:N,rowspan:I,colspan:L}}}ar=Math.max(ar,P+1)})}),h+=l.length})}function ab(i,h){return i=i.cloneNode(h),i.removeAttribute("id"),i}function ap(i,h){var l;return l=J[h],l?l[i]:void 0}function ao(i,h,l){i&&(l=parseInt(l,10),1===l?i.removeAttribute(h,1):i.setAttribute(h,l,1))}function Y(h){return h&&(V.hasClass(h.elm,"mce-item-selected")||h==Z)}function ah(){var h=[];return c(ad.rows,function(i){c(i.cells,function(l){return V.hasClass(l,"mce-item-selected")||Z&&l==Z.elm?(h.push(i),!1):void 0})}),h}function an(){var h=V.createRng();h.setStartAfter(ad),h.setEndAfter(ad),K.setRng(h),V.remove(ad)}function am(h){var l,i={};return ai.settings.table_clone_elements!==!1&&(i=d.makeMap((ai.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),d.walk(h,function(p){var m;return 3==p.nodeType?(c(V.getParents(p.parentNode,null,h).reverse(),function(r){i[r.nodeName]&&(r=ab(r,!1),l?m&&m.appendChild(r):l=m=r,m=r)}),m&&(m.innerHTML=g.ie?"&nbsp;":'<br data-mce-bogus="1" />'),!1):void 0},"childNodes"),h=ab(h,!1),ao(h,"rowSpan",1),ao(h,"colSpan",1),l?h.appendChild(l):(!g.ie||g.ie>10)&&(h.innerHTML='<br data-mce-bogus="1" />'),h}function ag(){var i=V.createRng(),h;return c(V.select("tr",ad),function(l){0===l.cells.length&&V.remove(l)}),0===V.select("tr",ad).length?(i.setStartBefore(ad),i.setEndBefore(ad),K.setRng(i),void V.remove(ad)):(c(V.select("thead,tbody,tfoot",ad),function(l){0===l.rows.length&&V.remove(l)}),ak(),void (aa&&(h=J[Math.min(J.length-1,aa.y)],h&&(K.select(h[Math.min(h.length-1,aa.x)].elm,!0),K.collapse(!0)))))}function al(L,N,p,m){var M,u,h,I,P;for(M=J[N][L].elm.parentNode,h=1;p>=h;h++){if(M=V.getNext(M,"tr")){for(u=L;u>=0;u--){if(P=J[N+h][u].elm,P.parentNode==M){for(I=1;m>=I;I++){V.insertAfter(am(P),P)}break}}if(-1==u){for(I=1;m>=I;I++){M.insertBefore(am(M.cells[0]),M.cells[0])}}}}}function aq(){c(J,function(i,h){c(i,function(u,I){var p,m,s;if(Y(u)&&(u=u.elm,p=f(u,"colspan"),m=f(u,"rowspan"),p>1||m>1)){for(ao(u,"rowSpan",1),ao(u,"colSpan",1),s=0;p-1>s;s++){V.insertAfter(am(u),u)}al(I,h,m-1,p)}})})}function X(au,u,p){var L,i,av,I,P,N,M,at,S,R,T;if(au?(L=a(au),i=L.x,av=L.y,I=i+(u-1),P=av+(p-1)):(aa=Q=null,c(J,function(l,h){c(l,function(m,r){Y(m)&&(aa||(aa={x:r,y:h}),Q={x:r,y:h})})}),aa&&(i=aa.x,av=aa.y,I=Q.x,P=Q.y)),at=ap(i,av),S=ap(I,P),at&&S&&at.part==S.part){for(aq(),ak(),at=ap(i,av).elm,ao(at,"colSpan",I-i+1),ao(at,"rowSpan",P-av+1),M=av;P>=M;M++){for(N=i;I>=N;N++){J[M]&&J[M][N]&&(au=J[M][N].elm,au!=at&&(R=d.grep(au.childNodes),c(R,function(h){at.appendChild(h)}),R.length&&(R=d.grep(at.childNodes),T=0,c(R,function(h){"BR"==h.nodeName&&V.getAttrib(h,"data-mce-bogus")&&T++<R.length-1&&at.removeChild(h)})),V.remove(au)))}}ag()}}function U(S){var I,M,s,N,T,L,R,u,P;if(c(J,function(h,i){return c(h,function(l){return Y(l)&&(l=l.elm,T=l.parentNode,L=ab(T,!1),I=i,S)?!1:void 0}),S?!I:void 0}),I!==G){for(N=0;N<J[0].length;N++){if(J[I][N]&&(M=J[I][N].elm,M!=s)){if(S){if(I>0&&J[I-1][N]&&(u=J[I-1][N].elm,P=f(u,"rowSpan"),P>1)){ao(u,"rowSpan",P+1);continue}}else{if(P=f(M,"rowspan"),P>1){ao(M,"rowSpan",P+1);continue}}R=am(M),ao(R,"colSpan",M.colSpan),L.appendChild(R),s=M}}L.hasChildNodes()&&(S?T.parentNode.insertBefore(L,T):V.insertAfter(L,T))}}function O(i){var h,l;c(J,function(m){return c(m,function(r,p){return Y(r)&&(h=p,i)?!1:void 0}),i?!h:void 0}),c(J,function(p,m){var L,u,I;p[h]&&(L=p[h].elm,L!=l&&(I=f(L,"colspan"),u=f(L,"rowspan"),1==I?i?(L.parentNode.insertBefore(am(L),L),al(h,m,u-1,I)):(V.insertAfter(am(L),L),al(h,m,u-1,I)):ao(L,"colSpan",L.colSpan+1),l=L))})}function W(){var h=[];c(J,function(i){c(i,function(p,m){Y(p)&&-1===d.inArray(h,m)&&(c(J,function(r){var l=r[m].elm,s;s=f(l,"colSpan"),s>1?ao(l,"colSpan",s-1):V.remove(l)}),h.push(m))})}),ag()}function ac(){function i(m){var l,p;c(m.cells,function(r){var s=f(r,"rowSpan");s>1&&(ao(r,"rowSpan",s-1),l=a(r),al(l.x,l.y,1,1))}),l=a(m.cells[0]),c(J[l.y],function(s){var r;s=s.elm,s!=p&&(r=f(s,"rowSpan"),1>=r?V.remove(s):ao(s,"rowSpan",r-1),p=s)})}var h;h=ah(),c(h.reverse(),function(l){i(l)}),ag()}function n(){var h=ah();return V.remove(h),ag(),h}function t(){var h=ah();return c(h,function(i,l){h[l]=ab(i,!0)}),h}function e(m,i){var r=ah(),p=r[i?0:r.length-1],h=p.cells.length;m&&(c(J,function(s){var l;return h=0,c(s,function(u){u.real&&(h+=u.colspan),u.elm.parentNode==p&&(l=1)}),l?!1:void 0}),i||m.reverse(),c(m,function(u){var I,l=u.cells.length,s;for(I=0;l>I;I++){s=u.cells[I],ao(s,"colSpan",1),ao(s,"rowSpan",1)}for(I=l;h>I;I++){u.appendChild(am(u.cells[l-1]))}for(I=h;l>I;I++){V.remove(u.cells[I])}i?p.parentNode.insertBefore(u,p):V.insertAfter(u,p)}),V.removeClass(V.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"))}function a(i){var h;return c(J,function(m,l){return c(m,function(r,p){return r.elm==i?(h={x:p,y:l},!1):void 0}),!h}),h}function o(h){aa=a(h)}function af(){var i,h;return i=h=0,c(J,function(m,l){c(m,function(I,s){var p,u;Y(I)&&(I=J[l][s],s>i&&(i=s),l>h&&(h=l),I.real&&(p=I.colspan-1,u=I.rowspan-1,p&&s+p>i&&(i=s+p),u&&l+u>h&&(h=l+u)))})}),{x:i,y:h}}function aj(L){var R,p,m,P,u,h,I,S,N,M;if(Q=a(L),aa&&Q){for(R=Math.min(aa.x,Q.x),p=Math.min(aa.y,Q.y),m=Math.max(aa.x,Q.x),P=Math.max(aa.y,Q.y),u=m,h=P,M=p;h>=M;M++){L=J[M][R],L.real||R-(L.colspan-1)<R&&(R-=L.colspan-1)}for(N=R;u>=N;N++){L=J[p][N],L.real||p-(L.rowspan-1)<p&&(p-=L.rowspan-1)}for(M=p;P>=M;M++){for(N=R;m>=N;N++){L=J[M][N],L.real&&(I=L.colspan-1,S=L.rowspan-1,I&&N+I>u&&(u=N+I),S&&M+S>h&&(h=M+S))}}for(V.removeClass(V.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"),M=p;h>=M;M++){for(N=R;u>=N;N++){J[M][N]&&V.addClass(J[M][N].elm,"mce-item-selected")}}}}function ae(l,i){var p,m,h;p=a(l),m=p.y*ar+p.x;do{if(m+=i,h=ap(m%ar,Math.floor(m/ar)),!h){break}if(h.elm!=l){return K.select(h.elm,!0),V.isEmpty(h.elm)&&K.collapse(!0),!0}}while(h.elm==l);return !1}var J,ar,aa,Q,Z,K=ai.selection,V=K.dom;ad=ad||V.getParent(K.getStart(),"table"),ak(),Z=V.getParent(K.getStart(),"th,td"),Z&&(aa=a(Z),Q=af(),Z=ap(aa.x,aa.y)),d.extend(this,{deleteTable:an,split:aq,merge:X,insertRow:U,insertCol:O,deleteCols:W,deleteRows:ac,cutRows:n,copyRows:t,pasteRows:e,getPos:a,setStartCell:o,setEndCell:aj,moveRelIdx:ae,refresh:ak})}}),k(F,[v,C,D],function(f,d,h){function g(i,a){return parseInt(i.getAttribute(a)||1,10)}var c=h.each;return function(t){function a(){function i(W){function K(ab,r){var ad=ab?"previousSibling":"nextSibling",Y=t.dom.getParent(r,"tr"),Z=Y[ad];if(Z){return M(t,r,Z,ab),W.preventDefault(),!0}var ac=t.dom.getParent(Y,"table"),ae=Y.parentNode,s=ae.nodeName.toLowerCase();if("tbody"===s||s===(ab?"tfoot":"thead")){var aa=n(ab,ac,ae,"tbody");if(null!==aa){return X(ab,aa,r)}}return Q(ab,Y,ad,ac)}function n(ac,Z,ad,Y){var u=t.dom.select(">"+Y,Z),ab=u.indexOf(ad);if(ac&&0===ab||!ac&&ab===u.length-1){return L(ac,Z)}if(-1===ab){var aa="thead"===ad.tagName.toLowerCase()?0:u.length-1;return u[aa]}return u[ab+(ac?-1:1)]}function L(s,r){var u=s?"thead":"tfoot",l=t.dom.select(">"+u,r);return 0!==l.length?l[0]:null}function X(u,Y,s){var r=P(Y,u);return r&&M(t,s,r,u),W.preventDefault(),!0}function Q(aa,ab,l,Z){var u=Z[l];if(u){return V(u),!0}var Y=t.dom.getParent(Z,"td,th");if(Y){return K(aa,Y,W)}var ac=P(ab,!aa);return V(ac),W.preventDefault(),!1}function P(r,l){var s=r&&r[l?"lastChild":"firstChild"];return s&&"BR"===s.nodeName?t.dom.getParent(s,"td,th"):s}function V(l){t.selection.setCursorLocation(l,0)}function J(){return T==f.UP||T==f.DOWN}function O(r){var l=r.selection.getNode(),s=r.dom.getParent(l,"tr");return null!==s}function N(r){for(var l=0,s=r;s.previousSibling;){s=s.previousSibling,l+=g(s,"colspan")}return l}function I(u,s){var Y=0,r=0;return c(u.children,function(Z,l){return Y+=g(Z,"colspan"),r=l,Y>s?!1:void 0}),r}function M(ad,aa,ae,Y){var u=N(t.dom.getParent(aa,"td,th")),ac=I(ae,u),Z=ae.childNodes[ac],ab=P(Z,Y);V(ab||Z)}function S(s){var r=t.selection.getNode(),u=t.dom.getParent(r,"td,th"),l=t.dom.getParent(s,"td,th");return u&&u!==l&&U(u,l)}function U(r,l){return t.dom.getParent(r,"TABLE")===t.dom.getParent(l,"TABLE")}var T=W.keyCode;if(J()&&O(t)){var R=t.selection.getNode();setTimeout(function(){S(R)&&K(!W.shiftKey&&T===f.UP,R,W)},0)}}t.on("KeyDown",function(l){i(l)})}function o(){function i(s,r){var I=r.ownerDocument,u=I.createRange(),l;return u.setStartBefore(r),u.setEnd(s.endContainer,s.endOffset),l=I.createElement("body"),l.appendChild(u.cloneContents()),0===l.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}t.on("KeyDown",function(s){var u,r,n=t.dom;(37==s.keyCode||38==s.keyCode)&&(u=t.selection.getRng(),r=n.getParent(u.startContainer,"table"),r&&t.getBody().firstChild==r&&i(u,r)&&(u=n.createRng(),u.setStartBefore(r),u.setEndBefore(r),t.selection.setRng(u),s.preventDefault()))})}function e(){t.on("KeyDown SetContent VisualAid",function(){var i;for(i=t.getBody().lastChild;i;i=i.previousSibling){if(3==i.nodeType){if(i.nodeValue.length>0){break}}else{if(1==i.nodeType&&("BR"==i.tagName||!i.getAttribute("data-mce-bogus"))){break}}}i&&"TABLE"==i.nodeName&&(t.settings.forced_root_block?t.dom.add(t.getBody(),t.settings.forced_root_block,t.settings.forced_root_block_attrs,d.ie&&d.ie<11?"&nbsp;":'<br data-mce-bogus="1" />'):t.dom.add(t.getBody(),"br",{"data-mce-bogus":"1"}))}),t.on("PreProcess",function(l){var i=l.node.lastChild;i&&("BR"==i.nodeName||1==i.childNodes.length&&("BR"==i.firstChild.nodeName||"\xa0"==i.firstChild.nodeValue))&&i.previousSibling&&"TABLE"==i.previousSibling.nodeName&&t.dom.remove(i)})}function m(){function l(M,O,J,I){var N=3,K=M.dom.getParent(O.startContainer,"TABLE"),u,L,P;return K&&(u=K.parentNode),L=O.startContainer.nodeType==N&&0===O.startOffset&&0===O.endOffset&&I&&("TR"==J.nodeName||J==u),P=("TD"==J.nodeName||"TH"==J.nodeName)&&!I,L||P}function i(){var s=t.selection.getRng(),u=t.selection.getNode(),r=t.dom.getParent(s.startContainer,"TD,TH");if(l(t,s,u,r)){r||(r=u);for(var n=r.lastChild;n.lastChild;){n=n.lastChild}3==n.nodeType&&(s.setEnd(n,n.data.length),t.selection.setRng(s))}}t.on("KeyDown",function(){i()}),t.on("MouseDown",function(n){2!=n.button&&i()})}function p(){t.on("keydown",function(r){if((r.keyCode==f.DELETE||r.keyCode==f.BACKSPACE)&&!r.isDefaultPrevented()){var s=t.dom.getParent(t.selection.getStart(),"table");if(s){for(var n=t.dom.select("td,th",s),i=n.length;i--;){if(!t.dom.hasClass(n[i],"mce-item-selected")){return}}r.preventDefault(),t.execCommand("mceTableDelete")}}})}p(),d.webkit&&(a(),m()),d.gecko&&(o(),e()),d.ie>10&&(o(),e())}}),k(A,[H,z,D],function(c,a,d){return function(p){function f(){p.getBody().style.webkitUserSelect="",n&&(p.dom.removeClass(p.dom.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"),n=!1)}function e(s){var I,o,i=s.target;if(h&&(g||i!=h)&&("TD"==i.nodeName||"TH"==i.nodeName)){o=m.getParent(i,"table"),o==t&&(g||(g=new c(p,o),g.setStartCell(h),p.getBody().style.webkitUserSelect="none"),g.setEndCell(i),n=!0),I=p.selection.getSel();try{I.removeAllRanges?I.removeAllRanges():I.empty()}catch(r){}s.preventDefault()}}var m=p.dom,g,h,t,n=!0;return p.on("MouseDown",function(i){2!=i.button&&(f(),h=m.getParent(i.target,"td,th"),t=m.getParent(h,"table"))}),p.on("mouseover",e),p.on("remove",function(){m.unbind(p.getDoc(),"mouseover",e)}),p.on("MouseUp",function(){function J(L,M){var u=new a(L,L);do{if(3==L.nodeType&&0!==d.trim(L.nodeValue).length){return void (M?r.setStart(L,0):r.setEnd(L,L.nodeValue.length))}if("BR"==L.nodeName){return void (M?r.setStartBefore(L):r.setEndBefore(L))}}while(L=M?u.next():u.prev())}var r,o=p.selection,K,s,i,I;if(h){if(g&&(p.getBody().style.webkitUserSelect=""),K=m.select("td.mce-item-selected,th.mce-item-selected"),K.length>0){r=m.createRng(),i=K[0],r.setStartBefore(i),r.setEndAfter(i),J(i,1),s=new a(i,m.getParent(K[0],"table"));do{if("TD"==i.nodeName||"TH"==i.nodeName){if(!m.hasClass(i,"mce-item-selected")){break}I=i}}while(i=s.next());J(I),o.setRng(r)}p.nodeChanged(),h=g=t=null}}),p.on("KeyUp Drop",function(){f(),h=g=t=null}),{clear:f}}}),k(j,[H,F,A,D,z,C,y],function(m,u,f,d,p,g,c){function h(ab){function O(a){return a?a.replace(/px$/,""):""}function U(a){return/^[0-9]+$/.test(a)&&(a+="px"),a}function Z(a){I("left center right".split(" "),function(i){ab.formatter.remove("align"+i,{},a)})}function Y(a){I("top middle bottom".split(" "),function(i){ab.formatter.remove("valign"+i,{},a)})}function L(i,a){return d.each(a,function(r){r.textStyle=function(){return ab.formatter.getCssText({block:i,classes:[r.value]})}}),a}function Q(T,R,ac,a){var S,N=[];return d.each(ab.settings[R]||a,function(i){var r={text:i.text||i.title,value:i.value};N.push(r),(T[ac]===i.value||!S&&i.selected)&&(S=r)}),S&&(T[ac]=S.value,S.selected=!0),N}function X(){var N=ab.dom,a,S,R,r,i;a=N.getParent(ab.selection.getStart(),"table"),i={width:O(N.getStyle(a,"width")||N.getAttrib(a,"width")),height:O(N.getStyle(a,"height")||N.getAttrib(a,"height")),cellspacing:a?N.getAttrib(a,"cellspacing"):"",cellpadding:a?N.getAttrib(a,"cellpadding"):"",border:a?N.getAttrib(a,"border"):"",caption:!!N.select("caption",a)[0],"class":N.getAttrib(a,"class")},I("left center right".split(" "),function(T){ab.formatter.matchNode(a,"align"+T)&&(i.align=T)}),a||(S={label:"Cols",name:"cols"},R={label:"Rows",name:"rows"}),ab.settings.table_class_list&&(i["class"]&&(i["class"]=i["class"].replace(/\s*mce\-item\-table\s*/g,"")),r={name:"class",type:"listbox",label:"Class",values:L("table",Q(i,"table_class_list","class"))}),ab.windowManager.open({title:"Table properties",items:{type:"form",layout:"flex",direction:"column",labelGapCalc:"children",items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,data:i,defaults:{type:"textbox",maxWidth:50},items:[S,R,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},r]},onsubmit:function(){var T;i=d.extend(i,this.toJSON()),ab.undoManager.transact(function(){a||(a=K(i.cols||1,i.rows||1)),ab.dom.setAttribs(a,{cellspacing:i.cellspacing,cellpadding:i.cellpadding,border:i.border,"class":i["class"]}),ab.dom.setStyles(a,{width:U(i.width),height:U(i.height)}),T=N.select("caption",a)[0],T&&!i.caption&&N.remove(T),!T&&i.caption&&(T=N.create("caption"),T.innerHTML=g.ie?"\xa0":'<br data-mce-bogus="1"/>',a.insertBefore(T,a.firstChild)),Z(a),i.align&&ab.formatter.apply("align"+i.align,{},a),ab.focus(),ab.addVisual()})}})}function W(i,a){ab.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var r=this.toJSON();ab.undoManager.transact(function(){i.merge(a,r.cols,r.rows)})}})}function P(){var N=ab.dom,i,R,a,r=[];r=ab.dom.select("td.mce-item-selected,th.mce-item-selected"),i=ab.dom.getParent(ab.selection.getStart(),"td,th"),!r.length&&i&&r.push(i),i=i||r[0],i&&(R={width:O(N.getStyle(i,"width")||N.getAttrib(i,"width")),height:O(N.getStyle(i,"height")||N.getAttrib(i,"height")),scope:N.getAttrib(i,"scope"),"class":N.getAttrib(i,"class")},R.type=i.nodeName.toLowerCase(),I("left center right".split(" "),function(S){ab.formatter.matchNode(i,"align"+S)&&(R.align=S)}),I("top middle bottom".split(" "),function(S){ab.formatter.matchNode(i,"valign"+S)&&(R.valign=S)}),ab.settings.table_cell_class_list&&(a={name:"class",type:"listbox",label:"Class",values:L("td",Q(R,"table_cell_class_list","class"))}),ab.windowManager.open({title:"Cell properties",items:{type:"form",layout:"flex",direction:"column",labelGapCalc:"children",items:[{type:"form",data:R,layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},a]},onsubmit:function(){R=d.extend(R,this.toJSON()),ab.undoManager.transact(function(){I(r,function(S){ab.dom.setAttribs(S,{scope:R.scope,"class":R["class"]}),ab.dom.setStyles(S,{width:U(R.width),height:U(R.height)}),R.type&&S.nodeName.toLowerCase()!=R.type&&(S=N.rename(S,R.type)),Z(S),R.align&&ab.formatter.apply("align"+R.align,{},S),Y(S),R.valign&&ab.formatter.apply("valign"+R.valign,{},S)}),ab.focus()})}}))}function V(){var R=ab.dom,i,T,a,S,N,r=[];i=ab.dom.getParent(ab.selection.getStart(),"table"),T=ab.dom.getParent(ab.selection.getStart(),"td,th"),I(i.rows,function(ac){I(ac.cells,function(ad){return R.hasClass(ad,"mce-item-selected")||ad==T?(r.push(ac),!1):void 0})}),a=r[0],a&&(N={height:O(R.getStyle(a,"height")||R.getAttrib(a,"height")),scope:R.getAttrib(a,"scope"),"class":R.getAttrib(a,"class")},N.type=a.parentNode.nodeName.toLowerCase(),I("left center right".split(" "),function(ac){ab.formatter.matchNode(a,"align"+ac)&&(N.align=ac)}),ab.settings.table_row_class_list&&(S={name:"class",type:"listbox",label:"Class",values:L("tr",Q(N,"table_row_class_list","class"))}),ab.windowManager.open({title:"Row properties",items:{type:"form",data:N,columns:2,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"None",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},S]},onsubmit:function(){var ad,ae,ac;N=d.extend(N,this.toJSON()),ab.undoManager.transact(function(){var af=N.type;I(r,function(ag){ab.dom.setAttribs(ag,{scope:N.scope,"class":N["class"]}),ab.dom.setStyles(ag,{height:U(N.height)}),af!=ag.parentNode.nodeName.toLowerCase()&&(ad=R.getParent(ag,"table"),ae=ag.parentNode,ac=R.select(af,ad)[0],ac||(ac=R.create(af),ad.firstChild?ad.insertBefore(ac,ad.firstChild):ad.appendChild(ac)),ac.appendChild(ag),ae.hasChildNodes()||R.remove(ae)),Z(ag),N.align&&ab.formatter.apply("align"+N.align,{},ag)}),ab.focus()})}}))}function aa(a){return function(){ab.execCommand(a)}}function K(S,N){var ac,T,R;for(R='<table id="__mce"><tbody>',ac=0;N>ac;ac++){for(R+="<tr>",T=0;S>T;T++){R+="<td>"+(g.ie?" ":"<br>")+"</td>"}R+="</tr>"}R+="</tbody></table>",ab.insertContent(R);var a=ab.dom.get("__mce");return ab.dom.setAttrib(a,"id",null),ab.dom.setAttribs(a,ab.settings.table_default_attributes||{}),ab.dom.setStyles(a,ab.settings.table_default_styles||{}),a}function t(i,a){function r(){i.disabled(!ab.dom.getParent(ab.selection.getStart(),a)),ab.selection.selectorChanged(a,function(N){i.disabled(!N)})}ab.initialized?r():ab.on("init",r)}function s(){t(this,"table")}function J(){t(this,"td,th")}function M(){var i="";i='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var a=0;10>a;a++){i+="<tr>";for(var r=0;10>r;r++){i+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*a+r)+'" href="#" data-mce-x="'+r+'" data-mce-y="'+a+'"></a></td>'}i+="</tr>"}return i+="</table>",i+='<div class="mce-text-center" role="presentation">1 x 1</div>'}function n(ac,af,R){var N=R.getEl().getElementsByTagName("table")[0],S,a,T,ag,ae,ad=R.isRtl()||"tl-tr"==R.parent().rel;for(N.nextSibling.innerHTML=ac+1+" x "+(af+1),ad&&(ac=9-ac),a=0;10>a;a++){for(S=0;10>S;S++){ag=N.rows[a].childNodes[S].firstChild,ae=(ad?S>=ac:ac>=S)&&af>=a,ab.dom.toggleClass(ag,"mce-active",ae),ae&&(T=ag)}}return T.parentNode}var o,l=this;ab.settings.table_grid===!1?ab.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",onclick:X}):ab.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(a){a.aria&&(this.parent().hideAll(),a.stopImmediatePropagation(),X())},onshow:function(){n(0,0,this.menu.items()[0])},onhide:function(){var a=this.menu.items()[0].getEl().getElementsByTagName("a");ab.dom.removeClass(a,"mce-active"),ab.dom.addClass(a[0],"mce-active")},menu:[{type:"container",html:M(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(i){var a=i.target,N,r;"A"==a.tagName.toUpperCase()&&(N=parseInt(a.getAttribute("data-mce-x"),10),r=parseInt(a.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(N=9-N),(N!==this.lastX||r!==this.lastY)&&(n(N,r,i.control),this.lastX=N,this.lastY=r))},onkeydown:function(i){var a=this.lastX,N=this.lastY,r;switch(i.keyCode){case 37:a>0&&(a--,r=!0);break;case 39:r=!0,9>a&&a++;break;case 38:r=!0,N>0&&N--;break;case 40:r=!0,9>N&&N++}r&&(i.preventDefault(),i.stopPropagation(),n(a,N,i.control).focus(),this.lastX=a,this.lastY=N)},onclick:function(i){var a=this;"A"==i.target.tagName.toUpperCase()&&(i.preventDefault(),i.stopPropagation(),a.parent().cancel(),ab.undoManager.transact(function(){K(a.lastX+1,a.lastY+1)}),ab.addVisual())}}]}),ab.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:s,onclick:X}),ab.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:s,cmd:"mceTableDelete"}),ab.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:aa("mceTableCellProps"),onPostRender:J},{text:"Merge cells",onclick:aa("mceTableMergeCells"),onPostRender:J},{text:"Split cell",onclick:aa("mceTableSplitCells"),onPostRender:J}]}),ab.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:aa("mceTableInsertRowBefore"),onPostRender:J},{text:"Insert row after",onclick:aa("mceTableInsertRowAfter"),onPostRender:J},{text:"Delete row",onclick:aa("mceTableDeleteRow"),onPostRender:J},{text:"Row properties",onclick:aa("mceTableRowProps"),onPostRender:J},{text:"-"},{text:"Cut row",onclick:aa("mceTableCutRow"),onPostRender:J},{text:"Copy row",onclick:aa("mceTableCopyRow"),onPostRender:J},{text:"Paste row before",onclick:aa("mceTablePasteRowBefore"),onPostRender:J},{text:"Paste row after",onclick:aa("mceTablePasteRowAfter"),onPostRender:J}]}),ab.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:aa("mceTableInsertColBefore"),onPostRender:J},{text:"Insert column after",onclick:aa("mceTableInsertColAfter"),onPostRender:J},{text:"Delete column",onclick:aa("mceTableDeleteCol"),onPostRender:J}]});var e=[];I("inserttable tableprops deletetable | cell row column".split(" "),function(a){e.push("|"==a?{text:"-"}:ab.menuItems[a])}),ab.addButton("table",{type:"menubutton",title:"Table",menu:e}),g.isIE||ab.on("click",function(a){a=a.target,"TABLE"===a.nodeName&&(ab.selection.select(a),ab.nodeChanged())}),l.quirks=new u(ab),ab.on("Init",function(){l.cellSelection=new f(ab)}),I({mceTableSplitCells:function(a){a.split()},mceTableMergeCells:function(i){var a;a=ab.dom.getParent(ab.selection.getStart(),"th,td"),ab.dom.select("td.mce-item-selected,th.mce-item-selected").length?i.merge():W(i,a)},mceTableInsertRowBefore:function(a){a.insertRow(!0)},mceTableInsertRowAfter:function(a){a.insertRow()},mceTableInsertColBefore:function(a){a.insertCol(!0)},mceTableInsertColAfter:function(a){a.insertCol()},mceTableDeleteCol:function(a){a.deleteCols()},mceTableDeleteRow:function(a){a.deleteRows()},mceTableCutRow:function(a){o=a.cutRows()},mceTableCopyRow:function(a){o=a.copyRows()},mceTablePasteRowBefore:function(a){a.pasteRows(o,!0)},mceTablePasteRowAfter:function(a){a.pasteRows(o)},mceTableDelete:function(a){a.deleteTable()}},function(a,i){ab.addCommand(i,function(){var r=new m(ab);r&&(a(r),ab.execCommand("mceRepaint"),l.cellSelection.clear())})}),I({mceInsertTable:function(){X()},mceTableRowProps:V,mceTableCellProps:P},function(i,a){ab.addCommand(a,function(r,N){i(N)})}),ab.settings.table_tab_navigation!==!1&&ab.on("keydown",function(i){var N,r,a;9==i.keyCode&&(N=ab.dom.getParent(ab.selection.getStart(),"th,td"),N&&(i.preventDefault(),r=new m(ab),a=i.shiftKey?-1:1,ab.undoManager.transact(function(){!r.moveRelIdx(N,a)&&a>0&&(r.insertRow(),r.refresh(),r.moveRelIdx(N,a))})))})}var I=d.each;c.add("table",h)}),b([])}(this);