!function(g){function d(){function e(i){"remove"===i&&this.each(function(o,m){var p=j(m);p&&p.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(o,m){var p=tinymce.get(m.id.replace(/_parent$/,""));p&&p.remove()})}function a(o){var p,m=this;if(null!=o){e.call(m),m.each(function(r,s){var q;(q=tinymce.get(s.id))&&q.setContent(o)})}else{if(m.length>0&&(p=tinymce.get(m[0].id))){return p.getContent()}}}function j(m){var i=null;return m&&m.id&&b.tinymce&&(i=tinymce.get(m.id)),i}function l(i){return !!(i&&i.length&&b.tinymce&&i.is(":tinymce"))}var k={};g.each(["text","html","val"],function(n,i){var m=k[i]=g.fn[i],o="text"===i;g.fn[i]=function(r){var q=this;if(!l(q)){return m.apply(q,arguments)}if(r!==h){return a.call(q.filter(":tinymce"),r),m.apply(q.not(":tinymce"),arguments),q}var s="",p=arguments;return(o?q:q.eq(0)).each(function(v,w){var u=j(w);s+=u?o?u.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):u.getContent({save:!0}):m.apply(g(w),p)}),s}}),g.each(["append","prepend"],function(p,o){var m=k[o]=g.fn[o],n="prepend"===o;g.fn[o]=function(q){var i=this;return l(i)?q!==h?(i.filter(":tinymce").each(function(s,u){var r=j(u);r&&r.setContent(n?q+r.getContent():r.getContent()+q)}),m.apply(i.not(":tinymce"),arguments),i):void 0:m.apply(i,arguments)}}),g.each(["remove","replaceWith","replaceAll","empty"],function(p,m){var o=k[m]=g.fn[m];g.fn[m]=function(){return e.call(this,m),o.apply(this,arguments)}}),k.attr=g.fn.attr,g.fn.attr=function(q,o){var p=this,r=arguments;if(!q||"value"!==q||!l(p)){return o!==h?k.attr.apply(p,r):k.attr.apply(p,r)}if(o!==h){return a.call(p.filter(":tinymce"),o),k.attr.apply(p.not(":tinymce"),r),p}var n=p[0],i=j(n);return i?i.getContent({save:!0}):k.attr.apply(g(n),r)}}var h,c,f=[],b=window;g.fn.tinymce=function(i){function r(){var l=[],m=0;k||(d(),k=!0),j.each(function(s,p){var n,w=p.id,u=i.oninit;w||(p.id=w=tinymce.DOM.uniqueId()),tinymce.get(w)||(n=new tinymce.Editor(w,i,tinymce.EditorManager),l.push(n),n.on("init",function(){var x,o=u;j.css("visibility",""),u&&++m==l.length&&("string"==typeof o&&(x=-1===o.indexOf(".")?null:tinymce.resolve(o.replace(/\.\w+$/,"")),o=tinymce.resolve(o)),o.apply(x||tinymce,l))}))}),g.each(l,function(o,n){n.render()})}var e,t,v,k,j=this,a="";if(!j.length){return j}if(!i){return window.tinymce?tinymce.get(j[0].id):null}if(j.css("visibility","hidden"),b.tinymce||c||!(e=i.script_url)){1===c?f.push(r):r()}else{c=1,t=e.substring(0,e.lastIndexOf("/")),-1!=e.indexOf(".min")&&(a=".min"),b.tinymce=b.tinyMCEPreInit||{base:t,suffix:a},-1!=e.indexOf("gzip")&&(v=i.language||"en",e=e+(/\?/.test(e)?"&":"?")+"js=true&core=true&suffix="+escape(a)+"&themes="+escape(i.theme||"modern")+"&plugins="+escape(i.plugins||"")+"&languages="+(v||""),b.tinyMCE_GZ||(b.tinyMCE_GZ={start:function(){function l(m){tinymce.ScriptLoader.markDone(tinymce.baseURI.toAbsolute(m))}l("langs/"+v+".js"),l("themes/"+i.theme+"/theme"+a+".js"),l("themes/"+i.theme+"/langs/"+v+".js"),g.each(i.plugins.split(","),function(m,o){o&&(l("plugins/"+o+"/plugin"+a+".js"),l("plugins/"+o+"/langs/"+v+".js"))})},end:function(){}}));var q=document.createElement("script");q.type="text/javascript",q.onload=q.onreadystatechange=function(l){l=l||window.event,2===c||"load"!=l.type&&!/complete|loaded/.test(q.readyState)||(tinymce.dom.Event.domLoaded=1,c=2,i.script_loaded&&i.script_loaded(),r(),g.each(f,function(n,m){m()}))},q.src=e,document.body.appendChild(q)}return j},g.extend(g.expr[":"],{tinymce:function(a){return !!(a.id&&"tinymce" in window&&tinymce.get(a.id))}})}(jQuery);