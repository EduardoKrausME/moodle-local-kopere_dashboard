tinymce.PluginManager.add("fullscreen",function(j){function p(){var r,o,s=window,d=document,c=d.body;return c.offsetWidth&&(r=c.offsetWidth,o=c.offsetHeight),s.innerWidth&&s.innerHeight&&(r=s.innerWidth,o=s.innerHeight),{w:r,h:o}}function f(){function r(){k.setStyle(d,"height",p().h-(i.clientHeight-d.clientHeight))}var e,i,d,o,c=document.body,l=document.documentElement;q=!q,i=j.getContainer(),e=i.style,d=j.getContentAreaContainer().firstChild,o=d.style,q?(h=o.width,g=o.height,o.width=o.height="100%",m=e.width,b=e.height,e.width=e.height="",k.addClass(c,"mce-fullscreen"),k.addClass(l,"mce-fullscreen"),k.addClass(i,"mce-fullscreen"),k.bind(window,"resize",r),r(),a=r):(o.width=h,o.height=g,m&&(e.width=m),b&&(e.height=b),k.removeClass(c,"mce-fullscreen"),k.removeClass(l,"mce-fullscreen"),k.removeClass(i,"mce-fullscreen"),k.unbind(window,"resize",a)),j.fire("FullscreenStateChanged",{state:q})}var h,g,a,m,b,q=!1,k=tinymce.DOM;return j.settings.inline?void 0:(j.on("init",function(){j.addShortcut("Ctrl+Alt+F","",f)}),j.on("remove",function(){a&&k.unbind(window,"resize",a)}),j.addCommand("mceFullScreen",f),j.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Alt+F",selectable:!0,onClick:f,onPostRender:function(){var c=this;j.on("FullscreenStateChanged",function(d){c.active(d.state)})},context:"view"}),j.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Ctrl+Alt+F",onClick:f,onPostRender:function(){var c=this;j.on("FullscreenStateChanged",function(d){c.active(d.state)})}}),{isFullscreen:function(){return q}})});