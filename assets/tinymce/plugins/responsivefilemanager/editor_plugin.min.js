(function(){tinymce.create("tinymce.plugins.ResponsiveFileManager",{init:function(c,b){function a(){c.focus(true);var i="RESPONSIVE FileManager";if(typeof c.settings.filemanager_title!=="undefined"&&c.settings.filemanager_title){i=c.settings.filemanager_title}var j="key";if(typeof c.settings.filemanager_access_key!=="undefined"&&c.settings.filemanager_access_key){j=c.settings.filemanager_access_key}var f="";if(typeof c.settings.filemanager_sort_by!=="undefined"&&c.settings.filemanager_sort_by){f="&sort_by="+c.settings.filemanager_sort_by}var h="false";if(typeof c.settings.filemanager_descending!=="undefined"&&c.settings.filemanager_descending){h=c.settings.filemanager_descending}var g="";if(typeof c.settings.filemanager_subfolder!=="undefined"&&c.settings.filemanager_subfolder){g="&fldr="+c.settings.filemanager_subfolder}var e=2;if(typeof c.settings.filemanager_type!=="undefined"&&c.settings.filemanager_type){if($.isNumeric(c.settings.filemanager_type)===true&&c.settings.filemanager_type>0&&c.settings.filemanager_type<=3){e=c.settings.filemanager_type}else{if(c.settings.filemanager_type=="image"){e=1}else{if(c.settings.filemanager_type=="media"){e=3}else{e=2}}}}win=c.windowManager.open({title:i,file:c.settings.external_filemanager_path+"dialog.php?type=4&descending="+h+f+g+"&lang="+c.settings.language+"&akey="+j,width:860,height:570,inline:1,resizable:true,maximizable:true})}c.settings.file_browser_callback=d;function d(f,m,j,i){urltype=2;if(j=="image"){urltype=1}if(j=="media"){urltype=3}var l="RESPONSIVE FileManager";if(typeof c.settings.filemanager_title!=="undefined"&&c.settings.filemanager_title){l=c.settings.filemanager_title}var h="key";if(typeof c.settings.filemanager_access_key!=="undefined"&&c.settings.filemanager_access_key){h=c.settings.filemanager_access_key}var k="";if(typeof c.settings.filemanager_sort_by!=="undefined"&&c.settings.filemanager_sort_by){k="&sort_by="+c.settings.filemanager_sort_by}var g="false";if(typeof c.settings.filemanager_descending!=="undefined"&&c.settings.filemanager_descending){g=c.settings.filemanager_descending}var e="";if(typeof c.settings.filemanager_subfolder!=="undefined"&&c.settings.filemanager_subfolder){e="&fldr="+c.settings.filemanager_subfolder}tinymce.activeEditor.windowManager.open({title:l,file:c.settings.external_filemanager_path+"dialog.php?type="+urltype+"&descending="+g+k+e+"&lang="+c.settings.language+"&akey="+h,width:860,height:570,resizable:true,maximizable:true,inline:1},{setUrl:function(o){var p=i.document.getElementById(f);p.value=c.convertURL(o);if("fireEvent" in p){p.fireEvent("onchange")}else{var n=document.createEvent("HTMLEvents");n.initEvent("change",false,true);p.dispatchEvent(n)}}})}c.addButton("responsivefilemanager",{title:"Browse files",image:b+"/img/insertfile.gif",shortcut:"Ctrl+E",onclick:a})}});tinymce.PluginManager.add("responsivefilemanager",tinymce.plugins.ResponsiveFileManager)})();