(function(b){function e(){var e=document.createElement("input"),t="onpaste";e.setAttribute(t,"");return typeof e[t]==="function"?"paste":"input"}var i=e()+".mask",t=navigator.userAgent,j=/iphone/i.test(t),Q=/android/i.test(t),_;b.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"};b.fn.extend({caret:function(e,t){var n;if(this.length===0||this.is(":hidden")){return}if(typeof e=="number"){t=typeof t==="number"?t:e;return this.each(function(){if(this.setSelectionRange){this.setSelectionRange(e,t)}else if(this.createTextRange){n=this.createTextRange();n.collapse(true);n.moveEnd("character",t);n.moveStart("character",e);n.select()}})}else{if(this[0].setSelectionRange){e=this[0].selectionStart;t=this[0].selectionEnd}else if(document.selection&&document.selection.createRange){n=document.selection.createRange();e=0-n.duplicate().moveStart("character",-1e5);t=e+n.text.length}return{begin:e,end:t}}},unmask:function(){return this.trigger("unmask")},mask:function(n,d){var e,a,k,v,g,y;if(!n&&this.length>0){e=b(this[0]);return e.data(b.mask.dataName)()}d=b.extend({placeholder:b.mask.placeholder,completed:null},d);a=b.mask.definitions;k=[];v=y=n.length;g=null;b.each(n.split(""),function(e,t){if(t=="?"){y--;v=e}else if(a[t]){k.push(new RegExp(a[t]));if(g===null){g=k.length-1}}else{k.push(null)}});return this.trigger("unmask").each(function(){var s=b(this),u=b.map(n.split(""),function(e,t){if(e!="?"){return a[e]?d.placeholder:e}}),r=s.val();function l(e){while(++e<y&&!k[e]);return e}function c(e){while(--e>=0&&!k[e]);return e}function o(e,t){var n,a;if(e<0){return}for(n=e,a=l(t);n<y;n++){if(k[n]){if(a<y&&k[n].test(u[a])){u[n]=u[a];u[a]=d.placeholder}else{break}a=l(a)}}h();s.caret(Math.max(g,e))}function f(e){var t,n,a,i;for(t=e,n=d.placeholder;t<y;t++){if(k[t]){a=l(t);i=u[t];u[t]=n;if(a<y&&k[a].test(i)){n=i}else{break}}}}function e(e){var t=e.which,n,a,i;if(t===8||t===46||j&&t===127){n=s.caret();a=n.begin;i=n.end;if(i-a===0){a=t!==46?c(a):i=l(a-1);i=t===46?l(i):i}p(a,i);o(a,i-1);e.preventDefault()}else if(t==27){s.val(r);s.caret(0,m());e.preventDefault()}}function t(e){var t=e.which,n=s.caret(),a,i,r;if(e.ctrlKey||e.altKey||e.metaKey||t<32){return}else if(t){if(n.end-n.begin!==0){p(n.begin,n.end);o(n.begin,n.end-1)}a=l(n.begin-1);if(a<y){i=String.fromCharCode(t);if(k[a].test(i)){f(a);u[a]=i;h();r=l(a);if(Q){setTimeout(b.proxy(b.fn.caret,s,r),0)}else{s.caret(r)}if(d.completed&&r>=y){d.completed.call(s)}}}e.preventDefault()}}function p(e,t){var n;for(n=e;n<t&&n<y;n++){if(k[n]){u[n]=d.placeholder}}}function h(){s.val(u.join(""))}function m(e){var t=s.val(),n=-1,a,i;for(a=0,pos=0;a<y;a++){if(k[a]){u[a]=d.placeholder;while(pos++<t.length){i=t.charAt(pos-1);if(k[a].test(i)){u[a]=i;n=a;break}}if(pos>t.length){break}}else if(u[a]===t.charAt(pos)&&a!==v){pos++;n=a}}if(e){h()}else if(n+1<v){s.val("");p(0,y)}else{h();s.val(s.val().substring(0,n+1))}return v?a:g}s.data(b.mask.dataName,function(){return b.map(u,function(e,t){return k[t]&&e!=d.placeholder?e:null}).join("")});if(!s.attr("readonly"))s.one("unmask",function(){s.unbind(".mask").removeData(b.mask.dataName)}).bind("focus.mask",function(){clearTimeout(_);var e,t;r=s.val();e=m();_=setTimeout(function(){h();if(e==n.length){s.caret(0,e)}else{s.caret(e)}},10)}).bind("blur.mask",function(){m();if(s.val()!=r)s.change()}).bind("keydown.mask",e).bind("keypress.mask",t).bind(i,function(){setTimeout(function(){var e=m(true);s.caret(e);if(d.completed&&e==s.val().length)d.completed.call(s)},0)});m()})}})})(jQuery);function mackInputs(){jQuery("input.mask_phone").mask("(99) 9999-9999");jQuery("input.mask_celphone").mask("(99) 9 9999-9999");jQuery("input.mask_cep").mask("99999-999");jQuery("input.mask_cpf,input.val_cpf").mask("999.999.999-99");jQuery("input.mask_cnpj").mask("99.999.999/9999-99");jQuery("input.mask_datahora").mask("99/99/9999 99:99");jQuery("input.mask_data").mask("99/99/9999");jQuery("input.mask_relatorioData").mask("9999-99");jQuery("input.mask_int").keyup(function(){var e=jQuery(this).val();jQuery(this).val(e.replace(/[^\d]/,""))});jQuery("input.mask_float").keyup(function(){var e=jQuery(this).val();jQuery(this).val(e.replace(/[^\d,]/,""))});jQuery("input.mask_valor").keyup(function(){var e=jQuery(this).val();e=e.replace(/[^\d]/,"");e=parseInt(e).toString();if(e=="NaN")e="";e=e.substr(0,e.length-2)+","+e.substr(e.length-2,e.length);jQuery(this).val(e)})}