tinymce.PluginManager.add("advlist",function(f){function g(a,i){var k=[];return tinymce.each(i.split(/[ ,]/),function(e){k.push({text:e.replace(/\-/g," ").replace(/\b\w/g,function(l){return l.toUpperCase()}),data:"default"==e?"":e})}),k}function j(m,q){var p,k=f.dom,i=f.selection;p=k.getParent(i.getNode(),"ol,ul"),p&&p.nodeName==m&&q!==!1||f.execCommand("UL"==m?"InsertUnorderedList":"InsertOrderedList"),q=q===!1?d[m]:q,d[m]=q,p=k.getParent(i.getNode(),"ol,ul"),p&&(k.setStyle(p,"listStyleType",q),p.removeAttribute("data-mce-style")),f.focus()}function h(a){var i=f.dom.getStyle(f.dom.getParent(f.selection.getNode(),"ol,ul"),"listStyleType")||"";a.control.items().each(function(e){e.active(e.settings.data===i)})}var c,b,d={};c=g("OL",f.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman")),b=g("UL",f.getParam("advlist_bullet_styles","default,circle,disc,square")),f.addButton("numlist",{type:"splitbutton",tooltip:"Numbered list",menu:c,onshow:h,onselect:function(a){j("OL",a.control.settings.data)},onclick:function(){j("OL",!1)}}),f.addButton("bullist",{type:"splitbutton",tooltip:"Bullet list",menu:b,onshow:h,onselect:function(a){j("UL",a.control.settings.data)},onclick:function(){j("UL",!1)}})});