!function(aV,aD){function aL(d,b){for(var f,c=[],a=0;a<d.length;++a){if(f=aE[d[a]]||aK(d[a]),!f){throw"module definition dependecy not found: "+d[a]}c.push(f)}b.apply(null,c)}function aF(c,b,a){if("string"!=typeof c){throw"invalid module definition, module id must be defined and be a string"}if(b===aD){throw"invalid module definition, dependencies must be specified"}if(a===aD){throw"invalid module definition, definition function must be specified"}aL(b,function(){aE[c]=a.apply(null,arguments)})}function aR(a){return !!aE[a]}function aK(b){for(var d=aV,c=b.split(/[.\/]/),a=0;a<c.length;++a){if(!d[c[a]]){return}d=d[c[a]]}return d}function a0(g){for(var e=0;e<g.length;e++){for(var d=aV,f=g[e],c=f.split(/[.\/]/),b=0;b<c.length-1;++b){d[c[b]]===aD&&(d[c[b]]={}),d=d[c[b]]}d[c[c.length-1]]=aE[f]}}var aE={},aO="tinymce/dom/Sizzle",aX="tinymce/html/Styles",aW="tinymce/dom/EventUtils",aC="tinymce/dom/TreeWalker",aU="tinymce/util/Tools",aJ="tinymce/dom/Range",aM="tinymce/html/Entities",aS="tinymce/Env",aT="tinymce/dom/StyleSheetLoader",aB="tinymce/dom/DOMUtils",aw="tinymce/dom/ScriptLoader",aZ="tinymce/AddOnManager",bz="tinymce/html/Node",ax="tinymce/html/Schema",ay="tinymce/html/SaxParser",a1="tinymce/html/DomParser",bx="tinymce/html/Writer",bm="tinymce/html/Serializer",aP="tinymce/dom/Serializer",bf="tinymce/dom/TridentSelection",bd="tinymce/util/VK",bh="tinymce/dom/ControlSelection",bC="tinymce/dom/RangeUtils",bB="tinymce/dom/Selection",by="tinymce/fmt/Preview",bp="tinymce/Formatter",bo="tinymce/UndoManager",bu="tinymce/EnterKey",bj="tinymce/ForceBlocks",bk="tinymce/EditorCommands",bs="tinymce/util/URI",bw="tinymce/util/Class",av="tinymce/util/EventDispatcher",a9="tinymce/ui/Selector",bb="tinymce/ui/Collection",bc="tinymce/ui/DomUtils",aI="tinymce/ui/Control",aQ="tinymce/ui/Factory",bM="tinymce/ui/KeyboardNavigation",bq="tinymce/ui/Container",a5="tinymce/ui/DragHelper",bv="tinymce/ui/Scrollable",a7="tinymce/ui/Panel",br="tinymce/ui/Movable",bi="tinymce/ui/Resizable",a4="tinymce/ui/FloatPanel",bX="tinymce/ui/Window",be="tinymce/ui/MessageBox",a6="tinymce/WindowManager",bR="tinymce/util/Quirks",ar="tinymce/util/Observable",az="tinymce/EditorObservable",bA="tinymce/Shortcuts",bH="tinymce/Editor",bP="tinymce/util/I18n",aq="tinymce/FocusManager",ai="tinymce/EditorManager",aG="tinymce/LegacyInput",bN="tinymce/util/XHR",al="tinymce/util/JSON",bF="tinymce/util/JSONRequest",a2="tinymce/util/JSONP",bD="tinymce/util/LocalStorage",an="tinymce/Compat",bJ="tinymce/ui/Layout",aY="tinymce/ui/AbsoluteLayout",a3="tinymce/ui/Tooltip",bT="tinymce/ui/Widget",af="tinymce/ui/Button",bW="tinymce/ui/ButtonGroup",ak="tinymce/ui/Checkbox",bI="tinymce/ui/PanelButton",aa="tinymce/ui/ColorButton",bU="tinymce/ui/ComboBox",bK="tinymce/ui/Path",ag="tinymce/ui/ElementPath",bO="tinymce/ui/FormItem",bE="tinymce/ui/Form",au="tinymce/ui/FieldSet",ae="tinymce/ui/FilePicker",bS="tinymce/ui/FitLayout",bG="tinymce/ui/FlexLayout",aH="tinymce/ui/FlowLayout",bg="tinymce/ui/FormatControls",a8="tinymce/ui/GridLayout",ac="tinymce/ui/Iframe",bl="tinymce/ui/Label",ap="tinymce/ui/Toolbar",aN="tinymce/ui/MenuBar",bn="tinymce/ui/MenuButton",ad="tinymce/ui/ListBox",aj="tinymce/ui/MenuItem",ba="tinymce/ui/Menu",am="tinymce/ui/Radio",bV="tinymce/ui/ResizeHandle",bQ="tinymce/ui/Spacer",ah="tinymce/ui/SplitButton",aA="tinymce/ui/StackLayout",ao="tinymce/ui/TabPanel",bL="tinymce/ui/TextBox",ab="tinymce/ui/Throbber";aF(aO,[],function(){if(!window.jQuery){throw new Error("Load jQuery first")}return jQuery.find}),aF(aX,[],function(){return function(k,w){function g(l,c,o,d){function a(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i}return"#"+a(c)+a(o)+a(d)}var b=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,j=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,q=/\s+$/,x,h,p={},m,v="\ufeff";for(k=k||{},m=("\\\" \\' \\; \\: ; : "+v).split(" "),h=0;h<m.length;h++){p[m[h]]=v+h,p[v+h]=m[h]}return{toHex:function(a){return a.replace(b,g)},parse:function(E){function F(H,y,J){var G,u,I,d;if(G=i[H+"-top"+y],G&&(u=i[H+"-right"+y],u&&(I=i[H+"-bottom"+y],I&&(d=i[H+"-left"+y])))){var C=[G,u,I,d];for(h=C.length-1;h--&&C[h]===C[h+1];){}h>-1&&J||(i[H+y]=-1==h?C[0]:C.join(" "),delete i[H+"-top"+y],delete i[H+"-right"+y],delete i[H+"-bottom"+y],delete i[H+"-left"+y])}}function o(s){var d=i[s],u;if(d){for(d=d.split(" "),u=d.length;u--;){if(d[u]!==d[0]){return !1}}return i[s]=d[0],!0}}function D(u,d,y,s){o(d)&&o(y)&&o(s)&&(i[u]=i[d]+" "+i[y]+" "+i[s],delete i[d],delete i[y],delete i[s])}function n(d){return r=!0,p[d]}function c(s,d){return r&&(s=s.replace(/\uFEFF[0-9]/g,function(t){return p[t]})),d||(s=s.replace(/\\([\'\";:])/g,"$1")),s}function e(y,I,G,u,H,d){if(H=H||d){return H=c(H),"'"+H.replace(/\'/g,"\\'")+"'"}if(I=c(I||G||u),!k.allow_script_urls){var C=I.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(C)){return""}if(!k.allow_svg_data_urls&&/^data:image\/svg/i.test(C)){return""}}return a&&(I=a.call(A,I,"style")),"url('"+I.replace(/\'/g,"\\'")+"')"}var i={},l,B,z,r,a=k.url_converter,A=k.url_converter_scope||this;if(E){for(E=E.replace(/[\u0000-\u001F]/g,""),E=E.replace(/\\[\"\';:\uFEFF]/g,n).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(d){return d.replace(/[;:]/g,n)});l=f.exec(E);){if(B=l[1].replace(q,"").toLowerCase(),z=l[2].replace(q,""),z=z.replace(/\\[0-9a-f]+/g,function(d){return String.fromCharCode(parseInt(d.substr(1),16))}),B&&z.length>0){if(!k.allow_script_urls&&("behavior"==B||/expression\s*\(|\/\*|\*\//.test(z))){continue}"font-weight"===B&&"700"===z?z="bold":("color"===B||"background-color"===B)&&(z=z.toLowerCase()),z=z.replace(b,g),z=z.replace(j,e),i[B]=r?c(z,!0):z}f.lastIndex=l.index+l[0].length}F("border","",!0),F("border","-width"),F("border","-color"),F("border","-style"),F("padding",""),F("margin",""),D("border","border-width","border-style","border-color"),"medium none"===i.border&&delete i.border,"none"===i["border-image"]&&delete i["border-image"]}return i},serialize:function(s,u){function l(A){var y,z,i,e;if(y=w.styles[A]){for(z=0,i=y.length;i>z;z++){A=y[z],e=s[A],e!==x&&e.length>0&&(d+=(d.length>0?" ":"")+A+": "+e+";")}}}var d="",t,c;if(u&&w&&w.styles){l("*"),l(u)}else{for(t in s){c=s[t],c!==x&&c.length>0&&(d+=(d.length>0?" ":"")+t+": "+c+";")}}return d}}}}),aF(aW,[],function(){function h(l,a,m,i){l.addEventListener?l.addEventListener(a,m,i||!1):l.attachEvent&&l.attachEvent("on"+a,m)}function d(l,a,m,i){l.removeEventListener?l.removeEventListener(a,m,i||!1):l.detachEvent&&l.detachEvent("on"+a,m)}function k(v,z){function p(){return !1}function a(){return !0}var s,m=z||{},q;for(s in v){f[s]||(m[s]=v[s])}if(m.target||(m.target=m.srcElement||document),v&&b.test(v.type)&&v.pageX===q&&v.clientX!==q){var x=m.target.ownerDocument||document,w=x.documentElement,y=x.body;m.pageX=v.clientX+(w&&w.scrollLeft||y&&y.scrollLeft||0)-(w&&w.clientLeft||y&&y.clientLeft||0),m.pageY=v.clientY+(w&&w.scrollTop||y&&y.scrollTop||0)-(w&&w.clientTop||y&&y.clientTop||0)}return m.preventDefault=function(){m.isDefaultPrevented=a,v&&(v.preventDefault?v.preventDefault():v.returnValue=!1)},m.stopPropagation=function(){m.isPropagationStopped=a,v&&(v.stopPropagation?v.stopPropagation():v.cancelBubble=!0)},m.stopImmediatePropagation=function(){m.isImmediatePropagationStopped=a,m.stopPropagation()},m.isDefaultPrevented||(m.isDefaultPrevented=p,m.isPropagationStopped=p,m.isImmediatePropagationStopped=p),m}function g(w,t,p){function u(){p.domLoaded||(p.domLoaded=!0,t(v))}function m(){("complete"===e.readyState||"interactive"===e.readyState&&e.body)&&(d(e,"readystatechange",m),u())}function q(){try{e.documentElement.doScroll("left")}catch(a){return void setTimeout(q,0)}u()}var e=w.document,v={type:"ready"};return p.domLoaded?void t(v):(e.addEventListener?"complete"===e.readyState?u():h(w,"DOMContentLoaded",u):(h(e,"readystatechange",m),e.documentElement.doScroll&&w.self===w.top&&q()),void h(w,"load",u))}function c(){function o(w,u){var y,v,s,x,l=p[u];if(y=l&&l[w.type]){for(v=0,s=y.length;s>v;v++){if(x=y[v],x&&x.func.call(x.scope,w)===!1&&w.preventDefault(),w.isImmediatePropagationStopped()){return}}}}var m=this,p={},e,t,r,n,q;t=j+(+new Date).toString(32),n="onmouseenter" in document.documentElement,r="onfocusin" in document.documentElement,q={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,m.domLoaded=!1,m.events=p,m.bind=function(H,l,i,s){function u(v){o(k(v||F.event),z)}var z,G,B,A,a,D,E,F=window;if(H&&3!==H.nodeType&&8!==H.nodeType){for(H[t]?z=H[t]:(z=e++,H[t]=z,p[z]={}),s=s||H,l=l.split(" "),B=l.length;B--;){A=l[B],D=u,a=E=!1,"DOMContentLoaded"===A&&(A="ready"),m.domLoaded&&"ready"===A&&"complete"==H.readyState?i.call(s,k({type:A})):(n||(a=q[A],a&&(D=function(x){var v,w;if(v=x.currentTarget,w=x.relatedTarget,w&&v.contains){w=v.contains(w)}else{for(;w&&w!==v;){w=w.parentNode}}w||(x=k(x||F.event),x.type="mouseout"===x.type?"mouseleave":"mouseenter",x.target=v,o(x,z))})),r||"focusin"!==A&&"focusout"!==A||(E=!0,a="focusin"===A?"focus":"blur",D=function(v){v=k(v||F.event),v.type="focus"===v.type?"focusin":"focusout",o(v,z)}),G=p[z][A],G?"ready"===A&&m.domLoaded?i({type:A}):G.push({func:i,scope:s}):(p[z][A]=G=[{func:i,scope:s}],G.fakeName=a,G.capture=E,G.nativeHandler=D,"ready"===A?g(H,D,m):h(H,a||A,D,E)))}return H=G=0,i}},m.unbind=function(D,w,a){var z,v,y,E,F,C;if(!D||3===D.nodeType||8===D.nodeType){return m}if(z=D[t]){if(C=p[z],w){for(w=w.split(" "),y=w.length;y--;){if(F=w[y],v=C[F]){if(a){for(E=v.length;E--;){if(v[E].func===a){var s=v.nativeHandler,x=v.fakeName,A=v.capture;v=v.slice(0,E).concat(v.slice(E+1)),v.nativeHandler=s,v.fakeName=x,v.capture=A,C[F]=v}}}a&&0!==v.length||(delete C[F],d(D,v.fakeName||F,v.nativeHandler,v.capture))}}}else{for(F in C){v=C[F],d(D,v.fakeName||F,v.nativeHandler,v.capture)}C={}}for(F in C){return m}delete p[z];try{delete D[t]}catch(B){D[t]=null}}return m},m.fire=function(l,a,i){var s;if(!l||3===l.nodeType||8===l.nodeType){return m}i=k(null,i),i.type=a,i.target=l;do{s=l[t],s&&o(i,s),l=l.parentNode||l.ownerDocument||l.defaultView||l.parentWindow}while(l&&!i.isPropagationStopped());return m},m.clean=function(l){var a,s,i=m.unbind;if(!l||3===l.nodeType||8===l.nodeType){return m}if(l[t]&&i(l),l.getElementsByTagName||(l=l.document),l&&l.getElementsByTagName){for(i(l),s=l.getElementsByTagName("*"),a=s.length;a--;){l=s[a],l[t]&&i(l)}}return m},m.destroy=function(){p={}},m.cancel=function(a){return a&&(a.preventDefault(),a.stopImmediatePropagation()),!1}}var j="mce-data-",b=/^(?:mouse|contextmenu)|click/,f={keyLocation:1,layerX:1,layerY:1,returnValue:1};return c.Event=new c,c.Event.bind(window,"ready",function(){}),c}),aF(aC,[],function(){return function(c,a){function d(j,l,h,g){var k,f;if(j){if(!g&&j[l]){return j[l]}if(j!=a){if(k=j[h]){return k}for(f=j.parentNode;f&&f!=a;f=f.parentNode){if(k=f[h]){return k}}}}}var b=c;this.current=function(){return b},this.next=function(f){return b=d(b,"firstChild","nextSibling",f)},this.prev=function(f){return b=d(b,"lastChild","previousSibling",f)}}}),aF(aU,[],function(){function A(a){return null===a||a===aD?"":(""+a).replace(x,"")}function q(a,c){return c?"array"==c&&y(a)?!0:typeof a==c:a!==aD}function b(d){var a=[],f,c;for(f=0,c=d.length;c>f;f++){a[f]=d[f]}return a}function w(d,a,f){var c;for(d=d||[],a=a||",","string"==typeof d&&(d=d.split(a)),f=f||{},c=d.length;c--;){f[d[c]]={}}return f}function k(d,g,c){var a,f;if(!d){return 0}if(c=c||d,d.length!==aD){for(a=0,f=d.length;f>a;a++){if(g.call(c,d[a],a,d)===!1){return 0}}}else{for(a in d){if(d.hasOwnProperty(a)&&g.call(c,d[a],a,d)===!1){return 0}}}return 1}function D(c,a){var d=[];return k(c,function(f){d.push(a(f))}),d}function F(c,a){var d=[];return k(c,function(f){(!a||a(f))&&d.push(f)}),d}function v(p,H,g){var d=this,m,f,G,I,h,u=0;if(p=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(p),G=p[3].match(/(^|\.)(\w+)$/i)[2],f=d.createNS(p[3].replace(/\.\w+$/,""),g),!f[G]){if("static"==p[2]){return f[G]=H,void (this.onCreate&&this.onCreate(p[2],p[3],f[G]))}H[G]||(H[G]=function(){},u=1),f[G]=H[G],d.extend(f[G].prototype,H),p[5]&&(m=d.resolve(p[5]).prototype,I=p[5].match(/\.(\w+)$/i)[1],h=f[G],f[G]=u?function(){return m[I].apply(this,arguments)}:function(){return this.parent=m[I],h.apply(this,arguments)},f[G].prototype[G]=f[G],d.each(m,function(c,a){f[G].prototype[a]=m[a]}),d.each(H,function(c,a){m[a]?f[G].prototype[a]=function(){return this.parent=m[a],c.apply(this,arguments)}:a!=G&&(f[G].prototype[a]=c)})),d.each(H["static"],function(c,a){f[G][a]=c})}}function C(d,a){var f,c;if(d){for(f=0,c=d.length;c>f;f++){if(d[f]===a){return f}}}return -1}function B(h,m){var g,d,l,c=arguments,f;for(g=1,d=c.length;d>g;g++){m=c[g];for(l in m){m.hasOwnProperty(l)&&(f=m[l],f!==aD&&(h[l]=f))}}return h}function E(d,a,f,c){c=c||this,d&&(f&&(d=d[f]),k(d,function(h,g){return a.call(c,h,g,f)===!1?!1:void E(h,a,f,c)}))}function z(d,a){var f,c;for(a=a||window,d=d.split("."),f=0;f<d.length;f++){c=d[f],a[c]||(a[c]={}),a=a[c]}return a}function j(d,a){var f,c;for(a=a||window,d=d.split("."),f=0,c=d.length;c>f&&(a=a[d[f]],a);f++){}return a}function t(a,c){return !a||q(a,"array")?a:D(a.split(c||","),A)}var x=/^\s*|\s*$/g,y=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{trim:A,isArray:y,is:q,toArray:b,makeMap:w,each:k,map:D,grep:F,inArray:C,extend:B,create:v,walk:E,createNS:z,resolve:j,explode:t}}),aF(aJ,[aU],function(b){function a(ci){function ce(){return bZ.createDocumentFragment()}function cn(d,c){cv(b0,d,c)}function ch(d,c){cv(b7,d,c)}function cu(c){cn(c.parentNode,b6(c))}function cd(c){cn(c.parentNode,b6(c)+1)}function ck(c){ch(c.parentNode,b6(c))}function cs(c){ch(c.parentNode,b6(c)+1)}function cr(c){c?(at[G]=at[t],at[cf]=at[e]):(at[t]=at[G],at[e]=at[cf]),at.collapsed=b0}function cc(c){cu(c),cs(c)}function cq(c){cn(c,0),ch(c,1===c.nodeType?c.childNodes.length:c.nodeValue.length)}function cg(k,q){var g=at[t],d=at[e],j=at[G],f=at[cf],p=q.startContainer,u=q.startOffset,h=q.endContainer,m=q.endOffset;return 0===k?ca(g,d,p,u):1===k?ca(j,f,p,u):2===k?ca(j,f,h,m):3===k?ca(g,d,h,m):void 0}function cj(){b1(bY)}function co(){return b1(X)}function cp(){return b1(Y)}function cb(g){var d=this[t],f=this[e],c,h;3!==d.nodeType&&4!==d.nodeType||!d.nodeValue?(d.childNodes.length>0&&(h=d.childNodes[f]),h?d.insertBefore(g,h):3==d.nodeType?ci.insertAfter(g,d):d.appendChild(g)):f?f>=d.nodeValue.length?ci.insertAfter(g,d):(c=d.splitText(f),d.parentNode.insertBefore(g,c)):d.parentNode.insertBefore(g,d)}function b8(d){var c=at.extractContents();at.insertNode(d),d.appendChild(c),at.selectNode(d)}function ct(){return cm(new a(ci),{startContainer:at[t],startOffset:at[e],endContainer:at[G],endOffset:at[cf],collapsed:at.collapsed,commonAncestorContainer:at.commonAncestorContainer})}function b3(d,c){var f;if(3==d.nodeType){return d}if(0>c){return d}for(f=d.firstChild;f&&c>0;){--c,f=f.nextSibling}return f?f:d}function b9(){return at[t]==at[G]&&at[e]==at[cf]}function ca(k,q,f,j){var g,p,u,h,n,m;if(k==f){return q==j?0:j>q?-1:1}for(g=f;g&&g.parentNode!=k;){g=g.parentNode}if(g){for(p=0,u=k.firstChild;u!=g&&q>p;){p++,u=u.nextSibling}return p>=q?-1:1}for(g=k;g&&g.parentNode!=f;){g=g.parentNode}if(g){for(p=0,u=f.firstChild;u!=g&&j>p;){p++,u=u.nextSibling}return j>p?-1:1}for(h=ci.findCommonAncestor(k,f),n=k;n&&n.parentNode!=h;){n=n.parentNode}for(n||(n=h),m=f;m&&m.parentNode!=h;){m=m.parentNode}if(m||(m=h),n==m){return 0}for(u=h.firstChild;u;){if(u==n){return -1}if(u==m){return 1}u=u.nextSibling}}function cv(g,d,f){var c,h;for(g?(at[t]=d,at[e]=f):(at[G]=d,at[cf]=f),c=at[G];c.parentNode;){c=c.parentNode}for(h=at[t];h.parentNode;){h=h.parentNode}h==c?ca(at[t],at[e],at[G],at[cf])>0&&at.collapse(g):at.collapse(g),at.collapsed=b9(),at.commonAncestorContainer=ci.findCommonAncestor(at[t],at[G])}function b1(k){var q,g=0,d=0,j,f,p,u,h,m;if(at[t]==at[G]){return Z(k)}for(q=at[G],j=q.parentNode;j;q=j,j=j.parentNode){if(j==at[t]){return cl(q,k)}++g}for(q=at[t],j=q.parentNode;j;q=j,j=j.parentNode){if(j==at[G]){return K(q,k)}++d}for(f=d-g,p=at[t];f>0;){p=p.parentNode,f--}for(u=at[G];0>f;){u=u.parentNode,f++}for(h=p.parentNode,m=u.parentNode;h!=m;h=h.parentNode,m=m.parentNode){p=h,u=m}return J(p,u,k)}function Z(k){var r,g,j,f,q,u,h,p,m;if(k!=bY&&(r=ce()),at[e]==at[cf]){return r}if(3==at[t].nodeType){if(g=at[t].nodeValue,j=g.substring(at[e],at[cf]),k!=Y&&(f=at[t],p=at[e],m=at[cf]-at[e],0===p&&m>=f.nodeValue.length-1?f.parentNode.removeChild(f):f.deleteData(p,m),at.collapse(b0)),k==bY){return}return j.length>0&&r.appendChild(bZ.createTextNode(j)),r}for(f=b3(at[t],at[e]),q=at[cf]-at[e];f&&q>0;){u=f.nextSibling,h=b2(f,k),r&&r.appendChild(h),--q,f=u}return k!=Y&&at.collapse(b0),r}function cl(j,g){var m,f,k,d,h,c;if(g!=bY&&(m=ce()),f=Q(j,g),m&&m.appendChild(f),k=b6(j),d=k-at[e],0>=d){return g!=Y&&(at.setEndBefore(j),at.collapse(b7)),m}for(f=j.previousSibling;d>0;){h=f.previousSibling,c=b2(f,g),m&&m.insertBefore(c,m.firstChild),--d,f=h}return g!=Y&&(at.setEndBefore(j),at.collapse(b7)),m}function K(j,g){var m,f,k,d,h,c;for(g!=bY&&(m=ce()),k=b5(j,g),m&&m.appendChild(k),f=b6(j),++f,d=at[cf]-f,k=j.nextSibling;k&&d>0;){h=k.nextSibling,c=b2(k,g),m&&m.appendChild(c),--d,k=h}return g!=Y&&(at.setStartAfter(j),at.collapse(b0)),m}function J(k,r,g){var j,f,q,u,h,p,m;for(g!=bY&&(f=ce()),j=b5(k,g),f&&f.appendChild(j),q=b6(k),u=b6(r),++q,h=u-q,p=k.nextSibling;h>0;){m=p.nextSibling,j=b2(p,g),f&&f.appendChild(j),p=m,--h}return j=Q(r,g),f&&f.appendChild(j),g!=Y&&(at.setStartAfter(k),at.collapse(b0)),f}function Q(j,m){var f=b3(at[G],at[cf]-1),c,h,d,k,p,g=f!=at[G];if(f==j){return b4(f,g,b7,m)}for(c=f.parentNode,h=b4(c,b7,b7,m);c;){for(;f;){d=f.previousSibling,k=b4(f,g,b7,m),m!=bY&&h.insertBefore(k,h.firstChild),g=b0,f=d}if(c==j){return h}f=c.previousSibling,c=c.parentNode,p=b4(c,b7,b7,m),m!=bY&&p.appendChild(h),h=p}}function b5(j,m){var f=b3(at[t],at[e]),c=f!=at[t],h,d,k,p,g;if(f==j){return b4(f,c,b0,m)}for(h=f.parentNode,d=b4(h,b7,b0,m);h;){for(;f;){k=f.nextSibling,p=b4(f,c,b0,m),m!=bY&&d.appendChild(p),c=b0,f=k}if(h==j){return d}f=h.nextSibling,h=h.parentNode,g=b4(h,b7,b0,m),m!=bY&&g.appendChild(d),d=g}}function b4(j,n,d,h){var f,m,p,g,k;if(n){return b2(j,h)}if(3==j.nodeType){if(f=j.nodeValue,d?(g=at[e],m=f.substring(g),p=f.substring(0,g)):(g=at[cf],m=f.substring(0,g),p=f.substring(g)),h!=Y&&(j.nodeValue=p),h==bY){return}return k=ci.clone(j,b7),k.nodeValue=m,k}if(h!=bY){return ci.clone(j,b7)}}function b2(d,c){return c!=bY?c==Y?ci.clone(d,b0):d:void d.parentNode.removeChild(d)}function bt(){return ci.create("body",null,cp()).outerText}var at=this,bZ=ci.doc,X=0,Y=1,bY=2,b0=!0,b7=!1,e="startOffset",t="startContainer",G="endContainer",cf="endOffset",cm=b.extend,b6=ci.nodeIndex;return cm(at,{startContainer:bZ,startOffset:0,endContainer:bZ,endOffset:0,collapsed:b0,commonAncestorContainer:bZ,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:cn,setEnd:ch,setStartBefore:cu,setStartAfter:cd,setEndBefore:ck,setEndAfter:cs,collapse:cr,selectNode:cc,selectNodeContents:cq,compareBoundaryPoints:cg,deleteContents:cj,extractContents:co,cloneContents:cp,insertNode:cb,surroundContents:b8,cloneRange:ct,toStringIE:bt}),at}return a.prototype.toString=function(){return this.toStringIE()},a}),aF(aM,[aU],function(p){function y(c){var a;return a=document.createElement("div"),a.innerHTML=c,a.textContent||a.innerText||c}function h(o,f){var s,l,d,c={};if(o){for(o=o.split(","),f=f||10,s=0;s<o.length;s+=2){l=String.fromCharCode(parseInt(o[s],f)),g[l]||(d="&"+o[s+1]+";",c[l]=d,c[d]=l)}return c}}var b=p.makeMap,k,g,w,z=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=/[<>&\"\']/g,q=/&(#x|#)?([\w]+);/g,x={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};g={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},w={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},k=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var m={encodeRaw:function(c,a){return c.replace(a?z:j,function(d){return g[d]||d})},encodeAllRaw:function(a){return(""+a).replace(v,function(c){return g[c]||c})},encodeNumeric:function(c,a){return c.replace(a?z:j,function(d){return d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":g[d]||"&#"+d.charCodeAt(0)+";"})},encodeNamed:function(c,a,d){return d=d||k,c.replace(a?z:j,function(f){return g[f]||d[f]||f})},getEncodeFunc:function(i,f){function d(a,c){return a.replace(c?z:j,function(n){return g[n]||f[n]||"&#"+n.charCodeAt(0)+";"||n})}function l(a,c){return m.encodeNamed(a,c,f)}return f=h(f)||k,i=b(i.replace(/\+/g,",")),i.named&&i.numeric?d:i.named?f?l:m.encodeNamed:i.numeric?m.encodeNumeric:m.encodeRaw},decode:function(a){return a.replace(q,function(d,f,c){return f?(c=parseInt(c,2===f.length?16:10),c>65535?(c-=65536,String.fromCharCode(55296+(c>>10),56320+(1023&c))):x[c]||String.fromCharCode(c)):w[d]||k[d]||y(d)})}};return m}),aF(aS,[],function(){var j=navigator,p=j.userAgent,f,b,h,d,m,q,g;f=window.opera&&window.opera.buildNumber,b=/WebKit/.test(p),h=!b&&!f&&/MSIE/gi.test(p)&&/Explorer/gi.test(j.appName),h=h&&/MSIE (\w+)\./.exec(p)[1],d=-1==p.indexOf("Trident/")||-1==p.indexOf("rv:")&&-1==j.appName.indexOf("Netscape")?!1:11,h=h||d,m=!b&&!d&&/Gecko/.test(p),q=-1!=p.indexOf("Mac"),g=/(iPad|iPhone)/.test(p);var k=!g||p.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:f,webkit:b,ie:h,gecko:m,mac:q,iOS:g,contentEditable:k,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=h,range:window.getSelection&&"Range" in window,documentMode:h?document.documentMode||7:10}}),aF(aT,[],function(){return function(g,d){function j(a){g.getElementsByTagName("head")[0].appendChild(a)}function f(A,a,B){function k(){for(var m=y.passed,l=m.length;l--;){m[l]()}y.status=2,y.passed=[],y.failed=[]}function x(){for(var m=y.failed,l=m.length;l--;){m[l]()}y.status=3,y.passed=[],y.failed=[]}function w(){var l=navigator.userAgent.match(/WebKit\/(\d*)/);return !!(l&&l[1]<536)}function z(m,l){m()||((new Date).getTime()-o<b?window.setTimeout(l,0):x())}function q(){z(function(){for(var m=g.styleSheets,s,p=m.length,l;p--;){if(s=m[p],l=s.ownerNode?s.ownerNode:s.owningElement,l&&l.id===i.id){return k(),!0}}},q)}function e(){z(function(){try{var m=n.sheet.cssRules;return k(),!!m}catch(l){}},e)}var i,n,o,y;if(h[A]?y=h[A]:(y={passed:[],failed:[]},h[A]=y),a&&y.passed.push(a),B&&y.failed.push(B),1!=y.status){if(2==y.status){return void k()}if(3==y.status){return void x()}if(y.status=1,i=g.createElement("link"),i.rel="stylesheet",i.type="text/css",i.id="u"+c++,i.async=!1,i.defer=!1,o=(new Date).getTime(),"onload" in i&&!w()){i.onload=q,i.onerror=x}else{if(navigator.userAgent.indexOf("Firefox")>0){return n=g.createElement("style"),n.textContent='@import "'+A+'"',e(),void j(n)}q()}j(i),i.href=A}}var c=0,h={},b;d=d||{},b=d.maxLoadTime||5000,this.load=f}}),aF(aB,[aO,aX,aW,aC,aJ,aM,aS,aU,aT],function(J,B,x,F,A,N,t,E,L){function K(c,b){var a=this,d;a.doc=c,a.win=window,a.files={},a.counter=0,a.stdMode=!k||c.documentMode>=8,a.boxModel=!k||"CSS1Compat"==c.compatMode||a.stdMode,a.hasOuterHTML="outerHTML" in c.createElement("a"),a.styleSheetLoader=new L(c),this.boundEvents=[],a.settings=b=G({keep_values:!1,hex_colors:1},b),a.schema=b.schema,a.styles=new B({url_converter:b.url_converter,url_converter_scope:b.url_converter_scope},b.schema),a.fixDoc(c),a.events=b.ownEvents?new x(b.proxy):x.Event,d=b.schema?b.schema.getBlockElements():{},a.isBlock=function(g){if(!g){return !1}var f=g.nodeType;return f?!(1!==f||!d[g.nodeName]):!!d[g]}}var q=E.each,I=E.is,z=E.grep,D=E.trim,G=E.extend,H=t.webkit,k=t.ie,j=/^([a-z0-9],?)+$/i,M=/^[ \t\r\n]*$/,w=E.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");return K.prototype={root:null,props:{"for":"htmlFor","class":"className",className:"className",checked:"checked",disabled:"disabled",maxlength:"maxLength",readonly:"readOnly",selected:"selected",value:"value",id:"id",name:"name",type:"type"},fixDoc:function(b){var a=this.settings,c;if(k&&a.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(d){b.createElement(d)});for(c in a.schema.getCustomElements()){b.createElement(c)}}},clone:function(d,b){var f=this,c,a;return !k||1!==d.nodeType||b?d.cloneNode(b):(a=f.doc,b?c.firstChild:(c=a.createElement(d.nodeName),q(f.getAttribs(d),function(e){f.setAttrib(c,e.nodeName,f.getAttrib(d,e.nodeName))}),c))},getRoot:function(){var a=this;return a.get(a.settings.root_element)||a.doc.body},getViewPort:function(b){var a,c;return b=b?b:this.win,a=b.document,c=this.boxModel?a.documentElement:a.body,{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop,w:b.innerWidth||c.clientWidth,h:b.innerHeight||c.clientHeight}},getRect:function(c){var a=this,d,b;return c=a.get(c),d=a.getPos(c),b=a.getSize(c),{x:d.x,y:d.y,w:b.w,h:b.h}},getSize:function(c){var a=this,d,b;return c=a.get(c),d=a.getStyle(c,"width"),b=a.getStyle(c,"height"),-1===d.indexOf("px")&&(d=0),-1===b.indexOf("px")&&(b=0),{w:parseInt(d,10)||c.offsetWidth||c.clientWidth,h:parseInt(b,10)||c.offsetHeight||c.clientHeight}},getParent:function(b,a,c){return this.getParents(b,a,c,!1)},getParents:function(g,l,f,c){var h=this,b,d=[];for(g=h.get(g),c=c===aD,f=f||("BODY"!=h.getRoot().nodeName?h.getRoot().parentNode:null),I(l,"string")&&(b=l,l="*"===l?function(a){return 1==a.nodeType}:function(a){return h.is(a,b)});g&&g!=f&&g.nodeType&&9!==g.nodeType;){if(!l||l(g)){if(!c){return g}d.push(g)}g=g.parentNode}return c?d:null},get:function(b){var a;return b&&this.doc&&"string"==typeof b&&(a=b,b=this.doc.getElementById(b),b&&b.id!==a)?this.doc.getElementsByName(a)[1]:b},getNext:function(b,a){return this._findSib(b,a,"nextSibling")},getPrev:function(b,a){return this._findSib(b,a,"previousSibling")},select:function(a,c){var b=this;return J(a,b.get(c)||b.get(b.settings.root_element)||b.doc,[])},is:function(d,b){var a;if(d.length===aD){if("*"===b){return 1==d.nodeType}if(j.test(b)){for(b=b.toLowerCase().split(/,/),d=d.nodeName.toLowerCase(),a=b.length-1;a>=0;a--){if(b[a]==d){return !0}}return !1}}if(d.nodeType&&1!=d.nodeType){return !1}var c=d.nodeType?[d]:d;return J(b,c[0].ownerDocument||c[0],null,c).length>0},add:function(d,b,g,c,a){var f=this;return this.run(d,function(i){var h;return h=I(b,"string")?f.doc.createElement(b):b,f.setAttribs(h,g),c&&(c.nodeType?h.appendChild(c):f.setHTML(h,c)),a?h:i.appendChild(h)})},create:function(b,a,c){return this.add(this.doc.createElement(b),b,a,c,1)},createHTML:function(d,b,f){var c="",a;c+="<"+d;for(a in b){b.hasOwnProperty(a)&&null!==b[a]&&(c+=" "+a+'="'+this.encode(b[a])+'"')}return"undefined"!=typeof f?c+">"+f+"</"+d+">":c+" />"},createFragment:function(d){var b,f,c=this.doc,a;for(a=c.createElement("div"),b=c.createDocumentFragment(),d&&(a.innerHTML=d);f=a.firstChild;){b.appendChild(f)}return b},remove:function(b,a){return this.run(b,function(d){var f,c=d.parentNode;if(!c){return null}if(a){for(;f=d.firstChild;){!k||3!==f.nodeType||f.nodeValue?c.insertBefore(f,d):d.removeChild(f)}}return c.removeChild(d)})},setStyle:function(b,a,c){return this.run(b,function(h){var g=this,f,l;if(a){if("string"==typeof a){f=h.style,a=a.replace(/-(\D)/g,function(m,i){return i.toUpperCase()}),"number"!=typeof c||w[a]||(c+="px"),"opacity"===a&&h.runtimeStyle&&"undefined"==typeof h.runtimeStyle.opacity&&(f.filter=""===c?"":"alpha(opacity="+100*c+")"),"float"==a&&(a="cssFloat" in h.style?"cssFloat":"styleFloat");try{f[a]=c}catch(d){}g.settings.update_styles&&h.removeAttribute("data-mce-style")}else{for(l in a){g.setStyle(h,l,a[l])}}}})},getStyle:function(c,d,b){if(c=this.get(c)){if(this.doc.defaultView&&b){d=d.replace(/[A-Z]/g,function(f){return"-"+f});try{return this.doc.defaultView.getComputedStyle(c,null).getPropertyValue(d)}catch(a){return null}}return d=d.replace(/-(\D)/g,function(g,f){return f.toUpperCase()}),"float"==d&&(d=k?"styleFloat":"cssFloat"),c.currentStyle&&b?c.currentStyle[d]:c.style?c.style[d]:aD}},setStyles:function(b,a){this.setStyle(b,a)},css:function(b,a,c){this.setStyle(b,a,c)},removeAllAttribs:function(a){return this.run(a,function(c){var b,d=c.attributes;for(b=d.length-1;b>=0;b--){c.removeAttributeNode(d.item(b))}})},setAttrib:function(c,a,d){var b=this;if(c&&a){return this.run(c,function(g){var f=b.settings,h=g.getAttribute(a);if(null!==d){switch(a){case"style":if(!I(d,"string")){return void q(d,function(e,i){b.setStyle(g,i,e)})}f.keep_values&&(d?g.setAttribute("data-mce-style",d,2):g.removeAttribute("data-mce-style",2)),g.style.cssText=d;break;case"class":g.className=d||"";break;case"src":case"href":f.keep_values&&(f.url_converter&&(d=f.url_converter.call(f.url_converter_scope||b,d,a,g)),b.setAttrib(g,"data-mce-"+a,d,2));break;case"shape":g.setAttribute("data-mce-style",d)}}I(d)&&null!==d&&0!==d.length?g.setAttribute(a,""+d,2):g.removeAttribute(a,2),h!=d&&f.onSetAttrib&&f.onSetAttrib({attrElm:g,attrName:a,attrValue:d})})}},setAttribs:function(b,a){var c=this;return this.run(b,function(d){q(a,function(e,f){c.setAttrib(d,f,e)})})},getAttrib:function(d,b,g){var c,a=this,f;if(d=a.get(d),!d||1!==d.nodeType){return g===f?!1:g}if(I(g)||(g=""),/^(src|href|style|coords|shape)$/.test(b)&&(c=d.getAttribute("data-mce-"+b))){return c}if(k&&a.props[b]&&(c=d[a.props[b]],c=c&&c.nodeValue?c.nodeValue:c),c||(c=d.getAttribute(b,2)),/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noshade|nowrap|readonly|selected)$/.test(b)){return d[a.props[b]]===!0&&""===c?b:c?b:""}if("FORM"===d.nodeName&&d.getAttributeNode(b)){return d.getAttributeNode(b).nodeValue}if("style"===b&&(c=c||d.style.cssText,c&&(c=a.serializeStyle(a.parseStyle(c),d.nodeName),a.settings.keep_values&&d.setAttribute("data-mce-style",c))),H&&"class"===b&&c&&(c=c.replace(/(apple|webkit)\-[a-z\-]+/gi,"")),k){switch(b){case"rowspan":case"colspan":1===c&&(c="");break;case"size":("+0"===c||20===c||0===c)&&(c="");break;case"width":case"height":case"vspace":case"checked":case"disabled":case"readonly":0===c&&(c="");break;case"hspace":-1===c&&(c="");break;case"maxlength":case"tabindex":(32768===c||2147483647===c||"32768"===c)&&(c="");break;case"multiple":case"compact":case"noshade":case"nowrap":return 65535===c?b:g;case"shape":c=c.toLowerCase();break;default:0===b.indexOf("on")&&c&&(c=(""+c).replace(/^function\s+\w+\(\)\s+\{\s+(.*)\s+\}$/,"$1"))}}return c!==f&&null!==c&&""!==c?""+c:g},getPos:function(h,d){var m=this,g=0,c=0,l,b=m.doc,f;if(h=m.get(h),d=d||b.body,h){if(d===b.body&&h.getBoundingClientRect){return f=h.getBoundingClientRect(),d=m.boxModel?b.documentElement:b.body,g=f.left+(b.documentElement.scrollLeft||b.body.scrollLeft)-d.clientLeft,c=f.top+(b.documentElement.scrollTop||b.body.scrollTop)-d.clientTop,{x:g,y:c}}for(l=h;l&&l!=d&&l.nodeType;){g+=l.offsetLeft||0,c+=l.offsetTop||0,l=l.offsetParent}for(l=h.parentNode;l&&l!=d&&l.nodeType;){g-=l.scrollLeft||0,c-=l.scrollTop||0,l=l.parentNode}}return{x:g,y:c}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(b,a){return this.styles.serialize(b,a)},addStyle:function(d){var b=this,g=b.doc,c,a;if(b!==K.DOM&&g===document){var f=K.DOM.addedStyles;if(f=f||[],f[d]){return}f[d]=!0,K.DOM.addedStyles=f}a=g.getElementById("mceDefaultStyles"),a||(a=g.createElement("style"),a.id="mceDefaultStyles",a.type="text/css",c=g.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)),a.styleSheet?a.styleSheet.cssText+=d:a.appendChild(g.createTextNode(d))},loadCSS:function(c){var a=this,d=a.doc,b;return a!==K.DOM&&d===document?void K.DOM.loadCSS(c):(c||(c=""),b=d.getElementsByTagName("head")[0],void q(c.split(","),function(g){var f;a.files[g]||(a.files[g]=!0,f=a.create("link",{rel:"stylesheet",href:g}),k&&d.documentMode&&d.recalc&&(f.onload=function(){d.recalc&&d.recalc(),f.onload=null}),b.appendChild(f))}))},addClass:function(b,a){return this.run(b,function(c){var d;return a?this.hasClass(c,a)?c.className:(d=this.removeClass(c,a),c.className=d=(""!==d?d+" ":"")+a,d):0})},removeClass:function(c,a){var d=this,b;return d.run(c,function(g){var f;return d.hasClass(g,a)?(b||(b=new RegExp("(^|\\s+)"+a+"(\\s+|$)","g")),f=g.className.replace(b," "),f=D(" "!=f?f:""),g.className=f,f||(g.removeAttribute("class"),g.removeAttribute("className")),f):g.className})},hasClass:function(b,a){return b=this.get(b),b&&a?-1!==(" "+b.className+" ").indexOf(" "+a+" "):!1},toggleClass:function(b,c,a){a=a===aD?!this.hasClass(b,c):a,this.hasClass(b,c)!==a&&(a?this.addClass(b,c):this.removeClass(b,c))},show:function(a){return this.setStyle(a,"display","block")},hide:function(a){return this.setStyle(a,"display","none")},isHidden:function(a){return a=this.get(a),!a||"none"==a.style.display||"none"==this.getStyle(a,"display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(b,a){var c=this;return c.run(b,function(g){if(k){for(;g.firstChild;){g.removeChild(g.firstChild)}try{g.innerHTML="<br />"+a,g.removeChild(g.firstChild)}catch(f){var d=c.create("div");d.innerHTML="<br />"+a,q(z(d.childNodes),function(e,h){h&&g.canHaveHTML&&g.appendChild(e)})}}else{g.innerHTML=a}return a})},getOuterHTML:function(b){var a,c=this;return(b=c.get(b))?1===b.nodeType&&c.hasOuterHTML?b.outerHTML:(a=(b.ownerDocument||c.doc).createElement("body"),a.appendChild(b.cloneNode(!0)),a.innerHTML):null},setOuterHTML:function(c,a,d){var b=this;return b.run(c,function(g){function f(){var e,l;for(l=d.createElement("body"),l.innerHTML=a,e=l.lastChild;e;){b.insertAfter(e.cloneNode(!0),g),e=e.previousSibling}b.remove(g)}if(1==g.nodeType){if(d=d||g.ownerDocument||b.doc,k){try{1==g.nodeType&&b.hasOuterHTML?g.outerHTML=a:f()}catch(h){f()}}else{f()}}})},decode:N.decode,encode:N.encodeAllRaw,insertAfter:function(b,a){return a=this.get(a),this.run(b,function(d){var f,c;return f=a.parentNode,c=a.nextSibling,c?f.insertBefore(d,c):f.appendChild(d),d})},replace:function(c,a,d){var b=this;return b.run(a,function(e){return I(e,"array")&&(c=c.cloneNode(!0)),d&&q(z(e.childNodes),function(f){c.appendChild(f)}),e.parentNode.replaceChild(c,e)})},rename:function(c,a){var d=this,b;return c.nodeName!=a.toUpperCase()&&(b=d.create(a),q(d.getAttribs(c),function(e){d.setAttrib(b,e.nodeName,d.getAttrib(c,e.nodeName))}),d.replace(b,c,1)),b||c},findCommonAncestor:function(c,a){for(var d=c,b;d;){for(b=a;b&&d!=b;){b=b.parentNode}if(d==b){break}d=d.parentNode}return !d&&c.ownerDocument?c.ownerDocument.documentElement:d},toHex:function(a){return this.styles.toHex(E.trim(a))},run:function(d,b,f){var c=this,a;return"string"==typeof d&&(d=c.get(d)),d?(f=f||this,d.nodeType||!d.length&&0!==d.length?b.call(f,d):(a=[],q(d,function(g,h){g&&("string"==typeof g&&(g=c.get(g)),a.push(b.call(f,g,h)))}),a)):!1},getAttribs:function(b){var a;if(b=this.get(b),!b){return[]}if(k){if(a=[],"OBJECT"==b.nodeName){return b.attributes}"OPTION"===b.nodeName&&this.getAttrib(b,"selected")&&a.push({specified:1,nodeName:"selected"});var c=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return b.cloneNode(!1).outerHTML.replace(c,"").replace(/[\w:\-]+/gi,function(d){a.push({specified:1,nodeName:d})}),a}return b.attributes},isEmpty:function(h,p){var f=this,b,d,m,u,g,i=0;if(h=h.firstChild){u=new F(h,h.parentNode),p=p||f.schema?f.schema.getNonEmptyElements():null;do{if(m=h.nodeType,1===m){if(h.getAttribute("data-mce-bogus")){continue}if(g=h.nodeName.toLowerCase(),p&&p[g]){if("br"===g){i++;continue}return !1}for(d=f.getAttribs(h),b=d.length;b--;){if(g=d[b].nodeName,"name"===g||"data-mce-bookmark"===g){return !1}}}if(8==m){return !1}if(3===m&&!M.test(h.nodeValue)){return !1}}while(h=u.next())}return 1>=i},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new A(this)},nodeIndex:function(d,b){var f=0,c,a;if(d){for(c=d.nodeType,d=d.previousSibling;d;d=d.previousSibling){a=d.nodeType,(!b||3!=a||a!=c&&d.nodeValue.length)&&(f++,c=a)}}return f},split:function(h,p,d){function b(v){function l(o){var a=o.previousSibling&&"SPAN"==o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"==o.nextSibling.nodeName;return a&&s}var C,y=v.childNodes,i=v.nodeType;if(1!=i||"bookmark"!=v.getAttribute("data-mce-type")){for(C=y.length-1;C>=0;C--){b(y[C])}if(9!=i){if(3==i&&v.nodeValue.length>0){var r=D(v.nodeValue).length;if(!g.isBlock(v.parentNode)||r>0||0===r&&l(v)){return}}else{if(1==i&&(y=v.childNodes,1==y.length&&y[0]&&1==y[0].nodeType&&"bookmark"==y[0].getAttribute("data-mce-type")&&v.parentNode.insertBefore(y[0],v),y.length||/^(br|hr|input|img)$/i.test(v.nodeName))){return}}g.remove(v)}return v}}var g=this,c=g.createRng(),m,u,f;return h&&p?(c.setStart(h.parentNode,g.nodeIndex(h)),c.setEnd(p.parentNode,g.nodeIndex(p)),m=c.extractContents(),c=g.createRng(),c.setStart(p.parentNode,g.nodeIndex(p)+1),c.setEnd(h.parentNode,g.nodeIndex(h)+1),u=c.extractContents(),f=h.parentNode,f.insertBefore(b(m),h),d?f.replaceChild(d,p):f.insertBefore(p,h),f.insertBefore(b(u),h),g.remove(h),d||p):void 0},bind:function(d,b,g,c){var a=this;if(E.isArray(d)){for(var f=d.length;f--;){d[f]=a.bind(d[f],b,g,c)}return d}return !a.settings.collect||d!==a.doc&&d!==a.win||a.boundEvents.push([d,b,g,c]),a.events.bind(d,b,g,c||a)},unbind:function(d,b,g){var c=this,a;if(E.isArray(d)){for(a=d.length;a--;){d[a]=c.unbind(d[a],b,g)}return d}if(c.boundEvents&&(d===c.doc||d===c.win)){for(a=c.boundEvents.length;a--;){var f=c.boundEvents[a];d!=f[0]||b&&b!=f[1]||g&&g!=f[2]||this.events.unbind(f[0],f[1],f[2])}}return this.events.unbind(d,b,g)},fire:function(b,a,c){return this.events.fire(b,a,c)},getContentEditable:function(b){var a;return b&&1==b.nodeType?(a=b.getAttribute("data-mce-contenteditable"),a&&"inherit"!==a?a:"inherit"!==b.contentEditable?b.contentEditable:null):null},getContentEditableParent:function(b){for(var a=this.getRoot(),c=null;b&&b!==a&&(c=this.getContentEditable(b),null===c);b=b.parentNode){}return c},destroy:function(){var a=this;if(a.boundEvents){for(var c=a.boundEvents.length;c--;){var b=a.boundEvents[c];this.events.unbind(b[0],b[1],b[2])}a.boundEvents=null}J.setDocument&&J.setDocument(),a.win=a.doc=a.root=a.events=a.frag=null},isChildOf:function(b,a){for(;b;){if(a===b){return !0}b=b.parentNode}return !1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(d,b,f){var c=this,a=b;if(d){for("string"==typeof a&&(a=function(g){return c.is(g,b)}),d=d[f];d;d=d[f]){if(a(d)){return d}}}return null}},K.DOM=new K(document),K}),aF(aw,[aB,aU],function(d,b){function g(){function k(y,w){function A(){z.remove(x),l&&(l.onreadystatechange=l.onload=l=null),w()}function u(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+y)}var z=c,l,x;x=z.uniqueId(),l=document.createElement("script"),l.id=x,l.type="text/javascript",l.src=y,"onreadystatechange" in l?l.onreadystatechange=function(){/loaded|complete/.test(l.readyState)&&A()}:l.onload=A,l.onerror=u,(document.getElementsByTagName("head")[0]||document.body).appendChild(l)}var r=0,h=1,p=2,v={},i=[],o={},m=[],q=0,j;this.isDone=function(l){return v[l]==p},this.markDone=function(l){v[l]=p},this.add=this.load=function(t,u,s){var l=v[t];l==j&&(i.push(t),v[t]=r),u&&(o[t]||(o[t]=[]),o[t].push({func:u,scope:s||this}))},this.loadQueue=function(n,l){this.loadScripts(i,n,l)},this.loadScripts=function(s,u,n){function w(l){a(o[l],function(t){t.func.call(t.scope)}),o[l]=j}var e;m.push({func:u,scope:n||this}),(e=function(){var l=f(s);s.length=0,a(l,function(x){return v[x]==p?void w(x):void (v[x]!=h&&(v[x]=h,q++,k(x,function(){v[x]=p,q--,w(x),e()})))}),q||(a(m,function(t){t.func.call(t.scope)}),m.length=0)})()}}var c=d.DOM,a=b.each,f=b.grep;return g.ScriptLoader=new g,g}),aF(aZ,[aw,aU],function(c,d){function b(){var f=this;f.items=[],f.urls={},f.lookup={}}var a=d.each;return b.prototype={get:function(f){return this.lookup[f]?this.lookup[f].instance:aD},dependencies:function(g){var f;return this.lookup[g]&&(f=this.lookup[g].dependencies),f||[]},requireLangPack:function(f,g){var e=b.language;if(e&&b.languageLoad!==!1){if(g){if(g=","+g+",",-1!=g.indexOf(","+e.substr(0,2)+",")){e=e.substr(0,2)}else{if(-1==g.indexOf(","+e+",")){return}}}c.ScriptLoader.add(this.urls[f]+"/langs/"+e+".js")}},add:function(g,f,h){return this.items.push(f),this.lookup[g]={instance:f,dependencies:h},f},createUrl:function(g,f){return"object"==typeof f?f:{prefix:g.prefix,resource:f,suffix:g.suffix}},addComponents:function(e,g){var f=this.urls[e];a(g,function(h){c.ScriptLoader.add(f+"/"+h)})},load:function(k,i,f,g){function e(){var l=j.dependencies(k);a(l,function(m){var o=j.createUrl(i,m);j.load(o.resource,o,aD,aD)}),f&&f.call(g?g:c)}var j=this,h=i;j.urls[k]||("object"==typeof i&&(h=i.prefix+i.resource+i.suffix),0!==h.indexOf("/")&&-1==h.indexOf("://")&&(h=b.baseURL+"/"+h),j.urls[k]=h.substring(0,h.lastIndexOf("/")),j.lookup[k]?e():c.ScriptLoader.add(h,e,g))}},b.PluginManager=new b,b.ThemeManager=new b,b}),aF(bz,[],function(){function c(k,h,m){var j,g,l=m?"lastChild":"firstChild",f=m?"prev":"next";if(k[l]){return k[l]}if(k!==h){if(j=k[f]){return j}for(g=k.parent;g&&g!==h;g=g.parent){if(j=g[f]){return j}}}}function a(g,f){this.name=g,this.type=f,1===f&&(this.attributes=[],this.attributes.map={})}var d=/^[ \t\r\n]*$/,b={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return a.prototype={replace:function(g){var f=this;return g.parent&&g.remove(),f.insert(g,f),f.remove(),f},attr:function(j,g){var l=this,h,f,k;if("string"!=typeof j){for(f in j){l.attr(f,j[f])}return l}if(h=l.attributes){if(g!==k){if(null===g){if(j in h.map){for(delete h.map[j],f=h.length;f--;){if(h[f].name===j){return h=h.splice(f,1),l}}}return l}if(j in h.map){for(f=h.length;f--;){if(h[f].name===j){h[f].value=g;break}}}else{h.push({name:j,value:g})}return h.map[j]=g,l}return h.map[j]}},clone:function(){var k=this,m=new a(k.name,k.type),j,g,l,f,h;if(l=k.attributes){for(h=[],h.map={},j=0,g=l.length;g>j;j++){f=l[j],"id"!==f.name&&(h[h.length]={name:f.name,value:f.value},h.map[f.name]=f.value)}m.attributes=h}return m.value=k.value,m.shortEnded=k.shortEnded,m},wrap:function(g){var f=this;return f.parent.insert(g,f),g.append(f),f},unwrap:function(){var g=this,f,h;for(f=g.firstChild;f;){h=f.next,g.insert(f,g,!0),f=h}g.remove()},remove:function(){var h=this,f=h.parent,i=h.next,g=h.prev;return f&&(f.firstChild===h?(f.firstChild=i,i&&(i.prev=null)):g.next=i,f.lastChild===h?(f.lastChild=g,g&&(g.next=null)):i.prev=g,h.parent=h.next=h.prev=null),h},append:function(g){var f=this,h;return g.parent&&g.remove(),h=f.lastChild,h?(h.next=g,g.prev=h,f.lastChild=g):f.lastChild=f.firstChild=g,g.parent=f,g},insert:function(h,f,i){var g;return h.parent&&h.remove(),g=f.parent||this,i?(f===g.firstChild?g.firstChild=h:f.prev.next=h,h.prev=f.prev,h.next=f,f.prev=h):(f===g.lastChild?g.lastChild=h:f.next.prev=h,h.next=f.next,h.prev=f,f.next=h),h.parent=g,h},getAll:function(f){var h=this,g,e=[];for(g=h.firstChild;g;g=c(g,h)){g.name===f&&e.push(g)}return e},empty:function(){var f=this,h,g,e;if(f.firstChild){for(h=[],e=f.firstChild;e;e=c(e,f)){h.push(e)}for(g=h.length;g--;){e=h[g],e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return f.firstChild=f.lastChild=null,f},isEmpty:function(g){var h=this,f=h.firstChild,j,e;if(f){do{if(1===f.type){if(f.attributes.map["data-mce-bogus"]){continue}if(g[f.name]){return !1}for(j=f.attributes.length;j--;){if(e=f.attributes[j].name,"name"===e||0===e.indexOf("data-mce-")){return !1}}}if(8===f.type){return !1}if(3===f.type&&!d.test(f.value)){return !1}}while(f=c(f,h))}return !0},walk:function(e){return c(this,null,e)}},a.create=function(g,j){var f,h;if(f=new a(g,b[g]||1),j){for(h in j){f.attr(h,j[h])}}return f},a}),aF(ax,[aU],function(h){function k(i,a){return i?i.split(a||" "):[]}function d(t){function o(A,E,u){function s(F){var i={},G,l;for(G=0,l=F.length;l>G;G++){i[F[G]]={}}return i}var C,a,D,B=arguments;for(u=u||[],E=E||"","string"==typeof u&&(u=k(u)),a=3;a<B.length;a++){"string"==typeof B[a]&&(B[a]=k(B[a])),u.push.apply(u,B[a])}for(A=k(A),C=A.length;C--;){D=[].concat(z,k(E)),x[A[C]]={attributes:s(D),attributesOrder:D,children:s(u)}}}function q(A,C){var u,a,B,l;for(A=k(A),u=A.length,C=k(C);u--;){for(a=x[A[u]],B=0,l=C.length;l>B;B++){a.attributes[C[B]]={},a.attributesOrder.push(C[B])}}}var x={},z,p,w,v,y,r;return b[t]?b[t]:(z=k("id accesskey class dir lang style tabindex title"),p=k("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),w=k("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=t&&(z.push.apply(z,k("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),p.push.apply(p,k("article aside details dialog figure header footer hgroup section nav")),w.push.apply(w,k("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),"html5-strict"!=t&&(z.push("xml:lang"),r=k("acronym applet basefont big font strike tt"),w.push.apply(w,r),c(r,function(a){o(a,"",w)}),y=k("center dir isindex noframes"),p.push.apply(p,y),v=[].concat(p,w),c(y,function(a){o(a,"",v)})),v=v||[].concat(p,w),o("html","manifest","head body"),o("head","","base command link meta noscript script style title"),o("title hr noscript br"),o("base","href target"),o("link","href rel media hreflang type sizes hreflang"),o("meta","name http-equiv content charset"),o("style","media type scoped"),o("script","src async defer type charset"),o("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",v),o("address dt dd div caption","",v),o("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",w),o("blockquote","cite",v),o("ol","reversed start type","li"),o("ul","","li"),o("li","value",v),o("dl","","dt dd"),o("a","href target rel media hreflang type",w),o("q","cite",w),o("ins del","cite datetime",v),o("img","src alt usemap ismap width height"),o("iframe","src name width height",v),o("embed","src type width height"),o("object","data type typemustmatch name usemap form width height",v,"param"),o("param","name value"),o("map","name",v,"area"),o("area","alt coords shape href target rel media hreflang type"),o("table","border","caption colgroup thead tfoot tbody tr"+("html4"==t?" col":"")),o("colgroup","span","col"),o("col","span"),o("tbody thead tfoot","","tr"),o("tr","","td th"),o("td","colspan rowspan headers",v),o("th","colspan rowspan headers scope abbr",v),o("form","accept-charset action autocomplete enctype method name novalidate target",v),o("fieldset","disabled form name",v,"legend"),o("label","form for",w),o("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),o("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==t?v:w),o("select","disabled form multiple name required size","option optgroup"),o("optgroup","disabled label","option"),o("option","disabled label selected value"),o("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),o("menu","type label",v,"li"),o("noscript","",v),"html4"!=t&&(o("wbr"),o("ruby","",w,"rt rp"),o("figcaption","",v),o("mark rt rp summary bdi","",w),o("canvas","width height",v),o("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",v,"track source"),o("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",v,"track source"),o("source","src type media"),o("track","kind src srclang label default"),o("datalist","",w,"option"),o("article section nav aside header footer","",v),o("hgroup","","h1 h2 h3 h4 h5 h6"),o("figure","",v,"figcaption"),o("time","datetime",w),o("dialog","open",v),o("command","type label icon disabled checked radiogroup command"),o("output","for form name",w),o("progress","value max",w),o("meter","value min max low high optimum",w),o("details","open",v,"summary"),o("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=t&&(q("script","language xml:space"),q("style","xml:space"),q("object","declare classid codebase codetype archive standby align border hspace vspace"),q("param","valuetype type"),q("a","charset name rev shape coords"),q("br","clear"),q("applet","codebase archive code object alt name width height align hspace vspace"),q("img","name longdesc align border hspace vspace"),q("iframe","longdesc frameborder marginwidth marginheight scrolling align"),q("font basefont","size color face"),q("input","usemap align"),q("select","onchange"),q("textarea"),q("h1 h2 h3 h4 h5 h6 div p legend caption","align"),q("ul","type compact"),q("li","type"),q("ol dl menu dir","compact"),q("pre","width xml:space"),q("hr","align noshade size width"),q("isindex","prompt"),q("table","summary width frame rules cellspacing cellpadding align bgcolor"),q("col","width align char charoff valign"),q("colgroup","width align char charoff valign"),q("thead","align char charoff valign"),q("tr","align char charoff valign bgcolor"),q("th","axis align char charoff valign nowrap bgcolor width height"),q("form","accept"),q("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),q("tfoot","align char charoff valign"),q("tbody","align char charoff valign"),q("area","nohref"),q("body","background bgcolor text link vlink alink")),"html4"!=t&&(q("input button select textarea","autofocus"),q("input textarea","placeholder"),q("a","download"),q("link script img","crossorigin"),q("iframe","sandbox seamless allowfullscreen")),c(k("a form meter progress dfn"),function(a){x[a]&&delete x[a].children[a]}),delete x.caption.children.table,b[t]=x,x)}var b={},g=h.makeMap,c=h.each,j=h.extend,m=h.explode,f=h.inArray;return function(L){function O(e,v,u){var p=L[e];return p?p=g(p,/[, ]/,g(p.toUpperCase(),/[, ]/)):(p=b[e],p||(p=g(v," ",g(v.toUpperCase()," ")),p=j(p,u),b[e]=p)),p}function M(p){return new RegExp("^"+p.replace(/([?+*])/g,".$1")+"$")}function t(b6){var b0,bt,bZ,b8,Z,b7,X,b5,bY,b1,b3,b4,U,at,V,W,b9,Y,R,b2=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,A=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,v=/[*?+]/;if(b6){for(b6=k(b6,","),s["@"]&&(W=s["@"].attributes,b9=s["@"].attributesOrder),b0=0,bt=b6.length;bt>b0;b0++){if(Z=b2.exec(b6[b0])){if(at=Z[1],bY=Z[2],V=Z[3],b5=Z[5],b4={},U=[],b7={attributes:b4,attributesOrder:U},"#"===at&&(b7.paddEmpty=!0),"-"===at&&(b7.removeEmpty=!0),"!"===Z[4]&&(b7.removeEmptyAttrs=!0),W){for(Y in W){b4[Y]=W[Y]}U.push.apply(U,b9)}if(b5){for(b5=k(b5,"|"),bZ=0,b8=b5.length;b8>bZ;bZ++){if(Z=A.exec(b5[bZ])){if(X={},b3=Z[1],b1=Z[2].replace(/::/g,":"),at=Z[3],R=Z[4],"!"===b3&&(b7.attributesRequired=b7.attributesRequired||[],b7.attributesRequired.push(b1),X.required=!0),"-"===b3){delete b4[b1],U.splice(f(U,b1),1);continue}at&&("="===at&&(b7.attributesDefault=b7.attributesDefault||[],b7.attributesDefault.push({name:b1,value:R}),X.defaultValue=R),":"===at&&(b7.attributesForced=b7.attributesForced||[],b7.attributesForced.push({name:b1,value:R}),X.forcedValue=R),"<"===at&&(X.validValues=g(R,"?"))),v.test(b1)?(b7.attributePatterns=b7.attributePatterns||[],X.pattern=M(b1),b7.attributePatterns.push(X)):(b4[b1]||U.push(b1),b4[b1]=X)}}}W||"@"!=bY||(W=b4,b9=U),V&&(b7.outputName=bY,s[V]=b7),v.test(bY)?(b7.pattern=M(bY),P.push(b7)):s[bY]=b7}}}}function K(p){s={},P=[],t(p),c(q,function(v,u){o[u]=v.children})}function F(p){var u=/^(~)?(.+)$/;p&&(b.text_block_elements=b.block_elements=null,c(k(p,","),function(C){var x=u.exec(C),A="~"===x[1],w=A?"span":"div",y=x[2];if(o[y]=o[w],l[y]=w,A||(H[y.toUpperCase()]={},H[y]={}),!s[y]){var v=s[w];v=j({},v),delete v.removeEmptyAttrs,delete v.removeEmpty,s[y]=v}c(o,function(N,E){N[w]&&(o[E]=N=j({},o[E]),N[y]=N[w])})}))}function G(p){var u=/^([+\-]?)(\w+)\[([^\]]+)\]$/;p&&c(k(p,","),function(y){var x=u.exec(y),v,w;x&&(w=x[1],v=w?o[x[2]]:o[x[2]]={"#comment":{}},v=o[x[2]],c(k(x[3],"|"),function(A){"-"===w?(o[x[2]]=v=j({},o[x[2]]),delete v[A]):v[A]={}}))})}function I(u){var p=s[u],v;if(p){return p}for(v=P.length;v--;){if(p=P[v],p.pattern.test(u)){return p}}}var J=this,s={},o={},P=[],B,q,r,Q,z,n,H,i,a,l={},D={};L=L||{},q=d(L.schema),L.verify_html===!1&&(L.valid_elements="*[*]"),L.valid_styles&&(B={},c(L.valid_styles,function(u,p){B[p]=m(u)})),r=O("whitespace_elements","pre script noscript style textarea video audio iframe object"),Q=O("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),z=O("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),n=O("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),i=O("non_empty_elements","td th iframe video audio object script",z),a=O("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),H=O("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",a),c((L.special||"script noscript style textarea").split(" "),function(p){D[p]=new RegExp("</"+p+"[^>]*>","gi")}),L.valid_elements?K(L.valid_elements):(c(q,function(u,p){s[p]={attributes:u.attributes,attributesOrder:u.attributesOrder},o[p]=u.children}),"html5"!=L.schema&&c(k("strong/b em/i"),function(p){p=k(p,"/"),s[p[1]].outputName=p[0]}),s.img.attributesDefault=[{name:"alt",value:""}],c(k("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(p){s[p]&&(s[p].removeEmpty=!0)}),c(k("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(p){s[p].paddEmpty=!0}),c(k("span"),function(p){s[p].removeEmptyAttrs=!0})),F(L.custom_elements),G(L.valid_children),t(L.extended_valid_elements),G("+ol[ul|ol],+ul[ul|ol]"),L.invalid_elements&&c(m(L.invalid_elements),function(p){s[p]&&delete s[p]}),I("span")||t("span[!data-mce-type|*]"),J.children=o,J.styles=B,J.getBoolAttrs=function(){return n},J.getBlockElements=function(){return H},J.getTextBlockElements=function(){return a},J.getShortEndedElements=function(){return z},J.getSelfClosingElements=function(){return Q},J.getNonEmptyElements=function(){return i},J.getWhiteSpaceElements=function(){return r},J.getSpecialElements=function(){return D},J.isValidChild=function(u,p){var v=o[u];return !(!v||!v[p])},J.isValid=function(w,u){var x,v,p=I(w);if(p){if(!u){return !0}if(p.attributes[u]){return !0}if(x=p.attributePatterns){for(v=x.length;v--;){if(x[v].pattern.test(w)){return !0}}}}return !1},J.getElementRule=I,J.getCustomElements=function(){return l},J.addValidElements=t,J.setValidElements=K,J.addCustomElements=F,J.addValidChildren=G,J.elements=s}}),aF(ay,[ax,aM,aU],function(c,a,d){var b=d.each;return function(f,h){function e(){}var g=this;f=f||{},g.schema=h=h||new c,f.fix_self_closing!==!1&&(f.fix_self_closing=!0),b("comment cdata text start end pi doctype".split(" "),function(i){i&&(g[i]=f[i]||e)}),g.parse=function(ch){function b9(l){var k,m;for(k=cg.length;k--&&cg[k].name!==l;){}if(k>=0){for(m=cg.length-1;m>=k;m--){l=cg[m],l.valid&&b8.end(l.name)}cg.length=k}}function cl(v,z,p,k,m){var y,A,u=/[\s\u0000-\u001F]+/g;if(z=z.toLowerCase(),p=z in bZ?z:at(p||k||m||""),b5&&!b6&&0!==z.indexOf("data-")){if(y=q[z],!y&&o){for(A=o.length;A--&&(y=o[A],!y.pattern.test(z));){}-1===A&&(y=null)}if(!y){return}if(y.validValues&&!(p in y.validValues)){return}}if(i[z]&&!f.allow_script_urls){var x=p.replace(u,"");try{x=decodeURIComponent(x)}catch(w){x=unescape(x)}if(j.test(x)){return}if(!f.allow_html_data_urls&&n.test(x)&&!/^data:image\//i.test(x)){return}}ca.map[z]=p,ca.push({name:z,value:p})}var b8=this,cc,cj=0,ci,b7,cg=[],ca,cb,ce,cf,b6,b3,ck,bZ,b4,b5,cm,bt,K,cd,q,o,t,b1,b0,bY,X,Q,Z,G,J,Y=0,at=a.decode,b2,i=d.makeMap("src,href,data,background,formaction,poster"),j=/((java|vb)script|mhtml):/i,n=/^data:/i;for(Q=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),Z=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,ck=h.getShortEndedElements(),X=f.self_closing_elements||h.getSelfClosingElements(),bZ=h.getBoolAttrs(),b5=f.validate,b3=f.remove_internals,b2=f.fix_self_closing,G=h.getSpecialElements();cc=Q.exec(ch);){if(cj<cc.index&&b8.text(at(ch.substr(cj,cc.index-cj))),ci=cc[6]){ci=ci.toLowerCase(),":"===ci.charAt(0)&&(ci=ci.substr(1)),b9(ci)}else{if(ci=cc[7]){if(ci=ci.toLowerCase(),":"===ci.charAt(0)&&(ci=ci.substr(1)),b4=ci in ck,b2&&X[ci]&&cg.length>0&&cg[cg.length-1].name===ci&&b9(ci),!b5||(cm=h.getElementRule(ci))){if(bt=!0,b5&&(q=cm.attributes,o=cm.attributePatterns),(cd=cc[8])?(b6=-1!==cd.indexOf("data-mce-type"),b6&&b3&&(bt=!1),ca=[],ca.map={},cd.replace(Z,cl)):(ca=[],ca.map={}),b5&&!b6){if(t=cm.attributesRequired,b1=cm.attributesDefault,b0=cm.attributesForced,bY=cm.removeEmptyAttrs,bY&&!ca.length&&(bt=!1),b0){for(cb=b0.length;cb--;){K=b0[cb],cf=K.name,J=K.value,"{$uid}"===J&&(J="mce_"+Y++),ca.map[cf]=J,ca.push({name:cf,value:J})}}if(b1){for(cb=b1.length;cb--;){K=b1[cb],cf=K.name,cf in ca.map||(J=K.value,"{$uid}"===J&&(J="mce_"+Y++),ca.map[cf]=J,ca.push({name:cf,value:J}))}}if(t){for(cb=t.length;cb--&&!(t[cb] in ca.map);){}-1===cb&&(bt=!1)}ca.map["data-mce-bogus"]&&(bt=!1)}bt&&b8.start(ci,ca,b4)}else{bt=!1}if(b7=G[ci]){b7.lastIndex=cj=cc.index+cc[0].length,(cc=b7.exec(ch))?(bt&&(ce=ch.substr(cj,cc.index-cj)),cj=cc.index+cc[0].length):(ce=ch.substr(cj),cj=ch.length),bt&&(ce.length>0&&b8.text(ce,!0),b8.end(ci)),Q.lastIndex=cj;continue}b4||(cd&&cd.indexOf("/")==cd.length-1?bt&&b8.end(ci):cg.push({name:ci,valid:bt}))}else{(ci=cc[1])?(">"===ci.charAt(0)&&(ci=" "+ci),f.allow_conditional_comments||"[if"!==ci.substr(0,3)||(ci=" "+ci),b8.comment(ci)):(ci=cc[2])?b8.cdata(ci):(ci=cc[3])?b8.doctype(ci):(ci=cc[4])&&b8.pi(ci,cc[5])}}cj=cc.index+cc[0].length}for(cj<ch.length&&b8.text(at(ch.substr(cj))),cb=cg.length-1;cb>=0;cb--){ci=cg[cb],ci.valid&&b8.end(ci.name)}}}}),aF(a1,[bz,ax,ay,aU],function(h,d,k,g){var c=g.makeMap,j=g.each,b=g.explode,f=g.extend;return function(n,e){function t(J){var z,l,x,G,K,E,I,D,w,A,B,C,H,F;for(B=c("tr,td,th,tbody,thead,tfoot,table"),A=e.getNonEmptyElements(),C=e.getTextBlockElements(),z=0;z<J.length;z++){if(l=J[z],l.parent&&!l.fixed){if(C[l.name]&&"li"==l.parent.name){for(H=l.next;H&&C[H.name];){H.name="li",H.fixed=!0,l.parent.insert(H,l.parent),H=H.next}l.unwrap(l)}else{for(G=[l],x=l.parent;x&&!e.isValidChild(x.name,l.name)&&!B[x.name];x=x.parent){G.push(x)}if(x&&G.length>1){for(G.reverse(),K=E=s.filterNode(G[0].clone()),w=0;w<G.length-1;w++){for(e.isValidChild(E.name,G[w].name)?(I=s.filterNode(G[w].clone()),E.append(I)):I=E,D=G[w].firstChild;D&&D!=G[w+1];){F=D.next,I.append(D),D=F}E=I}K.isEmpty(A)?x.insert(l,G[0],!0):(x.insert(K,G[0],!0),x.insert(l,K)),x=G[0],(x.isEmpty(A)||x.firstChild===x.lastChild&&"br"===x.firstChild.name)&&x.empty().remove()}else{if(l.parent){if("li"===l.name){if(H=l.prev,H&&("ul"===H.name||"ul"===H.name)){H.append(l);continue}if(H=l.next,H&&("ul"===H.name||"ul"===H.name)){H.insert(l,H.firstChild,!0);continue}l.wrap(s.filterNode(new h("ul",1)));continue}e.isValidChild(l.parent.name,"div")&&e.isValidChild("div",l.name)?l.wrap(s.filterNode(new h("div",1))):"style"===l.name||"script"===l.name?l.empty().remove():l.unwrap()}}}}}}var s=this,i={},o=[],q={},a={};n=n||{},n.validate="validate" in n?n.validate:!0,n.root_name=n.root_name||"body",s.schema=e=e||new d,s.filterNode=function(p){var l,u,m;u in i&&(m=q[u],m?m.push(p):q[u]=[p]),l=o.length;for(;l--;){u=o[l].name,u in p.attributes.map&&(m=a[u],m?m.push(p):a[u]=[p])}return p},s.addNodeFilter=function(m,l){j(b(m),function(p){var r=i[p];r||(i[p]=r=[]),r.push(l)})},s.addAttributeFilter=function(m,l){j(b(m),function(p){var r;for(r=0;r<o.length;r++){if(o[r].name===p){return void o[r].callbacks.push(l)}}o.push({name:p,callbacks:[l]})})},s.parse=function(Y,bZ){function b5(){function x(A){A&&(w=A.firstChild,w&&3==w.type&&(w.value=w.value.replace(p,"")),w=A.lastChild,w&&3==w.type&&(w.value=w.value.replace(Z,"")))}var w=J.firstChild,y,v;if(e.isValidChild(J.name,K.toLowerCase())){for(;w;){y=w.next,3==w.type||1==w.type&&"p"!==w.name&&!l[w.name]&&!w.attr("data-mce-type")?v?v.append(w):(v=b3(K,1),v.attr(n.forced_root_block_attrs),J.insert(v,w),v.append(w)):(x(v),v=null),w=y}x(v)}}function b3(w,y){var x=new h(w,y),v;return w in i&&(v=q[w],v?v.push(x):q[w]=[x]),x}function b1(x){var v,y,w;for(v=x.prev;v&&3===v.type;){y=v.value.replace(Z,""),y.length>0?(v.value=y,v=v.prev):(w=v.prev,v.remove(),v=w)}}function b2(w){var v,x={};for(v in w){"li"!==v&&"p"!=v&&(x[v]=w[v])}return x}var W,J,b4,at,Q,V,b6,X,z,b0,m,l,p,bY=[],bt,Z,G,F,U,r,u,K;if(bZ=bZ||{},q={},a={},l=f(c("script,style,head,html,body,title,meta,param"),e.getBlockElements()),u=e.getNonEmptyElements(),r=e.children,m=n.validate,K="forced_root_block" in bZ?bZ.forced_root_block:n.forced_root_block,U=e.getWhiteSpaceElements(),p=/^[ \t\r\n]+/,Z=/[ \t\r\n]+$/,G=/[ \t\r\n]+/g,F=/^[ \t\r\n]+$/,W=new k({validate:m,allow_script_urls:n.allow_script_urls,allow_conditional_comments:n.allow_conditional_comments,self_closing_elements:b2(e.getSelfClosingElements()),cdata:function(v){b4.append(b3("#cdata",4)).value=v},text:function(w,v){var x;bt||(w=w.replace(G," "),b4.lastChild&&l[b4.lastChild.name]&&(w=w.replace(p,""))),0!==w.length&&(x=b3("#text",3),x.raw=!!v,b4.append(x).value=w)},comment:function(v){b4.append(b3("#comment",8)).value=v},pi:function(w,v){b4.append(b3(w,7)).value=v,b1(b4)},doctype:function(w){var v;v=b4.append(b3("#doctype",10)),v.value=w,b1(b4)},start:function(B,x,D){var A,w,C,v,y;if(C=m?e.getElementRule(B):{}){for(A=b3(C.outputName||B,1),A.attributes=x,A.shortEnded=D,b4.append(A),y=r[b4.name],y&&r[A.name]&&!y[A.name]&&bY.push(A),w=o.length;w--;){v=o[w].name,v in x.map&&(z=a[v],z?z.push(A):a[v]=[A])}l[B]&&b1(A),D||(b4=A),!bt&&U[B]&&(bt=!0)}},end:function(x){var B,y,w,A,v;if(y=m?e.getElementRule(x):{}){if(l[x]&&!bt){if(B=b4.firstChild,B&&3===B.type){if(w=B.value.replace(p,""),w.length>0){B.value=w,B=B.next}else{for(A=B.next,B.remove(),B=A;B&&3===B.type;){w=B.value,A=B.next,(0===w.length||F.test(w))&&(B.remove(),B=A),B=A}}}if(B=b4.lastChild,B&&3===B.type){if(w=B.value.replace(Z,""),w.length>0){B.value=w,B=B.prev}else{for(A=B.prev,B.remove(),B=A;B&&3===B.type;){w=B.value,A=B.prev,(0===w.length||F.test(w))&&(B.remove(),B=A),B=A}}}}if(bt&&U[x]&&(bt=!1),(y.removeEmpty||y.paddEmpty)&&b4.isEmpty(u)){if(y.paddEmpty){b4.empty().append(new h("#text","3")).value="\xa0"}else{if(!b4.attributes.map.name&&!b4.attributes.map.id){return v=b4.parent,b4.empty().remove(),void (b4=v)}}}b4=b4.parent}}},e),J=b4=new h(bZ.context||n.root_name,11),W.parse(Y),m&&bY.length&&(bZ.context?bZ.invalid=!0:t(bY)),K&&("body"==J.name||bZ.isRootContent)&&b5(),!bZ.invalid){for(b0 in q){for(z=i[b0],at=q[b0],b6=at.length;b6--;){at[b6].parent||at.splice(b6,1)}for(Q=0,V=z.length;V>Q;Q++){z[Q](at,b0,bZ)}}for(Q=0,V=o.length;V>Q;Q++){if(z=o[Q],z.name in a){for(at=a[z.name],b6=at.length;b6--;){at[b6].parent||at.splice(b6,1)}for(b6=0,X=z.callbacks.length;X>b6;b6++){z.callbacks[b6](at,z.name,bZ)}}}}return J},n.remove_trailing_brs&&s.addNodeFilter("br",function(F){var x,l=F.length,z,w=f({},e.getBlockElements()),D=e.getNonEmptyElements(),C,B,E,A,v,y;for(w.body=1,x=0;l>x;x++){if(z=F[x],C=z.parent,w[z.parent.name]&&z===C.lastChild){for(E=z.prev;E;){if(A=E.name,"span"!==A||"bookmark"!==E.attr("data-mce-type")){if("br"!==A){break}if("br"===A){z=null;break}}E=E.prev}z&&(z.remove(),C.isEmpty(D)&&(v=e.getElementRule(C.name),v&&(v.removeEmpty?C.remove():v.paddEmpty&&(C.empty().append(new h("#text",3)).value="\xa0"))))}else{for(B=z;C&&C.firstChild===B&&C.lastChild===B&&(B=C,!w[C.name]);){C=C.parent}B===C&&(y=new h("#text",3),y.value="\xa0",z.replace(y))}}}),n.allow_html_in_named_anchor||s.addAttributeFilter("id,name",function(u){for(var m=u.length,w,p,l,v;m--;){if(v=u[m],"a"===v.name&&v.firstChild&&!v.attr("href")){l=v.parent,w=v.lastChild;do{p=w.prev,l.insert(w,v),w=p}while(w)}}})}}),aF(bx,[aM,aU],function(b,a){var c=a.makeMap;return function(g){var j=[],f,k,e,h,d;return g=g||{},f=g.indent,k=c(g.indent_before||""),e=c(g.indent_after||""),h=b.getEncodeFunc(g.entity_encoding||"raw",g.entities),d="html"==g.element_format,{start:function(o,l,r){var q,p,i,m;if(f&&k[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n")),j.push("<",o),l){for(q=0,p=l.length;p>q;q++){i=l[q],j.push(" ",i.name,'="',h(i.value,!0),'"')}}j[j.length]=!r||d?">":" />",r&&f&&e[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n"))},end:function(l){var i;j.push("</",l,">"),f&&e[l]&&j.length>0&&(i=j[j.length-1],i.length>0&&"\n"!==i&&j.push("\n"))},text:function(l,i){l.length>0&&(j[j.length]=i?l:h(l))},cdata:function(i){j.push("<![CDATA[",i,"]]>")},comment:function(i){j.push("<!--",i,"-->")},pi:function(l,i){i?j.push("<?",l," ",i,"?>"):j.push("<?",l,"?>"),f&&j.push("\n")},doctype:function(i){j.push("<!DOCTYPE",i,">",f?"\n":"")},reset:function(){j.length=0},getContent:function(){return j.join("").replace(/\n$/,"")}}}}),aF(bm,[bx,ax],function(b,a){return function(f,d){var c=this,e=new b(f);f=f||{},f.validate="validate" in f?f.validate:!0,c.schema=d=d||new a,c.writer=e,c.serialize=function(k){function j(w){var o=h[w.type],A,r,y,x,z,v,i,q,t;if(o){o(w)}else{if(A=w.name,r=w.shortEnded,y=w.attributes,g&&y&&y.length>1){for(v=[],v.map={},t=d.getElementRule(w.name),i=0,q=t.attributesOrder.length;q>i;i++){x=t.attributesOrder[i],x in y.map&&(z=y.map[x],v.map[x]=z,v.push({name:x,value:z}))}for(i=0,q=y.length;q>i;i++){x=y[i].name,x in v.map||(z=y.map[x],v.map[x]=z,v.push({name:x,value:z}))}y=v}if(e.start(w.name,y,r),!r){if(w=w.firstChild){do{j(w)}while(w=w.next)}e.end(A)}}}var h,g;return g=f.validate,h={3:function(i){e.text(i.value,i.raw)},8:function(i){e.comment(i.value)},7:function(i){e.pi(i.name,i.value)},10:function(i){e.doctype(i.value)},4:function(i){e.cdata(i.value)},11:function(i){if(i=i.firstChild){do{j(i)}while(i=i.next)}}},e.reset(),1!=k.type||f.inner?h[11](k):j(k),e.getContent()}}}),aF(aP,[aB,a1,aM,bm,bz,ax,aS,aU],function(k,u,g,b,j,f,q,v){var h=v.each,p=v.trim,m=k.DOM;return function(n,c){var d,a,l;return c&&(d=c.dom,a=c.schema),d=d||m,a=a||new f(n),n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs="remove_trailing_brs" in n?n.remove_trailing_brs:!0,l=new u(n,a),l.addAttributeFilter("data-mce-tabindex",function(s,i){for(var w=s.length,o;w--;){o=s[w],o.attr("tabindex",o.attributes.map["data-mce-tabindex"]),o.attr(i,null)}}),l.addAttributeFilter("src,href,style",function(C,w){for(var e=C.length,y,s,B="data-mce-"+w,x=n.url_converter,A=n.url_converter_scope,z;e--;){y=C[e],s=y.attributes.map[B],s!==z?(y.attr(w,s.length>0?s:null),y.attr(B,null)):(s=y.attributes.map[w],"style"===w?s=d.serializeStyle(d.parseStyle(s),y.name):x&&(s=x.call(A,s,w,y.name)),y.attr(w,s.length>0?s:null))}}),l.addAttributeFilter("class",function(s){for(var i=s.length,w,o;i--;){w=s[i],o=w.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),w.attr("class",o.length>0?o:null)}}),l.addAttributeFilter("data-mce-type",function(x,s,y){for(var w=x.length,o;w--;){o=x[w],"bookmark"!==o.attributes.map["data-mce-type"]||y.cleanup||o.remove()}}),l.addAttributeFilter("data-mce-expando",function(o,i){for(var r=o.length;r--;){o[r].attr(i,null)}}),l.addNodeFilter("noscript",function(s){for(var i=s.length,o;i--;){o=s[i].firstChild,o&&(o.value=g.decode(o.value))}}),l.addNodeFilter("script,style",function(z,x){function B(i){return i.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var y=z.length,w,A;y--;){if(w=z[y],A=w.firstChild?w.firstChild.value:"","script"===x){var s=(w.attr("type")||"text/javascript").replace(/^mce\-/,"");w.attr("type","text/javascript"===s?null:s),A.length>0&&(w.firstChild.value="// <![CDATA[\n"+B(A)+"\n// ]]>")}else{A.length>0&&(w.firstChild.value="<!--\n"+B(A)+"\n-->")}}}),l.addNodeFilter("#comment",function(o){for(var i=o.length,r;i--;){r=o[i],0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=r.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))}}),l.addNodeFilter("xml:namespace,input",function(s,i){for(var w=s.length,o;w--;){o=s[w],7===o.type?o.remove():1===o.type&&("input"!==i||"type" in o.attributes.map||o.attr("type","text"))}}),n.fix_list_elements&&l.addNodeFilter("ul,ol",function(s){for(var i=s.length,w,o;i--;){w=s[i],o=w.parent,("ul"===o.name||"ol"===o.name)&&w.prev&&"li"===w.prev.name&&w.prev.append(w)}}),l.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected",function(o,i){for(var r=o.length;r--;){o[r].attr(i,null)}}),{schema:a,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:function(s,A){var r=this,z,y,x,e,w;return q.ie&&d.select("script,style,select,map").length>0?(w=s.innerHTML,s=s.cloneNode(!1),d.setHTML(s,w)):s=s.cloneNode(!0),z=s.ownerDocument.implementation,z.createHTMLDocument&&(y=z.createHTMLDocument(""),h("BODY"==s.nodeName?s.childNodes:[s],function(i){y.body.appendChild(y.importNode(i,!0))}),s="BODY"!=s.nodeName?y.body.firstChild:y.body,x=d.doc,d.doc=y),A=A||{},A.format=A.format||"html",A.selection&&(A.forced_root_block=""),A.no_events||(A.node=s,r.onPreProcess(A)),e=new b(n,a),A.content=e.serialize(l.parse(p(A.getInner?s.innerHTML:d.getOuterHTML(s)),A)),A.cleanup||(A.content=A.content.replace(/\uFEFF/g,"")),A.no_events||r.onPostProcess(A),x&&(d.doc=x),A.node=null,A.content},addRules:function(i){a.addValidElements(i)},setRules:function(i){a.setValidElements(i)},onPreProcess:function(i){c&&c.fire("PreProcess",i)},onPostProcess:function(i){c&&c.fire("PostProcess",i)}}}}),aF(bf,[],function(){function a(f){function c(z,k){var e,p=0,j,x,A,m,w,v,y=-1,q;if(e=z.duplicate(),e.collapse(k),q=e.parentElement(),q.ownerDocument===f.dom.doc){for(;"false"===q.contentEditable;){q=q.parentNode}if(!q.hasChildNodes()){return{node:q,inside:1}}for(A=q.children,j=A.length-1;j>=p;){if(v=Math.floor((p+j)/2),m=A[v],e.moveToElementText(m),y=e.compareEndPoints(k?"StartToStart":"EndToEnd",z),y>0){j=v-1}else{if(!(0>y)){return{node:m}}p=v+1}}if(0>y){for(m?e.collapse(!1):(e.moveToElementText(q),e.collapse(!0),m=q,x=!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",1)&&q==e.parentElement();){w++}}else{for(e.collapse(!0),w=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",-1)&&q==e.parentElement();){w++}}return{node:m,position:y,offset:w,inside:x}}}function h(){function i(x){var A=c(e,x),w,u,v=0,o,z,y;if(w=A.node,u=A.offset,A.inside&&!w.hasChildNodes()){return void q[x?"setStart":"setEnd"](w,0)}if(u===z){return void q[x?"setStartBefore":"setEndAfter"](w)}if(A.position<0){if(o=A.inside?w.firstChild:w.nextSibling,!o){return void q[x?"setStartAfter":"setEndAfter"](w)}if(!u){return void (3==o.nodeType?q[x?"setStart":"setEnd"](o,0):q[x?"setStartBefore":"setEndBefore"](o))}for(;o;){if(y=o.nodeValue,v+=y.length,v>=u){w=o,v-=u,v=y.length-v;break}o=o.nextSibling}}else{if(o=w.previousSibling,!o){return q[x?"setStartBefore":"setEndBefore"](w)}if(!u){return void (3==w.nodeType?q[x?"setStart":"setEnd"](o,w.nodeValue.length):q[x?"setStartAfter":"setEndAfter"](o))}for(;o;){if(v+=o.nodeValue.length,v>=u){w=o,v-=u;break}o=o.previousSibling}}q[x?"setStart":"setEnd"](w,v)}var e=f.getRng(),q=b.createRng(),t,j,p,m,r;if(t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=b.doc){return q}if(j=f.isCollapsed(),e.item){return q.setStart(t.parentNode,b.nodeIndex(t)),q.setEnd(q.startContainer,q.startOffset+1),q}try{i(!0),j||i()}catch(k){if(-2147024809!=k.number){throw k}r=d.getBookmark(2),p=e.duplicate(),p.collapse(!0),t=p.parentElement(),j||(p=e.duplicate(),p.collapse(!1),m=p.parentElement(),m.innerHTML=m.innerHTML),t.innerHTML=t.innerHTML,d.moveToBookmark(r),e=f.getRng(),i(!0),j||i()}return q}var d=this,b=f.dom,g=!1;this.getBookmark=function(l){function j(s){var p,v,q,u,m=[];for(p=s.parentNode,v=b.getRoot().parentNode;p!=v&&9!==p.nodeType;){for(q=p.children,u=q.length;u--;){if(s===q[u]){m.push(u);break}}s=p,p=p.parentNode}return m}function k(m){var o;return o=c(e,m),o?{position:o.position,offset:o.offset,indexes:j(o.node),inside:o.inside}:void 0}var e=f.getRng(),i={};return 2===l&&(e.item?i.start={ctrl:!0,indexes:j(e.item(0))}:(i.start=k(!0),f.isCollapsed()||(i.end=k()))),i},this.moveToBookmark=function(k){function i(s){var p,v,q,u;for(p=b.getRoot(),v=s.length-1;v>=0;v--){u=p.children,q=s[v],q<=u.length-1&&(p=u[q])}return p}function m(t){var p=k[t?"start":"end"],o,q,e,r;p&&(o=p.position>0,q=l.createTextRange(),q.moveToElementText(i(p.indexes)),r=p.offset,r!==e?(q.collapse(p.inside||o),q.moveStart("character",o?-r:r)):q.collapse(t),j.setEndPoint(t?"StartToStart":"EndToStart",q),t&&j.collapse(!0))}var j,l=b.doc.body;k.start&&(k.start.ctrl?(j=l.createControlRange(),j.addElement(i(k.start.indexes)),j.select()):(j=l.createTextRange(),m(!0),m(),j.select()))},this.addRange=function(B){function j(D){var s,E,p,r,l;p=b.create("a"),s=D?C:y,E=D?o:x,r=e.duplicate(),(s==w||s==w.documentElement)&&(s=i,E=0),3==s.nodeType?(s.parentNode.insertBefore(p,s),r.moveToElementText(p),r.moveStart("character",E),b.remove(p),e.setEndPoint(D?"StartToStart":"EndToEnd",r)):(l=s.childNodes,l.length?(E>=l.length?b.insertAfter(p,l[l.length-1]):s.insertBefore(p,l[E]),r.moveToElementText(p)):s.canHaveHTML&&(s.innerHTML="<span>&#xFEFF;</span>",p=s.firstChild,r.moveToElementText(p),r.collapse(g)),e.setEndPoint(D?"StartToStart":"EndToEnd",r),b.remove(p))}var e,z,C,o,y,x,A,w=f.dom.doc,i=w.body,k,q;if(C=B.startContainer,o=B.startOffset,y=B.endContainer,x=B.endOffset,e=i.createTextRange(),C==y&&1==C.nodeType){if(o==x&&!C.hasChildNodes()){if(C.canHaveHTML){return A=C.previousSibling,A&&!A.hasChildNodes()&&b.isBlock(A)?A.innerHTML="&#xFEFF;":A=null,C.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",e.moveToElementText(C.lastChild),e.select(),b.doc.selection.clear(),C.innerHTML="",void (A&&(A.innerHTML=""))}o=b.nodeIndex(C),C=C.parentNode}if(o==x-1){try{if(q=C.childNodes[o],z=i.createControlRange(),z.addElement(q),z.select(),k=f.getRng(),k.item&&q===k.item(0)){return}}catch(v){}}}j(!0),j(),e.select()},this.getRangeAt=h}return a}),aF(bd,[aS],function(a){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey},metaKeyPressed:function(b){return(a.mac?b.metaKey:b.ctrlKey)&&!b.altKey}}}),aF(bh,[bd,aU,aS],function(b,a,c){return function(b4,ca){function b6(f){var d=ca.settings.object_resizing;return d===!1||c.iOS?!1:("string"!=typeof d&&(d="table,img,div"),"false"===f.getAttribute("data-mce-resize")?!1:ca.dom.is(f,d))}function ch(d){var g,f;g=d.screenX-j,f=d.screenY-e,U=g*G[2]+Z,q=f*G[3]+X,U=5>U?5:U,q=5>q?5:q,(b.modifierPressed(d)||"IMG"==b0.nodeName&&G[2]*G[3]!==0)&&(U=Math.round(q/K),q=Math.round(U*K)),Y.setStyles(ci,{width:U,height:q}),G[2]<0&&ci.clientWidth<=U&&Y.setStyle(ci,"left",n+(Z-U)),G[3]<0&&ci.clientHeight<=q&&Y.setStyle(ci,"top",at+(X-q)),J||(ca.fire("ObjectResizeStart",{target:b0,width:Z,height:X}),J=!0)}function b3(){function d(g,f){f&&(b0.style[g]||!ca.schema.isValid(b0.nodeName.toLowerCase(),g)?Y.setStyle(b0,g,f):Y.setAttrib(b0,g,f))}J=!1,d("width",U),d("height",q),Y.unbind(t,"mousemove",ch),Y.unbind(t,"mouseup",b3),Q!=t&&(Y.unbind(Q,"mousemove",ch),Y.unbind(Q,"mouseup",b3)),Y.remove(ci),V&&"TABLE"!=b0.nodeName||b8(b0),ca.fire("ObjectResized",{target:b0,width:U,height:q}),ca.nodeChanged()}function b8(s,x,g){var k,v,w,o,h,i=ca.getBody();cc(),k=Y.getPos(s,i),n=k.x,at=k.y,h=s.getBoundingClientRect(),v=h.width||h.right-h.left,w=h.height||h.bottom-h.top,b0!=s&&(cb(),b0=s,U=q=0),o=ca.fire("ObjectSelected",{target:s}),b6(s)&&!o.isDefaultPrevented()?bZ(W,function(p,r){function d(f){j=f.screenX,e=f.screenY,Z=b0.clientWidth,X=b0.clientHeight,K=X/Z,G=p,ci=b0.cloneNode(!0),Y.addClass(ci,"mce-clonedresizable"),ci.contentEditable=!1,ci.unSelectabe=!0,Y.setStyles(ci,{left:n,top:at,margin:0}),ci.removeAttribute("data-mce-selected"),ca.getBody().appendChild(ci),Y.bind(t,"mousemove",ch),Y.bind(t,"mouseup",b3),Q!=t&&(Y.bind(Q,"mousemove",ch),Y.bind(Q,"mouseup",b3))}var u,m;return x?void (r==x&&d(g)):(u=Y.get("mceResizeHandle"+r),u?Y.show(u):(m=ca.getBody(),u=Y.add(m,"div",{id:"mceResizeHandle"+r,"data-mce-bogus":!0,"class":"mce-resizehandle",unselectable:!0,style:"cursor:"+r+"-resize; margin:0; padding:0"}),c.ie&&(u.contentEditable=!1)),p.elm||(Y.bind(u,"mousedown",function(f){f.stopImmediatePropagation(),f.preventDefault(),d(f)}),p.elm=u),void Y.setStyles(u,{left:v*p[0]+n-u.offsetWidth/2,top:w*p[1]+at-u.offsetHeight/2}))}):cf(),b0.setAttribute("data-mce-selected","1")}function cf(){var f,d;cc(),b0&&b0.removeAttribute("data-mce-selected");for(f in W){d=Y.get("mceResizeHandle"+f),d&&(Y.unbind(d),Y.remove(d))}}function ce(f){function d(i,h){if(i){do{if(i===h){return !0}}while(i=i.parentNode)}}var g;return bZ(Y.select("img[data-mce-selected],hr[data-mce-selected]"),function(h){h.removeAttribute("data-mce-selected")}),g="mousedown"==f.type?f.target:b4.getNode(),g=Y.getParent(g,V?"table":"table,img,hr"),d(g,ca.getBody())&&(b1(),d(b4.getStart(),g)&&d(b4.getEnd(),g)&&(!V||g!=b4.getStart()&&"IMG"!==b4.getStart().nodeName))?void b8(g):void cf()}function b2(f,d,g){f&&f.attachEvent&&f.attachEvent("on"+d,g)}function cd(f,d,g){f&&f.detachEvent&&f.detachEvent("on"+d,g)}function b5(i){var p=i.srcElement,h,f,g,m,u,l,k;h=p.getBoundingClientRect(),l=b9.clientX-h.left,k=b9.clientY-h.top;for(f in W){if(g=W[f],m=p.offsetWidth*g[0],u=p.offsetHeight*g[1],Math.abs(m-l)<8&&Math.abs(u-k)<8){G=g;break}}J=!0,ca.getDoc().selection.empty(),b8(p,f,b9)}function b7(f){var d=f.srcElement;if(d!=b0){if(cb(),0===d.id.indexOf("mceResizeHandle")){return void (f.returnValue=!1)}("IMG"==d.nodeName||"TABLE"==d.nodeName)&&(cf(),b0=d,b2(d,"resizestart",b5))}}function cb(){cd(b0,"resizestart",b5)}function cc(){for(var f in W){var d=W[f];d.elm&&(Y.unbind(d.elm),delete d.elm)}}function b1(){try{ca.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(d){}}function bY(f){var d;if(V){d=t.body.createControlRange();try{return d.addElement(f),d.select(),!0}catch(g){}}}function cg(){b0=ci=null,V&&(cb(),cd(ca.getBody(),"controlselect",b7))}var Y=ca.dom,bZ=a.each,b0,ci,W,G,b9,j,e,n,at,Z,X,K,J,U,q,t=ca.getDoc(),Q=document,V=c.ie&&c.ie<11;W={n:[0.5,0,0,-1],e:[1,0.5,1,0],s:[0.5,1,0,1],w:[0,0.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var bt=".mce-content-body";return ca.contentStyles.push(bt+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}"+bt+" .mce-resizehandle:hover {background: #000}"+bt+" img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}"+bt+" .mce-clonedresizable {position: absolute;"+(c.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"),ca.on("init",function(){V?(ca.on("ObjectResized",function(d){"TABLE"!=d.target.nodeName&&(cf(),bY(d.target))}),b2(ca.getBody(),"controlselect",b7),ca.on("mousedown",function(d){b9=d})):(b1(),c.ie>=11&&(ca.on("mouseup",function(f){var d=f.target.nodeName;/^(TABLE|IMG|HR)$/.test(d)&&(ca.selection.select(f.target,"TABLE"==d),ca.nodeChanged())}),ca.dom.bind(ca.getBody(),"mscontrolselect",function(d){/^(TABLE|IMG|HR)$/.test(d.target.nodeName)&&(d.preventDefault(),"IMG"==d.target.tagName&&window.setTimeout(function(){ca.selection.select(d.target)},0))}))),ca.on("nodechange mousedown mouseup ResizeEditor",ce),ca.on("keydown keyup",function(d){b0&&"TABLE"==b0.nodeName&&ce(d)}),ca.on("hide",cf)}),ca.on("remove",cc),{isResizable:b6,showResizeRect:b8,hideResizeRect:cf,updateResizeRect:ce,controlSelect:bY,destroy:cg}}}),aF(bC,[aU,aC],function(c,a){function d(f){this.walk=function(H,k){function w(h){var g;return g=h[0],3===g.nodeType&&g===r&&C>=g.nodeValue.length&&h.splice(0,1),g=h[h.length-1],0===G&&h.length>0&&g===B&&3===g.nodeType&&h.splice(h.length-1,1),h}function j(i,g,l){for(var h=[];i&&i!=l;i=i[g]){h.push(i)}return h}function E(h,g){do{if(h.parentNode==g){return h}h=h.parentNode}while(h)}function I(l,h,i){var g=i?"nextSibling":"previousSibling";for(x=l,z=x.parentNode;x&&x!=h;x=z){z=x.parentNode,F=j(x==l?x:x[g],g),F.length&&(i||F.reverse(),k(w(F)))}}var r=H.startContainer,C=H.startOffset,B=H.endContainer,G=H.endOffset,A,e,q,x,z,F,D;if(D=f.select("td.mce-item-selected,th.mce-item-selected"),D.length>0){return void b(D,function(g){k([g])})}if(1==r.nodeType&&r.hasChildNodes()&&(r=r.childNodes[C]),1==B.nodeType&&B.hasChildNodes()&&(B=B.childNodes[Math.min(G-1,B.childNodes.length-1)]),r==B){return k(w([r]))}for(A=f.findCommonAncestor(r,B),x=r;x;x=x.parentNode){if(x===B){return I(r,A,!0)}if(x===A){break}}for(x=B;x;x=x.parentNode){if(x===r){return I(B,A)}if(x===A){break}}e=E(r,A)||r,q=E(B,A)||B,I(r,e,!0),F=j(e==r?e:e.nextSibling,"nextSibling",q==B?q.nextSibling:q),F.length&&k(w(F)),I(B,q)},this.split=function(k){function h(n,i){return n.splitText(i)}var m=k.startContainer,j=k.startOffset,g=k.endContainer,l=k.endOffset;return m==g&&3==m.nodeType?j>0&&j<m.nodeValue.length&&(g=h(m,j),m=g.previousSibling,l>j?(l-=j,m=g=h(g,l).previousSibling,l=g.nodeValue.length,j=0):l=0):(3==m.nodeType&&j>0&&j<m.nodeValue.length&&(m=h(m,j),j=0),3==g.nodeType&&l>0&&l<g.nodeValue.length&&(g=h(g,l).previousSibling,l=g.nodeValue.length)),{startContainer:m,startOffset:j,endContainer:g,endOffset:l}},this.normalize=function(j){function g(i){function y(p,m){for(var l=new a(p,f.getParent(p.parentNode,f.isBlock)||v);p=l[m?"prev":"next"]();){if("BR"===p.nodeName){return !0}}}function A(m,l){return m.previousSibling&&m.previousSibling.nodeName==l}function o(C,B){var p,u,m;if(B=B||x,m=f.getParent(B.parentNode,f.isBlock)||v,C&&"BR"==B.nodeName&&t&&f.isEmpty(m)){return x=B.parentNode,w=f.nodeIndex(B),void (e=!0)}for(p=new a(B,m);k=p[C?"prev":"next"]();){if("false"===f.getContentEditableParent(k)){return}if(3===k.nodeType&&k.nodeValue.length>0){return x=k,w=C?k.nodeValue.length:0,void (e=!0)}if(f.isBlock(k)||n[k.nodeName.toLowerCase()]){return}u=k}h&&u&&(x=u,e=!0,w=0)}var x,w,z,v=f.getRoot(),k,n,q,t;if(x=j[(i?"start":"end")+"Container"],w=j[(i?"start":"end")+"Offset"],t=1==x.nodeType&&w===x.childNodes.length,n=f.schema.getNonEmptyElements(),q=i,1==x.nodeType&&w>x.childNodes.length-1&&(q=!1),9===x.nodeType&&(x=f.getRoot(),w=0),x===v){if(q&&(k=x.childNodes[w>0?w-1:0],k&&(n[k.nodeName]||"TABLE"==k.nodeName))){return}if(x.hasChildNodes()&&(w=Math.min(!q&&w>0?w-1:w,x.childNodes.length-1),x=x.childNodes[w],w=0,x.hasChildNodes()&&!/TABLE/.test(x.nodeName))){k=x,z=new a(x,v);do{if(3===k.nodeType&&k.nodeValue.length>0){w=q?0:k.nodeValue.length,x=k,e=!0;break}if(n[k.nodeName.toLowerCase()]){w=f.nodeIndex(k),x=k.parentNode,"IMG"!=k.nodeName||q||w++,e=!0;break}}while(k=q?z.next():z.prev())}}h&&(3===x.nodeType&&0===w&&o(!0),1===x.nodeType&&(k=x.childNodes[w],k||(k=x.childNodes[w-1]),!k||"BR"!==k.nodeName||A(k,"A")||y(k)||y(k,!0)||o(!0,k))),q&&!h&&3===x.nodeType&&w===x.nodeValue.length&&o(!1),e&&j["set"+(i?"Start":"End")](x,w)}var e,h;return h=j.collapsed,g(!0),h||g(),e&&h&&j.collapse(!0),e}}var b=c.each;return d.compareRanges=function(g,f){if(g&&f){if(!g.item&&!g.duplicate){return g.startContainer==f.startContainer&&g.startOffset==f.startOffset}if(g.item&&f.item&&g.item(0)===f.item(0)){return !0}if(g.isEqual&&f.isEqual&&f.isEqual(g)){return !0}}return !1},d}),aF(bB,[aC,bf,bh,bC,aS,aU],function(p,h,b,k,g,v){function x(l,f,d,n){var c=this;c.dom=l,c.win=f,c.serializer=d,c.editor=n,c.controlSelection=new b(c,n),c.win.getSelection||(c.tridentSel=new h(c))}var j=v.each,t=v.grep,q=v.trim,w=g.ie,m=g.opera;return x.prototype={setCursorLocation:function(d,a){var f=this,c=f.dom.createRng();d?(c.setStart(d,a),c.setEnd(d,a),f.setRng(c),f.collapse(!1)):(f._moveEndPoint(c,f.editor.getBody(),!0),f.setRng(c))},getContent:function(z){var B=this,y=B.getRng(),f=B.dom.create("body"),A=B.getSel(),d,u,c;return z=z||{},d=u="",z.get=!0,z.format=z.format||"html",z.selection=!0,B.editor.fire("BeforeGetContent",z),"text"==z.format?B.isCollapsed()?"":y.text||(A.toString?A.toString():""):(y.cloneContents?(c=y.cloneContents(),c&&f.appendChild(c)):y.item!==aD||y.htmlText!==aD?(f.innerHTML="<br>"+(y.item?y.item(0).outerHTML:y.htmlText),f.removeChild(f.firstChild)):f.innerHTML=y.toString(),/^\s/.test(f.innerHTML)&&(d=" "),/\s+$/.test(f.innerHTML)&&(u=" "),z.getInner=!0,z.content=B.isCollapsed()?"":d+B.serializer.serialize(f,z)+u,B.editor.fire("GetContent",z),z.content)},setContent:function(z,B){var f=this,c=f.getRng(),y,d=f.win.document,A,C;if(B=B||{format:"html"},B.set=!0,B.selection=!0,z=B.content=z,B.no_events||f.editor.fire("BeforeSetContent",B),z=B.content,c.insertNode){z+='<span id="__caret">_</span>',c.startContainer==d&&c.endContainer==d?d.body.innerHTML=z:(c.deleteContents(),0===d.body.childNodes.length?d.body.innerHTML=z:c.createContextualFragment?c.insertNode(c.createContextualFragment(z)):(A=d.createDocumentFragment(),C=d.createElement("div"),A.appendChild(C),C.outerHTML=z,c.insertNode(A))),y=f.dom.get("__caret"),c=d.createRange(),c.setStartBefore(y),c.setEndBefore(y),f.setRng(c),f.dom.remove("__caret");try{f.setRng(c)}catch(u){}}else{c.item&&(d.execCommand("Delete",!1,null),c=f.getRng()),/^\s+/.test(z)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+z),f.dom.remove("__mce_tmp")):c.pasteHTML(z)}B.no_events||f.editor.fire("SetContent",B)},getStart:function(){var f=this,c=f.getRng(),s,d,a,l;if(c.duplicate||c.item){if(c.item){return c.item(0)}for(a=c.duplicate(),a.collapse(1),s=a.parentElement(),s.ownerDocument!==f.dom.doc&&(s=f.dom.getRoot()),d=l=c.parentElement();l=l.parentNode;){if(l==s){s=d;break}}return s}return s=c.startContainer,1==s.nodeType&&s.hasChildNodes()&&(s=s.childNodes[Math.min(s.childNodes.length-1,c.startOffset)]),s&&3==s.nodeType?s.parentNode:s},getEnd:function(){var d=this,a=d.getRng(),f,c;return a.duplicate||a.item?a.item?a.item(0):(a=a.duplicate(),a.collapse(0),f=a.parentElement(),f.ownerDocument!==d.dom.doc&&(f=d.dom.getRoot()),f&&"BODY"==f.nodeName?f.lastChild||f:f):(f=a.endContainer,c=a.endOffset,1==f.nodeType&&f.hasChildNodes()&&(f=f.childNodes[c>0?c-1:c]),f&&3==f.nodeType?f.parentNode:f)},getBookmark:function(G,L){function A(c,a){var d=0;return j(J.select(c),function(i,f){i==a&&(d=f)}),d}function l(c){function a(e){var u,f,d,s=e?"start":"end";u=c[s+"Container"],f=c[s+"Offset"],1==u.nodeType&&"TR"==u.nodeName&&(d=u.childNodes,u=d[Math.min(e?f:f-1,d.length-1)],u&&(f=e?0:u.childNodes.length,c["set"+(e?"Start":"End")](u,f)))}return a(!0),a(),c}function C(){function d(O,R){var u=O[R?"startContainer":"endContainer"],r=O[R?"startOffset":"endOffset"],N=[],o,Q,P=0;if(3==u.nodeType){if(L){for(o=u.previousSibling;o&&3==o.nodeType;o=o.previousSibling){r+=o.nodeValue.length}}N.push(r)}else{Q=u.childNodes,r>=Q.length&&Q.length&&(P=1,r=Math.max(0,Q.length-1)),N.push(z.dom.nodeIndex(Q[r],L)+P)}for(;u&&u!=c;u=u.parentNode){N.push(z.dom.nodeIndex(u,L))}return N}var f=z.getRng(!0),c=J.getRoot(),a={};return a.start=d(f,!0),z.isCollapsed()||(a.end=d(f)),a}var z=this,J=z.dom,M,I,H,K,F,y,B="&#xFEFF;",D;if(2==G){return y=z.getNode(),F=y?y.nodeName:null,"IMG"==F?{name:F,index:A(F,y)}:z.tridentSel?z.tridentSel.getBookmark(G):C()}if(G){return{rng:z.getRng()}}if(M=z.getRng(),H=J.uniqueId(),K=z.isCollapsed(),D="overflow:hidden;line-height:0px",M.duplicate||M.item){if(M.item){return y=M.item(0),F=y.nodeName,{name:F,index:A(F,y)}}I=M.duplicate();try{M.collapse(),M.pasteHTML('<span data-mce-type="bookmark" id="'+H+'_start" style="'+D+'">'+B+"</span>"),K||(I.collapse(!1),M.moveToElementText(I.parentElement()),0===M.compareEndPoints("StartToEnd",I)&&I.move("character",-1),I.pasteHTML('<span data-mce-type="bookmark" id="'+H+'_end" style="'+D+'">'+B+"</span>"))}catch(E){return null}}else{if(y=z.getNode(),F=y.nodeName,"IMG"==F){return{name:F,index:A(F,y)}}I=l(M.cloneRange()),K||(I.collapse(!1),I.insertNode(J.create("span",{"data-mce-type":"bookmark",id:H+"_end",style:D},B))),M=l(M),M.collapse(!0),M.insertNode(J.create("span",{"data-mce-type":"bookmark",id:H+"_start",style:D},B))}return z.moveToBookmark({id:H,keep:1}),{id:H}},moveToBookmark:function(B){function E(e){var H=B[e?"start":"end"],s,d,G,a;if(H){for(G=H[0],d=F,s=H.length-1;s>=1;s--){if(a=d.childNodes,H[s]>a.length-1){return}d=a[H[s]]}3===d.nodeType&&(G=Math.min(H[0],d.nodeValue.length)),1===d.nodeType&&(G=Math.min(H[0],d.childNodes.length)),e?D.setStart(d,G):D.setEnd(d,G)}return !0}function u(G){var J=l.get(B.id+"_"+G),I,o,d,H,e=B.keep;if(J&&(I=J.parentNode,"start"==G?(e?(I=J.firstChild,o=1):o=l.nodeIndex(J),C=f=I,y=A=o):(e?(I=J.firstChild,o=1):o=l.nodeIndex(J),f=I,A=o),!e)){for(H=J.previousSibling,d=J.nextSibling,j(t(J.childNodes),function(a){3==a.nodeType&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});J=l.get(B.id+"_"+G);){l.remove(J,1)}H&&d&&H.nodeType==d.nodeType&&3==H.nodeType&&!m&&(o=H.nodeValue.length,H.appendData(d.nodeValue),l.remove(d),"start"==G?(C=f=H,y=A=o):(f=H,A=o))}}function c(a){return !l.isBlock(a)||a.innerHTML||w||(a.innerHTML='<br data-mce-bogus="1" />'),a}var z=this,l=z.dom,D,F,C,f,y,A;if(B){if(B.start){if(D=l.createRng(),F=l.getRoot(),z.tridentSel){return z.tridentSel.moveToBookmark(B)}E(!0)&&E()&&z.setRng(D)}else{B.id?(u("start"),u("end"),C&&(D=l.createRng(),D.setStart(c(C),y),D.setEnd(c(f),A),z.setRng(D))):B.name?z.select(l.select(B.name)[B.index]):B.rng&&z.setRng(B.rng)}}},select:function(f,c){var s=this,d=s.dom,a=d.createRng(),l;if(s.lastFocusBookmark=null,f){if(!c&&s.controlSelection.controlSelect(f)){return}l=d.nodeIndex(f),a.setStart(f.parentNode,l),a.setEnd(f.parentNode,l+1),c&&(s._moveEndPoint(a,f,!0),s._moveEndPoint(a,f)),s.setRng(a)}return f},isCollapsed:function(){var c=this,a=c.getRng(),d=c.getSel();return !a||a.item?!1:a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!d||a.collapsed},collapse:function(d){var a=this,f=a.getRng(),c;f.item&&(c=f.item(0),f=a.win.document.body.createTextRange(),f.moveToElementText(c)),f.collapse(!!d),a.setRng(f)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(A){function D(i,a,l){try{return a.compareBoundaryPoints(i,l)}catch(c){return -1}}var u=this,d,z,f,C=u.win.document,E;if(!A&&u.lastFocusBookmark){var y=u.lastFocusBookmark;return y.startContainer?(z=C.createRange(),z.setStart(y.startContainer,y.startOffset),z.setEnd(y.endContainer,y.endOffset)):z=y,z}if(A&&u.tridentSel){return u.tridentSel.getRangeAt(0)}try{(d=u.getSel())&&(z=d.rangeCount>0?d.getRangeAt(0):d.createRange?d.createRange():C.createRange())}catch(B){}if(w&&z&&z.setStart&&C.selection){try{E=C.selection.createRange()}catch(B){}E&&E.item&&(f=E.item(0),z=C.createRange(),z.setStartBefore(f),z.setEndAfter(f))}return z||(z=C.createRange?C.createRange():C.body.createTextRange()),z.setStart&&9===z.startContainer.nodeType&&z.collapsed&&(f=u.dom.getRoot(),z.setStart(f,0),z.setEnd(f,0)),u.selectedRange&&u.explicitRange&&(0===D(z.START_TO_START,z,u.selectedRange)&&0===D(z.END_TO_END,z,u.selectedRange)?z=u.explicitRange:(u.selectedRange=null,u.explicitRange=null)),z},setRng:function(f,c){var l=this,d;if(f.select){try{f.select()}catch(a){}}else{if(l.tridentSel){if(f.cloneRange){try{return void l.tridentSel.addRange(f)}catch(a){}}}else{if(d=l.getSel()){l.explicitRange=f;try{d.removeAllRanges(),d.addRange(f)}catch(a){}c===!1&&d.extend&&(d.collapse(f.endContainer,f.endOffset),d.extend(f.startContainer,f.startOffset)),l.selectedRange=d.rangeCount>0?d.getRangeAt(0):null}}}},setNode:function(c){var a=this;return a.setContent(a.dom.getOuterHTML(c)),c},getNode:function(){function z(i,a){for(var l=i;i&&3===i.nodeType&&0===i.length;){i=a?i.nextSibling:i.previousSibling}return i||l}var B=this,f=B.getRng(),c,y=f.startContainer,d=f.endContainer,A=f.startOffset,C=f.endOffset,u=B.dom.getRoot();return f?f.setStart?(c=f.commonAncestorContainer,!f.collapsed&&(y==d&&2>C-A&&y.hasChildNodes()&&(c=y.childNodes[A]),3===y.nodeType&&3===d.nodeType&&(y=y.length===A?z(y.nextSibling,!0):y.parentNode,d=0===C?z(d.previousSibling,!1):d.parentNode,y&&y===d))?y:c&&3==c.nodeType?c.parentNode:c):(c=f.item?f.item(0):f.parentElement(),c.ownerDocument!==B.win.document&&(c=u),c):u},getSelectedBlocks:function(f,A){var y=this,e=y.dom,z,d,u=[];if(d=e.getRoot(),f=e.getParent(f||y.getStart(),e.isBlock),A=e.getParent(A||y.getEnd(),e.isBlock),f&&f!=d&&u.push(f),f&&A&&f!=A){z=f;for(var c=new p(f,d);(z=c.next())&&z!=A;){e.isBlock(z)&&u.push(z)}}return A&&f!=A&&A!=d&&u.push(A),u},isForward:function(){var d=this.dom,a=this.getSel(),f,c;return a&&a.anchorNode&&a.focusNode?(f=d.createRng(),f.setStart(a.anchorNode,a.anchorOffset),f.collapse(!0),c=d.createRng(),c.setStart(a.focusNode,a.focusOffset),c.collapse(!0),f.compareBoundaryPoints(f.START_TO_START,c)<=0):!0},normalize:function(){var c=this,a=c.getRng();return !w&&new k(c.dom).normalize(a)&&c.setRng(a,c.isForward()),a},selectorChanged:function(d,a){var f=this,c;return f.selectorChangedData||(f.selectorChangedData={},c={},f.editor.on("NodeChange",function(s){var r=s.element,n=f.dom,u=n.getParents(r,null,n.getRoot()),l={};j(f.selectorChangedData,function(o,i){j(u,function(e){return n.is(e,i)?(c[i]||(j(o,function(y){y(!0,{node:e,selector:i,parents:u})}),c[i]=o),l[i]=o,!1):void 0})}),j(c,function(i,o){l[o]||(delete c[o],j(i,function(y){y(!1,{node:r,selector:o,parents:u})}))})})),f.selectorChangedData[d]||(f.selectorChangedData[d]=[]),f.selectorChangedData[d].push(a),f},getScrollContainer:function(){for(var c,a=this.dom.getRoot();a&&"BODY"!=a.nodeName;){if(a.scrollHeight>a.clientHeight){c=a;break}a=a.parentNode}return c},scrollIntoView:function(A){function D(i){for(var a=0,l=0,c=i;c&&c.nodeType;){a+=c.offsetLeft||0,l+=c.offsetTop||0,c=c.offsetParent}return{x:a,y:l}}var u,d,z=this,f=z.dom,C=f.getRoot(),E,y;if("BODY"!=C.nodeName){var B=z.getScrollContainer();if(B){return u=D(A).y-D(B).y,y=B.clientHeight,E=B.scrollTop,void ((E>u||u+25>E+y)&&(B.scrollTop=E>u?u:u-y+25))}}d=f.getViewPort(z.editor.getWin()),u=f.getPos(A).y,E=d.y,y=d.h,(u<d.y||u+25>E+y)&&z.editor.getWin().scrollTo(0,E>u?u:u-y+25)},_moveEndPoint:function(e,o,l){var d=o,c=new p(o,d),f=this.dom.schema.getNonEmptyElements();do{if(3==o.nodeType&&0!==q(o.nodeValue).length){return void (l?e.setStart(o,0):e.setEnd(o,o.nodeValue.length))}if(f[o.nodeName]){return void (l?e.setStartBefore(o):"BR"==o.nodeName?e.setEndBefore(o):e.setEndAfter(o))}if(g.ie&&g.ie<11&&this.dom.isBlock(o)&&this.dom.isEmpty(o)){return void (l?e.setStart(o,0):e.setEnd(o,0))}}while(o=l?c.next():c.prev());"BODY"==d.nodeName&&(l?e.setStart(d,0):e.setEnd(d,d.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},x}),aF(by,[aU],function(b){function a(j,n){function d(i){return i.replace(/%(\w+)/g,"")}var h,f,m=j.dom,p="",g,k;if(k=j.settings.preview_styles,k===!1){return""}if(k||(k="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof n){if(n=j.formatter.get(n),!n){return}n=n[0]}return h=n.block||n.inline||"span",f=m.create(h),c(n.styles,function(l,i){l=d(l),l&&m.setStyle(f,i,l)}),c(n.attributes,function(l,i){l=d(l),l&&m.setAttrib(f,i,l)}),c(n.classes,function(i){i=d(i),m.hasClass(f,i)||m.addClass(f,i)}),j.fire("PreviewFormats"),m.setStyles(f,{position:"absolute",left:-65535}),j.getBody().appendChild(f),g=m.getStyle(j.getBody(),"fontSize",!0),g=/px$/.test(g)?parseInt(g,10):0,c(k.split(" "),function(e){var i=m.getStyle(f,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(i)&&(i=m.getStyle(j.getBody(),e,!0),"#ffffff"==m.toHex(i).toLowerCase())||"color"==e&&"#000000"==m.toHex(i).toLowerCase())){if("font-size"==e&&/em|%$/.test(i)){if(0===g){return}i=parseFloat(i,10)/(/%$/.test(i)?100:1),i=i*g+"px"}"border"==e&&i&&(p+="padding:0 2px;"),p+=e+":"+i+";"}}),j.fire("AfterPreviewFormats"),m.remove(f),p}var c=b.each;return{getCssText:a}}),aF(bp,[aC,bC,aU,by],function(c,a,d,b){return function(cC){function cw(f){return f.nodeType&&(f=f.nodeName),!!cC.schema.getTextBlockElements()[f.toLowerCase()]}function cK(g,f){return cm.getParents(g,f,cm.getRoot())}function cs(f){return 1===f.nodeType&&"_mce_caret"===f.id}function cy(){cr({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},wrap_links:!1},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},wrap_links:!1},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return !0},onformat:function(g,f,h){cA(h,function(i,j){cm.setAttrib(g,j,i)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),cA("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(f){cr(f,{block:f,remove:"all"})}),cr(cC.settings.formats)}function cI(){cC.addShortcut("ctrl+b","bold_desc","Bold"),cC.addShortcut("ctrl+i","italic_desc","Italic"),cC.addShortcut("ctrl+u","underline_desc","Underline");for(var f=1;6>=f;f++){cC.addShortcut("ctrl+"+f,"",["FormatBlock",!1,"h"+f])}cC.addShortcut("ctrl+7","",["FormatBlock",!1,"p"]),cC.addShortcut("ctrl+8","",["FormatBlock",!1,"div"]),cC.addShortcut("ctrl+9","",["FormatBlock",!1,"address"])}function cH(f){return f?cc[f]:cc}function cr(g,f){g&&("string"!=typeof g?cA(g,function(i,h){cr(h,i)}):(f=f.length?f:[f],cA(f,function(h){h.deep===b1&&(h.deep=!h.selector),h.split===b1&&(h.split=!h.selector||h.inline),h.remove===b1&&h.selector&&!h.inline&&(h.remove="none"),h.selector&&h.inline&&(h.mixed=!0,h.block_expand=!0),"string"==typeof h.classes&&(h.classes=h.classes.split(/\s+/))}),cc[g]=f))}function cG(g){var f;return cC.dom.getParent(g,function(h){return f=cC.dom.getStyle(h,"text-decoration"),f&&"none"!==f}),f}function cv(g){var f;1===g.nodeType&&g.parentNode&&1===g.parentNode.nodeType&&(f=cG(g.parentNode),cC.dom.getStyle(g,"color")&&f?cC.dom.setStyle(g,"text-decoration",f):cC.dom.getStyle(g,"textdecoration")===f&&cC.dom.setStyle(g,"text-decoration",null))}function cx(A,k,i){function x(h,g){if(g=g||o,h){if(g.onformat&&g.onformat(h,g,k,i),cA(g.styles,function(l,u){cm.setStyle(h,u,bZ(l,k))}),g.styles){var f=cm.getAttrib(h,"style");f&&h.setAttribute("data-mce-style",f)}cA(g.attributes,function(l,u){cm.setAttrib(h,u,bZ(l,k))}),cA(g.classes,function(l){l=bZ(l,k),cm.hasClass(h,l)||cm.addClass(h,l)})}}function m(){function h(C,D){var l=new c(D);for(i=l.current();i;i=l.prev()){if(i.childNodes.length>1||i==C||"BR"==i.tagName){return i}}}var B=cC.selection.getRng(),y=B.startContainer,g=B.endContainer;if(y!=g&&0===B.endOffset){var u=h(y,g),f=3==u.nodeType?u.length:u.childNodes.length;B.setEnd(u,f)}return B}function s(B,F,h,f,y){var g=[],E=-1,G,u=-1,D=-1,C;return cA(B.childNodes,function(H,l){return"UL"===H.nodeName||"OL"===H.nodeName?(E=l,G=H,!1):void 0}),cA(B.childNodes,function(l,H){"SPAN"===l.nodeName&&"bookmark"==cm.getAttrib(l,"data-mce-type")&&(l.id==F.id+"_start"?u=H:l.id==F.id+"_end"&&(D=H))}),0>=E||E>u&&D>E?(cA(ck(B.childNodes),y),0):(C=cm.clone(h,cb),cA(ck(B.childNodes),function(H,l){(E>u&&E>l||u>E&&l>E)&&(g.push(H),H.parentNode.removeChild(H))}),E>u?B.insertBefore(C,G):u>E&&B.insertBefore(C,G.nextSibling),f.push(C),cA(g,function(l){C.appendChild(l)}),C)}function z(C,y,h){var f=[],D,g,B=!0;D=o.inline||o.block,g=cm.create(D),x(g),at.walk(C,function(E){function l(I){var K,J,F,G,H;return H=B,K=I.nodeName.toLowerCase(),J=I.parentNode.nodeName.toLowerCase(),1===I.nodeType&&e(I)&&(H=B,B="true"===e(I),G=!0),cd(K,"br")?(u=0,void (o.block&&cm.remove(I))):o.wrapper&&cq(I,A,k)?void (u=0):B&&!G&&o.block&&!o.wrapper&&cw(K)&&bt(J,D)?(I=cm.rename(I,D),x(I),f.push(I),void (u=0)):o.selector&&(cA(q,function(L){"collapsed" in L&&L.collapsed!==v||cm.is(I,L.selector)&&!cs(I)&&(x(I,L),F=!0)}),!o.inline||F)?void (u=0):void (!B||G||!bt(D,K)||!bt(J,D)||!h&&3===I.nodeType&&1===I.nodeValue.length&&65279===I.nodeValue.charCodeAt(0)||cs(I)||o.inline&&ct(I)?"li"==K&&y?u=s(I,y,g,f,l):(u=0,cA(ck(I.childNodes),l),G&&(B=H),u=0):(u||(u=cm.clone(g,cb),I.parentNode.insertBefore(u,I),f.push(u)),u.appendChild(I)))}var u;cA(E,l)}),o.wrap_links===!1&&cA(f,function(u){function l(G){var H,F,E;if("A"===G.nodeName){for(F=cm.clone(g,cb),f.push(F),E=ck(G.childNodes),H=0;H<E.length;H++){F.appendChild(E[H])}G.appendChild(F)}cA(ck(G.childNodes),l)}l(u)}),cA(f,function(E){function u(H){var G=0;return cA(H.childNodes,function(I){bY(I)||b5(I)||G++}),G}function l(H){var G,I;return cA(H.childNodes,function(J){return 1!=J.nodeType||b5(J)||cs(J)?void 0:(G=J,cb)}),G&&!b5(G)&&cL(G,o)&&(I=cm.clone(G,cb),x(I),cm.replace(I,H,r),cm.remove(G,1)),I||H}var F;if(F=u(E),(f.length>1||!ct(E))&&0===F){return void cm.remove(E,1)}if(o.inline||o.wrapper){if(o.exact||1!==F||(E=l(E)),cA(q,function(G){cA(cm.select(G.inline,E),function(I){var H;if(!b5(I)){if(G.wrap_links===!1){H=I.parentNode;do{if("A"===H.nodeName){return}}while(H=H.parentNode)}cg(G,k,I,G.exact?I:null)}})}),cq(E.parentNode,A,k)){return cm.remove(E,1),E=0,r}o.merge_with_parents&&cm.getParent(E.parentNode,function(G){return cq(G,A,k)?(cm.remove(E,1),E=0,r):void 0}),E&&o.merge_siblings!==!1&&(E=ca(b6(E),E),E=ca(E,b6(E,r)))}})}var q=cH(A),o=q[0],p,w,v=!i&&t.isCollapsed();if(o){if(i){i.nodeType?(w=cm.createRng(),w.setStartBefore(i),w.setEndAfter(i),z(ch(w,q),null,!0)):z(i,null,!0)}else{if(v&&o.inline&&!cm.select("td.mce-item-selected,th.mce-item-selected").length){b3("apply",A,k)}else{var j=cC.selection.getNode();cB||!q[0].defaultBlock||cm.getParent(j,cm.isBlock)||cx(q[0].defaultBlock),cC.selection.setRng(m()),p=t.getBookmark(),z(ch(t.getRng(r),q),p),o.styles&&(o.styles.color||o.styles.textDecoration)&&(ci(j,cv,"childNodes"),cv(j)),t.moveToBookmark(p),b9(t.getRng(r)),cC.nodeChanged()}}}}function cD(y,C,k){function f(m){var u,h,p,g,l;if(1===m.nodeType&&e(m)&&(g=A,A="true"===e(m),l=!0),u=ck(m.childNodes),A&&!l){for(h=0,p=i.length;p>h&&!cg(i[h],C,m,m);h++){}}if(q.deep&&u.length){for(h=0,p=u.length;p>h;h++){f(u[h])}l&&(A=g)}}function j(h){var g;return cA(cK(h.parentNode).reverse(),function(m){var l;g||"_start"==m.id||"_end"==m.id||(l=cq(m,y,C),l&&l.split!==!1&&(g=m))}),g}function D(E,m,g,u){var h,H,I,p,G,F;if(E){for(F=E.parentNode,h=m.parentNode;h&&h!=F;h=h.parentNode){for(H=cm.clone(h,cb),G=0;G<i.length;G++){if(cg(i[G],C,H,H)){H=0;break}}H&&(I&&H.appendChild(I),p||(p=H),I=H)}!u||q.mixed&&ct(E)||(m=cm.split(E,m)),I&&(g.parentNode.insertBefore(I,g),p.appendChild(g))}return m}function v(g){return D(j(g),g,g,!0)}function z(h){var g=cm.get(h?"_start":"_end"),l=g[h?"firstChild":"lastChild"];return b5(l)&&(l=l[h?"firstChild":"lastChild"]),cm.remove(g,!0),l}function B(h){var g,m,l=h.commonAncestorContainer;h=ch(h,i,r),q.split&&(g=b2(h,r),m=b2(h),g!=m?(/^(TR|TH|TD)$/.test(g.nodeName)&&g.firstChild&&(g="TR"==g.nodeName?g.firstChild.firstChild||g:g.firstChild||g),l&&/^T(HEAD|BODY|FOOT|R)$/.test(l.nodeName)&&/^(TH|TD)$/.test(m.nodeName)&&m.firstChild&&(m=m.firstChild||m),g=b0(g,"span",{id:"_start","data-mce-type":"bookmark"}),m=b0(m,"span",{id:"_end","data-mce-type":"bookmark"}),v(g),v(m),g=z(r),m=z()):g=m=v(g),h.startContainer=g.parentNode,h.startOffset=cl(g),h.endContainer=m.parentNode,h.endOffset=cl(m)+1),at.walk(h,function(o){cA(o,function(p){f(p),1===p.nodeType&&"underline"===cC.dom.getStyle(p,"text-decoration")&&p.parentNode&&"underline"===cG(p.parentNode)&&cg({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,p)})})}var i=cH(y),q=i[0],w,x,A=!0;return k?void (k.nodeType?(x=cm.createRng(),x.setStartBefore(k),x.setEndAfter(k),B(x)):B(k)):void (t.isCollapsed()&&q.inline&&!cm.select("td.mce-item-selected,th.mce-item-selected").length?b3("remove",y,C):(w=t.getBookmark(),B(t.getRng(r)),t.moveToBookmark(w),q.inline&&cn(y,C,t.getStart())&&b9(t.getRng(!0)),cC.nodeChanged()))}function cE(h,f,i){var g=cH(h);!cn(h,f,i)||"toggle" in g[0]&&!g[0].toggle?cx(h,f,i):cD(h,f,i)}function cq(m,q,h,f){function k(A,y,x){var B,w,z=y[x],v;if(y.onmatch){return y.onmatch(A,y,x)}if(z){if(z.length===b1){for(B in z){if(z.hasOwnProperty(B)){if(w="attributes"===x?cm.getAttrib(A,B):b4(A,B),f&&!w&&!y.exact){return}if((!f||y.exact)&&!cd(w,cz(bZ(z[B],h),B))){return}}}}else{for(v=0;v<z.length;v++){if("attributes"===x?cm.getAttrib(A,z[v]):b4(A,z[v])){return y}}}}return y}var g=cH(q),p,u,j;if(g&&m){for(u=0;u<g.length;u++){if(p=g[u],cL(m,p)&&k(m,p,"attributes")&&k(m,p,"styles")){if(j=p.classes){for(u=0;u<j.length;u++){if(!cm.hasClass(m,j[u])){return}}}return p}}}}function cn(j,g,k){function h(l){var i=cm.getRoot();return l===i?!1:(l=cm.getParent(l,function(m){return m.parentNode===i||!!cq(m,j,g,!0)}),cq(l,j,g))}var f;return k?h(k):(k=t.getNode(),h(k)?r:(f=t.getStart(),f!=k&&h(f)?r:cb))}function cJ(j,g){var k,h=[],f={};return k=t.getStart(),cm.getParent(k,function(m){var l,i;for(l=0;l<j.length;l++){i=j[l],!f[i]&&cq(m,i,g)&&(f[i]=!0,h.push(i))}},cm.getRoot()),h}function cf(k){var g=cH(k),m,j,f,l,h;if(g){for(m=t.getStart(),j=cK(m),l=g.length-1;l>=0;l--){if(h=g[l].selector,!h||g[l].defaultBlock){return r}for(f=j.length-1;f>=0;f--){if(cm.is(j[f],h)){return r}}}}return cb}function co(h,f,i){var g;return b8||(b8={},g={},cC.on("NodeChange",function(k){var j=cK(k.element),l={};cA(b8,function(o,m){cA(j,function(p){return cq(p,m,{},o.similar)?(g[m]||(cA(o,function(q){q(!0,{node:p,format:m,parents:j})}),g[m]=o),l[m]=o,!1):void 0})}),cA(g,function(m,p){l[p]||(delete g[p],cA(m,function(o){o(!1,{node:k.element,format:p,parents:j})}))})})),cA(h.split(","),function(j){b8[j]||(b8[j]=[],b8[j].similar=i),b8[j].push(f)}),this}function cp(f){return b.getCssText(cC,f)}function cL(g,f){return cd(g,f.inline)?r:cd(g,f.block)?r:f.selector?1==g.nodeType&&cm.is(g,f.selector):void 0}function cd(g,f){return g=g||"",f=f||"",g=""+(g.nodeName||g),f=""+(f.nodeName||f),g.toLowerCase()==f.toLowerCase()}function b4(g,f){return cz(cm.getStyle(g,f),f)}function cz(g,f){return("color"==f||"backgroundColor"==f)&&(g=cm.toHex(g)),"fontWeight"==f&&700==g&&(g="bold"),"fontFamily"==f&&(g=g.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+g}function bZ(g,f){return"string"!=typeof g?g=g(f):f&&(g=g.replace(/%(\w+)/g,function(h,i){return f[i]||h})),g}function bY(f){return f&&3===f.nodeType&&/^([\t \r\n]+|)$/.test(f.nodeValue)}function b0(h,f,i){var g=cm.create(f,i);return h.parentNode.insertBefore(g,h),g.appendChild(h),g}function ch(G,k,i){function H(p){function h(s){return"BR"==s.nodeName&&s.getAttribute("data-mce-bogus")&&!s.nextSibling}var m,g,u,f,l;if(m=g=p?x:D,f=p?"previousSibling":"nextSibling",l=cm.getRoot(),3==m.nodeType&&!bY(m)&&(p?E>0:C<m.nodeValue.length)){return m}for(;;){if(!k[0].block_expand&&ct(g)){return g}for(u=g[f];u;u=u[f]){if(!b5(u)&&!bY(u)&&!h(u)){return g}}if(g.parentNode==l){m=g;break}g=g.parentNode}return m}function q(g,f){for(f===b1&&(f=3===g.nodeType?g.length:g.childNodes.length);g&&g.hasChildNodes();){g=g.childNodes[f],g&&(f=3===g.nodeType?g.length:g.childNodes.length)}return{node:g,offset:f}}function B(g){for(var f=g;f;){if(1===f.nodeType&&e(f)){return"false"===e(f)?f:g}f=f.parentNode}return g}function A(h,y,u){function g(J,I){var K,s,l=J.nodeValue;return"undefined"==typeof I&&(I=u?l.length:0),u?(K=l.lastIndexOf(" ",I),s=l.lastIndexOf("\xa0",I),K=K>s?K:s,-1===K||i||K++):(K=l.indexOf(" ",I),s=l.indexOf("\xa0",I),K=-1!==K&&(-1===s||s>K)?K:s),K}var m,f,v,p;if(3===h.nodeType){if(v=g(h,y),-1!==v){return{container:h,offset:v}}p=h}for(m=new c(h,cm.getParent(h,ct)||cC.getBody());f=m[u?"prev":"next"]();){if(3===f.nodeType){if(p=f,v=g(f),-1!==v){return{container:f,offset:v}}}else{if(ct(f)){break}}}return p?(y=u?0:p.length,{container:p,offset:y}):void 0}function F(p,m){var g,u,h,f;for(3==p.nodeType&&0===p.nodeValue.length&&p[m]&&(p=p[m]),g=cK(p),u=0;u<g.length;u++){for(h=0;h<k.length;h++){if(f=k[h],!("collapsed" in f&&f.collapsed!==G.collapsed)&&cm.is(g[u],f.selector)){return g[u]}}}return p}function z(l,g){var h,f=cm.getRoot();if(k[0].wrapper||(h=cm.getParent(l,k[0].block,f)),h||(h=cm.getParent(3==l.nodeType?l.parentNode:l,function(m){return m!=f&&cw(m)})),h&&k[0].wrapper&&(h=cK(h,"ul,ol").reverse()[0]||h),!h){for(h=l;h[g]&&!ct(h[g])&&(h=h[g],!cd(h,"br"));){}}return h||l}var j,o,w,x=G.startContainer,E=G.startOffset,D=G.endContainer,C=G.endOffset;if(1==x.nodeType&&x.hasChildNodes()&&(j=x.childNodes.length-1,x=x.childNodes[E>j?j:E],3==x.nodeType&&(E=0)),1==D.nodeType&&D.hasChildNodes()&&(j=D.childNodes.length-1,D=D.childNodes[C>j?j:C-1],3==D.nodeType&&(C=D.nodeValue.length)),x=B(x),D=B(D),(b5(x.parentNode)||b5(x))&&(x=b5(x)?x:x.parentNode,x=x.nextSibling||x,3==x.nodeType&&(E=0)),(b5(D.parentNode)||b5(D))&&(D=b5(D)?D:D.parentNode,D=D.previousSibling||D,3==D.nodeType&&(C=D.length)),k[0].inline&&(G.collapsed&&(w=A(x,E,!0),w&&(x=w.container,E=w.offset),w=A(D,C),w&&(D=w.container,C=w.offset)),o=q(D,C),o.node)){for(;o.node&&0===o.offset&&o.node.previousSibling;){o=q(o.node.previousSibling)}o.node&&o.offset>0&&3===o.node.nodeType&&" "===o.node.nodeValue.charAt(o.offset-1)&&o.offset>1&&(D=o.node,D.splitText(o.offset-1))}return(k[0].inline||k[0].block_expand)&&(k[0].inline&&3==x.nodeType&&0!==E||(x=H(!0)),k[0].inline&&3==D.nodeType&&C!==D.nodeValue.length||(D=H())),k[0].selector&&k[0].expand!==cb&&!k[0].inline&&(x=F(x,"previousSibling"),D=F(D,"nextSibling")),(k[0].block||k[0].selector)&&(x=z(x,"previousSibling"),D=z(D,"nextSibling"),k[0].block&&(ct(x)||(x=H(!0)),ct(D)||(D=H()))),1==x.nodeType&&(E=cl(x),x=x.parentNode),1==D.nodeType&&(C=cl(D)+1,D=D.parentNode),{startContainer:x,startOffset:E,endContainer:D,endOffset:C}}function cg(k,h,m,j){var g,l,f;if(!cL(m,k)){return cb}if("all"!=k.remove){for(cA(k.styles,function(p,o){p=cz(bZ(p,h),o),"number"==typeof o&&(o=p,j=0),(!j||cd(b4(j,o),p))&&cm.setStyle(m,o,""),f=1}),f&&""===cm.getAttrib(m,"style")&&(m.removeAttribute("style"),m.removeAttribute("data-mce-style")),cA(k.attributes,function(q,p){var s;if(q=bZ(q,h),"number"==typeof p&&(p=q,j=0),!j||cd(cm.getAttrib(j,p),q)){if("class"==p&&(q=cm.getAttrib(m,p),q&&(s="",cA(q.split(/\s+/),function(i){/mce\w+/.test(i)&&(s+=(s?" ":"")+i)}),s))){return void cm.setAttrib(m,p,s)}"class"==p&&m.removeAttribute("className"),n.test(p)&&m.removeAttribute("data-mce-"+p),m.removeAttribute(p)}}),cA(k.classes,function(i){i=bZ(i,h),(!j||cm.hasClass(j,i))&&cm.removeClass(m,i)}),l=cm.getAttribs(m),g=0;g<l.length;g++){if(0!==l[g].nodeName.indexOf("_")){return cb}}}return"none"!=k.remove?(ce(m,k),r):void 0}function ce(h,f){function j(l,k,m){return l=b6(l,k,m),!l||"BR"==l.nodeName||ct(l)}var g=h.parentNode,i;f.block&&(cB?g==cm.getRoot()&&(f.list_block&&cd(h,f.list_block)||cA(ck(h.childNodes),function(k){bt(cB,k.nodeName.toLowerCase())?i?i.appendChild(k):(i=b0(k,cB),cm.setAttribs(i,cC.settings.forced_root_block_attrs)):i=0})):ct(h)&&!ct(g)&&(j(h,cb)||j(h.firstChild,r,1)||h.insertBefore(cm.create("br"),h.firstChild),j(h,r)||j(h.lastChild,cb,1)||h.appendChild(cm.create("br")))),f.selector&&f.inline&&!cd(f.inline,h)||cm.remove(h,1)}function b6(g,f,h){if(g){for(f=f?"nextSibling":"previousSibling",g=h?g:g[f];g;g=g[f]){if(1==g.nodeType||!bY(g)){return g}}}}function b5(f){return f&&1==f.nodeType&&"bookmark"==f.getAttribute("data-mce-type")}function ca(j,g){function l(o,i){function p(s){var q={};return cA(cm.getAttribs(s),function(v){var u=v.nodeName.toLowerCase();0!==u.indexOf("_")&&"style"!==u&&"data-mce-style"!==u&&(q[u]=cm.getAttrib(s,u))}),q}function m(u,q){var v,s;for(s in u){if(u.hasOwnProperty(s)){if(v=q[s],v===b1){return cb}if(u[s]!=v){return cb}delete q[s]}}for(s in q){if(q.hasOwnProperty(s)){return cb}}return r}return o.nodeName!=i.nodeName?cb:m(p(o),p(i))&&m(cm.parseStyle(cm.getAttrib(o,"style")),cm.parseStyle(cm.getAttrib(i,"style")))?!b5(o)&&!b5(i):cb}function h(m,i){for(f=m;f;f=f[i]){if(3==f.nodeType&&0!==f.nodeValue.length){return m}if(1==f.nodeType&&!b5(f)){return f}}return m}var f,k;if(j&&g&&(j=h(j,"previousSibling"),g=h(g,"nextSibling"),l(j,g))){for(f=j.nextSibling;f&&f!=g;){k=f,f=f.nextSibling,j.appendChild(k)}return cm.remove(g),cA(ck(g.childNodes),function(i){j.appendChild(i)}),j}return g}function b2(g,j){var h,i,f;return h=g[j?"startContainer":"endContainer"],i=g[j?"startOffset":"endOffset"],1==h.nodeType&&(f=h.childNodes.length-1,!j&&i&&i--,h=h.childNodes[i>f?f:i]),3===h.nodeType&&j&&i>=h.nodeValue.length&&(h=new c(h,cC.getBody()).next()||h),3!==h.nodeType||j||0!==i||(h=new c(h,cC.getBody()).prev()||h),h}function b3(A,j,h){function x(g){var f=cm.create("span",{id:w,"data-mce-bogus":!0,style:v?"color:red":""});return g&&f.appendChild(cC.getDoc().createTextNode(b7)),f}function B(g,f){for(;g;){if(3===g.nodeType&&g.nodeValue!==b7||g.childNodes.length>1){return !1}f&&1===g.nodeType&&f.push(g),g=g.firstChild}return !0}function k(f){for(;f;){if(f.id===w){return f}f=f.parentNode}}function q(f){var g;if(f){for(g=new c(f,f),f=g.current();f;f=g.next()){if(3===f.nodeType){return f}}}}function z(l,f){var p,g;if(l){g=t.getRng(!0),B(l)?(f!==!1&&(g.setStartBefore(l),g.setEndBefore(l)),cm.remove(l)):(p=q(l),p.nodeValue.charAt(0)===b7&&(p=p.deleteData(0,1)),cm.remove(l,1)),t.setRng(g)}else{if(l=k(t.getStart()),!l){for(;l=cm.get(w);){z(l,!1)}}}}function o(){var D,p,l,E,y,g,C;D=t.getRng(!0),E=D.startOffset,g=D.startContainer,C=g.nodeValue,p=k(t.getStart()),p&&(l=q(p)),C&&E>0&&E<C.length&&/\w/.test(C.charAt(E))&&/\w/.test(C.charAt(E-1))?(y=t.getBookmark(),D.collapse(!0),D=ch(D,cH(j)),D=at.split(D),cx(j,h,D),t.moveToBookmark(y)):(p&&l.nodeValue===b7?cx(j,h,p):(p=x(!0),l=p.firstChild,D.insertNode(p),E=1,cx(j,h,p)),t.setCursorLocation(l,E))}function i(){var H=t.getRng(!0),K,E,L,D,I,J,G=[],y,C;for(K=H.startContainer,E=H.startOffset,I=K,3==K.nodeType&&((E!=K.nodeValue.length||K.nodeValue===b7)&&(D=!0),I=I.parentNode);I;){if(cq(I,j,h)){J=I;break}I.nextSibling&&(D=!0),G.push(I),I=I.parentNode}if(J){if(D){L=t.getBookmark(),H.collapse(!0),H=ch(H,cH(j),!0),H=at.split(H),cD(j,h,H),t.moveToBookmark(L)}else{for(C=x(),I=C,y=G.length-1;y>=0;y--){I.appendChild(cm.clone(G[y],!1)),I=I.firstChild}I.appendChild(cm.doc.createTextNode(b7)),I=I.firstChild;var F=cm.getParent(J,cw);F&&cm.isEmpty(F)?J.parentNode.replaceChild(C,J):cm.insertAfter(C,J),t.setCursorLocation(I,1),cm.isEmpty(J)&&cm.remove(J)}}}function m(){var f;f=k(t.getStart()),f&&!cm.isEmpty(f)&&ci(f,function(g){1!=g.nodeType||g.id===w||cm.isEmpty(g)||cm.setAttrib(g,"data-mce-bogus",null)},"childNodes")}var w="_mce_caret",v=cC.settings.caret_debug;cC._hasCaretEvents||(cF=function(){var g=[],f;if(B(k(t.getStart()),g)){for(f=g.length;f--;){cm.setAttrib(g[f],"data-mce-bogus","1")}}},cu=function(g){var f=g.keyCode;z(),(8==f||37==f||39==f)&&z(k(t.getStart())),m()},cC.on("SetContent",function(f){f.selection&&m()}),cC._hasCaretEvents=!0),"apply"==A?o():i()}function b9(j){var q=j.startContainer,m=j.startOffset,h,p,g,k,f;if(3==q.nodeType&&m>=q.nodeValue.length&&(m=cl(q),q=q.parentNode,h=!0),1==q.nodeType){for(k=q.childNodes,q=k[Math.min(m,k.length-1)],p=new c(q,cm.getParent(q,cm.isBlock)),(m>k.length-1||h)&&p.next(),g=p.current();g;g=p.next()){if(3==g.nodeType&&!bY(g)){return f=cm.create("a",null,b7),g.parentNode.insertBefore(f,g),j.setStart(g,0),t.setRng(j),void cm.remove(f)}}}}var cc={},cm=cC.dom,t=cC.selection,at=new a(cm),bt=cC.schema.isValidChild,ct=cm.isBlock,cB=cC.settings.forced_root_block,cl=cm.nodeIndex,b7="\ufeff",n=/^(src|href|style)$/,cb=!1,r=!0,b8,b1,e=cm.getContentEditable,cu,cF,cA=d.each,ck=d.grep,ci=d.walk,cj=d.extend;cj(this,{get:cH,register:cr,apply:cx,remove:cD,toggle:cE,match:cn,matchAll:cJ,matchNode:cq,canApply:cf,formatChanged:co,getCssText:cp}),cy(),cI(),cC.on("BeforeGetContent",function(){cF&&cF()}),cC.on("mouseup keydown",function(f){cu&&cu(f)})}}),aF(bo,[aS,aU],function(c,a){var d=a.trim,b;return b=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","<div[^>]+data-mce-bogus[^>]+><\\/div>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(n){function g(){return d(n.getContent({format:"raw",no_events:1}).replace(b,""))}function e(i){k.typing=!1,k.add({},i)}var k=this,p=0,f=[],j,h,m=0;return n.on("init",function(){k.add()}),n.on("BeforeExecCommand",function(l){var i=l.command;"Undo"!=i&&"Redo"!=i&&"mceRepaint"!=i&&k.beforeChange()}),n.on("ExecCommand",function(l){var i=l.command;"Undo"!=i&&"Redo"!=i&&"mceRepaint"!=i&&e(l)}),n.on("ObjectResizeStart",function(){k.beforeChange()}),n.on("SaveContent ObjectResized blur",e),n.on("DragEnd",e),n.on("KeyUp",function(l){var i=l.keyCode;(i>=33&&36>=i||i>=37&&40>=i||45==i||13==i||l.ctrlKey)&&(e(),n.nodeChanged()),(46==i||8==i||c.mac&&(91==i||93==i))&&n.nodeChanged(),h&&k.typing&&(n.isDirty()||(n.isNotDirty=!f[0]||g()==f[0].content,n.isNotDirty||n.fire("change",{level:f[0],lastLevel:null})),n.fire("TypingUndo"),h=!1,n.nodeChanged())}),n.on("KeyDown",function(l){var i=l.keyCode;return i>=33&&36>=i||i>=37&&40>=i||45==i?void (k.typing&&e(l)):void ((16>i||i>20)&&224!=i&&91!=i&&!k.typing&&(k.beforeChange(),k.typing=!0,k.add({},l),h=!0))}),n.on("MouseDown",function(i){k.typing&&e(i)}),n.addShortcut("ctrl+z","","Undo"),n.addShortcut("ctrl+y,ctrl+shift+z","","Redo"),n.on("AddUndo Undo Redo ClearUndos MouseUp",function(i){i.isDefaultPrevented()||n.nodeChanged()}),k={data:f,typing:!1,beforeChange:function(){m||(j=n.selection.getBookmark(2,!0))},add:function(q,u){var l,t=n.settings,i;if(q=q||{},q.content=g(),m||n.removed){return null}if(i=f[p],n.fire("BeforeAddUndo",{level:q,lastLevel:i,originalEvent:u}).isDefaultPrevented()){return null}if(i&&i.content==q.content){return null}if(f[p]&&(f[p].beforeBookmark=j),t.custom_undo_redo_levels&&f.length>t.custom_undo_redo_levels){for(l=0;l<f.length-1;l++){f[l]=f[l+1]}f.length--,p=f.length}q.bookmark=n.selection.getBookmark(2,!0),p<f.length-1&&(f.length=p+1),f.push(q),p=f.length-1;var s={level:q,lastLevel:i,originalEvent:u};return n.fire("AddUndo",s),p>0&&(n.isNotDirty=!1,n.fire("change",s)),q},undo:function(){var i;return k.typing&&(k.add(),k.typing=!1),p>0&&(i=f[--p],0===p&&(n.isNotDirty=!0),n.setContent(i.content,{format:"raw"}),n.selection.moveToBookmark(i.beforeBookmark),n.fire("undo",{level:i})),i},redo:function(){var i;return p<f.length-1&&(i=f[++p],n.setContent(i.content,{format:"raw"}),n.selection.moveToBookmark(i.bookmark),n.fire("redo",{level:i})),i},clear:function(){f=[],p=0,k.typing=!1,n.fire("ClearUndos")},hasUndo:function(){return p>0||k.typing&&f[0]&&g()!=f[0].content},hasRedo:function(){return p<f.length-1&&!this.typing},transact:function(i){k.beforeChange();try{m++,i()}finally{m--}k.add()}}}}),aF(bu,[aC,bC,aS],function(c,a,d){var b=d.ie&&d.ie<11;return function(h){function m(b1){function b6(o){return o&&f.isBlock(o)&&!/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName)&&!/^(fixed|absolute)/i.test(o.style.position)&&"true"!==f.getContentEditable(o)}function b0(p){var o;f.isBlock(p)&&(o=j.getRng(),p.appendChild(f.create("span",null,"\xa0")),j.select(p),p.lastChild.outerHTML="",j.setRng(o))}function b2(v){for(var o=v,w=[],p;o=o.firstChild;){if(f.isBlock(o)){return}1!=o.nodeType||g[o.nodeName.toLowerCase()]||w.push(o)}for(p=w.length;p--;){o=w[p],!o.hasChildNodes()||o.firstChild==o.lastChild&&""===o.firstChild.nodeValue?f.remove(o):"A"==o.nodeName&&" "===(o.innerText||o.textContent)&&f.remove(o)}}function b4(w){function x(o){for(;o;){if(1==o.nodeType||3==o.nodeType&&o.data&&/[\r\n\s]/.test(o.data)){return o}o=o.nextSibling}}var v,A,p,B=w,z;if(d.ie&&d.ie<9&&bY&&bY.firstChild&&bY.firstChild==bY.lastChild&&"BR"==bY.firstChild.tagName&&f.remove(bY.firstChild),"LI"==w.nodeName){var y=x(w.firstChild);y&&/^(UL|OL)$/.test(y.nodeName)&&w.insertBefore(f.doc.createTextNode("\xa0"),w.firstChild)}if(p=f.createRng(),w.hasChildNodes()){for(v=new c(w,w);A=v.current();){if(3==A.nodeType){p.setStart(A,0),p.setEnd(A,0);break}if(g[A.nodeName.toLowerCase()]){p.setStartBefore(A),p.setEndBefore(A);break}B=A,A=v.next()}A||(p.setStart(B,0),p.setEnd(B,0))}else{"BR"==w.nodeName?w.nextSibling&&f.isBlock(w.nextSibling)?((!at||9>at)&&(z=f.create("br"),w.parentNode.insertBefore(z,w)),p.setStartBefore(w),p.setEndBefore(w)):(p.setStartAfter(w),p.setEndAfter(w)):(p.setStart(w,0),p.setEnd(w,0))}j.setRng(p),f.remove(z),j.scrollIntoView(w)}function b5(p){var o=e.forced_root_block;o&&o.toLowerCase()===p.tagName.toLowerCase()&&f.setAttribs(p,e.forced_root_block_attrs)}function X(w){var v=q,y,p,x;if(w||"TABLE"==s?(y=f.create(w||Y),b5(y)):y=bY.cloneNode(!1),x=y,e.keep_styles!==!1){do{if(/^(SPAN|STRONG|B|EM|I|FONT|STRIKE|U|VAR|CITE|DFN|CODE|MARK|Q|SUP|SUB|SAMP)$/.test(v.nodeName)){if("_mce_caret"==v.id){continue}p=v.cloneNode(!1),f.setAttrib(p,"id",""),y.hasChildNodes()?(p.appendChild(y.firstChild),y.appendChild(p)):(x=p,y.appendChild(p))}}while(v=v.parentNode)}return b||(x.innerHTML='<br data-mce-bogus="1">'),y}function K(p){var w,v,o;if(3==q.nodeType&&(p?bZ>0:bZ<q.nodeValue.length)){return !1}if(q.parentNode==bY&&J&&!p){return !0}if(p&&1==q.nodeType&&q==bY.firstChild){return !0}if("TABLE"===q.nodeName||q.previousSibling&&"TABLE"==q.previousSibling.nodeName){return J&&!p||!J&&p}for(w=new c(q,bY),3==q.nodeType&&(p&&0===bZ?w.prev():p||bZ!=q.nodeValue.length||w.next());v=w.current();){if(1===v.nodeType){if(!v.getAttribute("data-mce-bogus")&&(o=v.nodeName.toLowerCase(),g[o]&&"br"!==o)){return !1}}else{if(3===v.nodeType&&!/^[ \t\r\n]*$/.test(v.nodeValue)){return !1}}p?w.prev():w.next()}return !0}function b7(y,B){var w,p,v,C,x,z,A=Y||"P";if(p=f.getParent(y,f.isBlock),z=h.getBody().nodeName.toLowerCase(),!p||!b6(p)){if(p=p||i,!p.hasChildNodes()){return w=f.create(A),b5(w),p.appendChild(w),b3.setStart(w,0),b3.setEnd(w,0),w}for(C=y;C.parentNode!=p;){C=C.parentNode}for(;C&&!f.isBlock(C);){v=C,C=C.previousSibling}if(v&&k.isValidChild(z,A.toLowerCase())){for(w=f.create(A),b5(w),v.parentNode.insertBefore(w,v),C=v;C&&!f.isBlock(C);){x=C.nextSibling,w.appendChild(C),C=x}b3.setStart(y,B),b3.setEnd(y,B)}}return y}function bt(){function p(x){for(var w=r[x?"firstChild":"lastChild"];w&&1!=w.nodeType;){w=w[x?"nextSibling":"previousSibling"]}return w===bY}function o(){var w=r.parentNode;return"LI"==w.nodeName?w:r}var v=r.parentNode.nodeName;/^(OL|UL|LI)$/.test(v)&&(Y="LI"),u=Y?X(Y):f.create("BR"),p(!0)&&p()?"LI"==v?f.insertAfter(u,o()):f.replace(u,r):p(!0)?"LI"==v?(f.insertAfter(u,o()),u.appendChild(f.doc.createTextNode(" ")),u.appendChild(r)):r.parentNode.insertBefore(u,r):p()?(f.insertAfter(u,o()),b0(u)):(r=o(),l=b3.cloneRange(),l.setStartAfter(bY),l.setEndAfter(r),V=l.extractContents(),"LI"==Y&&"LI"==V.firstChild.nodeName?(u=V.firstChild,f.insertAfter(V,r)):(f.insertAfter(V,r),f.insertAfter(u,r))),f.remove(bY),b4(u),n.add()}function U(){for(var o=new c(q,bY),p;p=o.next();){if(g[p.nodeName.toLowerCase()]||p.length>0){return !0}}}function W(){var p,o,v;q&&3==q.nodeType&&bZ>=q.nodeValue.length&&(b||U()||(p=f.create("br"),b3.insertNode(p),b3.setStartAfter(p),b3.setEndAfter(p),o=!0)),p=f.create("br"),b3.insertNode(p),b&&"PRE"==s&&(!at||8>at)&&p.parentNode.insertBefore(f.doc.createTextNode("\r"),p),v=f.create("span",{},"&nbsp;"),p.parentNode.insertBefore(v,p),j.scrollIntoView(v),f.remove(v),o?(b3.setStartBefore(p),b3.setEndBefore(p)):(b3.setStartAfter(p),b3.setEndAfter(p)),j.setRng(b3),n.add()}function b8(o){do{3===o.nodeType&&(o.nodeValue=o.nodeValue.replace(/^[\r\n]+/,"")),o=o.firstChild}while(o)}function Z(v){var o=f.getRoot(),w,p;for(w=v;w!==o&&"false"!==f.getContentEditable(w);){"true"===f.getContentEditable(w)&&(p=w),w=w.parentNode}return w!==o?p:o}function t(p){var o;b||(p.normalize(),o=p.lastChild,(!o||/^(left|right)$/gi.test(f.getStyle(o,"float",!0)))&&f.add(p,"br"))}var b3,l,i,q,bZ,bY,at,G,u,V,r,s,Q,Y,J;if(b3=j.getRng(!0),!b1.isDefaultPrevented()){if(!b3.collapsed){return void h.execCommand("Delete")}if(new a(f).normalize(b3),q=b3.startContainer,bZ=b3.startOffset,Y=(e.force_p_newlines?"p":"")||e.forced_root_block,Y=Y?Y.toUpperCase():"",at=f.doc.documentMode,G=b1.shiftKey,1==q.nodeType&&q.hasChildNodes()&&(J=bZ>q.childNodes.length-1,q=q.childNodes[Math.min(bZ,q.childNodes.length-1)]||q,bZ=J&&3==q.nodeType?q.nodeValue.length:0),i=Z(q)){if(n.beforeChange(),!f.isBlock(i)&&i!=f.getRoot()){return void ((!Y||G)&&W())}if((Y&&!G||!Y&&G)&&(q=b7(q,bZ)),bY=f.getParent(q,f.isBlock),r=bY?f.getParent(bY.parentNode,f.isBlock):null,s=bY?bY.nodeName.toUpperCase():"",Q=r?r.nodeName.toUpperCase():"","LI"!=Q||b1.ctrlKey||(bY=r,s=Q),"LI"==s){if(!Y&&G){return void W()}if(f.isEmpty(bY)){return void bt()}}if("PRE"==s&&e.br_in_pre!==!1){if(!G){return void W()}}else{if(!Y&&!G&&"LI"!=s||Y&&G){return void W()}}Y&&bY===h.getBody()||(Y=Y||"P",K()?(u=/^(H[1-6]|PRE|FIGURE)$/.test(s)&&"HGROUP"!=Q?X(Y):X(),e.end_container_on_empty_block&&b6(r)&&f.isEmpty(bY)?u=f.split(r,bY):f.insertAfter(u,bY),b4(u)):K(!0)?(u=bY.parentNode.insertBefore(X(),bY),b0(u),b4(bY)):(l=b3.cloneRange(),l.setEndAfter(bY),V=l.extractContents(),b8(V),u=V.firstChild,f.insertAfter(V,bY),b2(u),t(bY),b4(u)),f.setAttrib(u,"id",""),h.fire("NewBlock",{newBlock:u}),n.add())}}}var f=h.dom,j=h.selection,e=h.settings,n=h.undoManager,k=h.schema,g=k.getNonEmptyElements();h.on("keydown",function(i){13==i.keyCode&&m(i)!==!1&&i.preventDefault()})}}),aF(bj,[],function(){return function(g){function d(){var F=c.getStart(),G=g.getBody(),k,w,r,E,q,e,i,n=-16777215,o,D,A,z,a;if(a=j.forced_root_block,F&&1===F.nodeType&&a){for(;F&&F!=G;){if(b[F.nodeName]){return}F=F.parentNode}if(k=c.getRng(),k.setStart){w=k.startContainer,r=k.startOffset,E=k.endContainer,q=k.endOffset;try{D=g.getDoc().activeElement===G}catch(B){}}else{k.item&&(F=k.item(0),k=g.getDoc().body.createTextRange(),k.moveToElementText(F)),D=k.parentElement().ownerDocument===g.getDoc(),A=k.duplicate(),A.collapse(!0),r=-1*A.move("character",n),A.collapsed||(A=k.duplicate(),A.collapse(!1),q=-1*A.move("character",n)-r)}for(F=G.firstChild,z=G.nodeName.toLowerCase();F;){if((3===F.nodeType||1==F.nodeType&&!b[F.nodeName])&&h.isValidChild(z,a.toLowerCase())){if(3===F.nodeType&&0===F.nodeValue.length){i=F,F=F.nextSibling,f.remove(i);continue}e||(e=f.create(a,g.settings.forced_root_block_attrs),F.parentNode.insertBefore(e,F),o=!0),i=F,F=F.nextSibling,e.appendChild(i)}else{e=null,F=F.nextSibling}}if(o&&D){if(k.setStart){k.setStart(w,r),k.setEnd(E,q),c.setRng(k)}else{try{k=g.getDoc().body.createTextRange(),k.moveToElementText(G),k.collapse(!0),k.moveStart("character",r),q>0&&k.moveEnd("character",q),k.select()}catch(B){}}g.nodeChanged()}}}var j=g.settings,f=g.dom,c=g.selection,h=g.schema,b=h.getBlockElements();j.forced_root_block&&g.on("NodeChange",d)}}),aF(bk,[bm,aS,aU],function(p,h,b){var k=b.each,g=b.extend,v=b.map,x=b.inArray,j=b.explode,t=h.gecko,q=h.ie,w=!0,m=!1;return function(a){function d(E,y,G){var C;return E=E.toLowerCase(),(C=F.exec[E])?(C(E,y,G),w):m}function e(y){var r;return y=y.toLowerCase(),(r=F.state[y])?r(y):-1}function l(y){var r;return y=y.toLowerCase(),(r=F.value[y])?r(y):m}function n(y,r){r=r||"exec",k(y,function(C,E){k(E.toLowerCase().split(","),function(G){F[r][G]=C})})}function D(y,C,r){return C===aD&&(C=m),r===aD&&(r=null),a.getDoc().execCommand(y,C,r)}function s(r){return f.match(r)}function u(r,y){f.toggle(r,y?{value:y}:aD),a.nodeChanged()}function c(r){i=B.getBookmark(r)}function z(){B.moveToBookmark(i)}var A=a.dom,B=a.selection,F={state:{},exec:{},value:{}},o=a.settings,f=a.formatter,i;g(this,{execCommand:d,queryCommandState:e,queryCommandValue:l,addCommands:n}),n({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){a.undoManager.add()},"Cut,Copy,Paste":function(E){var C=a.getDoc(),y;try{D(E)}catch(G){y=w}if(y||!C.queryCommandSupported(E)){var r=a.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");h.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),a.windowManager.alert(r)}},unlink:function(){if(B.isCollapsed()){var r=B.getNode();return void ("A"==r.tagName&&a.dom.remove(r,!0))}f.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(y){var r=y.substring(7);"full"==r&&(r="justify"),k("left,center,right,justify".split(","),function(C){r!=C&&f.remove("align"+C)}),u("align"+r),d("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(y){var r,C;D(y),r=A.getParent(B.getNode(),"ol,ul"),r&&(C=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(C.nodeName)&&(c(),A.split(C,r),z()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){u(r)},"ForeColor,HiliteColor,FontName":function(y,r,C){u(y,C)},FontSize:function(G,C,H){var E,y;H>=1&&7>=H&&(y=j(o.font_size_style_values),E=j(o.font_size_classes),H=E?E[H-1]||H:y[H-1]||H),u(G,H)},RemoveFormat:function(r){f.remove(r)},mceBlockQuote:function(){u("blockquote")},FormatBlock:function(y,r,C){return u(C||"p")},mceCleanup:function(){var r=B.getBookmark();a.setContent(a.getContent({cleanup:w}),{cleanup:w}),B.moveToBookmark(r)},mceRemoveNode:function(C,y,E){var r=E||B.getNode();r!=a.getBody()&&(c(),a.dom.remove(r,w),z())},mceSelectNodeDepth:function(C,y,E){var r=0;A.getParent(B.getNode(),function(G){return 1==G.nodeType&&r++==E?(B.select(G),m):void 0},a.getBody())},mceSelectNode:function(y,r,C){B.select(C)},mceInsertContent:function(H,M,P){function L(X){function C(Z){return W[Z]&&3==W[Z].nodeType}var Y,W,y;return Y=B.getRng(!0),W=Y.startContainer,y=Y.startOffset,3==W.nodeType&&(y>0?X=X.replace(/^&nbsp;/," "):C("previousSibling")||(X=X.replace(/^ /,"&nbsp;")),y<W.length?X=X.replace(/&nbsp;(<br>|)$/," "):C("nextSibling")||(X=X.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),X}var V,I,O,T,G,S,K,N,Q,R,E;/^ | $/.test(P)&&(P=L(P)),V=a.parser,I=new p({},a.schema),E='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#200B;</span>',S={content:P,format:"html",selection:!0},a.fire("BeforeSetContent",S),P=S.content,-1==P.indexOf("{$caret}")&&(P+="{$caret}"),P=P.replace(/\{\$caret\}/,E),N=B.getRng();var r=N.startContainer||(N.parentElement?N.parentElement():null),U=a.getBody();r===U&&B.isCollapsed()&&A.isBlock(U.firstChild)&&A.isEmpty(U.firstChild)&&(N=A.createRng(),N.setStart(U.firstChild,0),N.setEnd(U.firstChild,0),B.setRng(N)),B.isCollapsed()||a.getDoc().execCommand("Delete",!1,null),O=B.getNode();var J={context:O.nodeName.toLowerCase()};if(G=V.parse(P,J),Q=G.lastChild,"mce_marker"==Q.attr("id")){for(K=Q,Q=Q.prev;Q;Q=Q.walk(!0)){if(3==Q.type||!A.isBlock(Q.name)){Q.parent.insert(K,Q,"br"===Q.name);break}}}if(J.invalid){for(B.setContent(E),O=B.getNode(),T=a.getBody(),9==O.nodeType?O=Q=T:Q=O;Q!==T;){O=Q,Q=Q.parentNode}P=O==T?T.innerHTML:A.getOuterHTML(O),P=I.serialize(V.parse(P.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return I.serialize(G)}))),O==T?A.setHTML(T,P):A.setOuterHTML(O,P)}else{P=I.serialize(G),Q=O.firstChild,R=O.lastChild,!Q||Q===R&&"BR"===Q.nodeName?A.setHTML(O,P):B.setContent(P)}K=A.get("mce_marker"),B.scrollIntoView(K),N=A.createRng(),Q=K.previousSibling,Q&&3==Q.nodeType?(N.setStart(Q,Q.nodeValue.length),q||(R=K.nextSibling,R&&3==R.nodeType&&(Q.appendData(R.data),R.parentNode.removeChild(R)))):(N.setStartBefore(K),N.setEndBefore(K)),A.remove(K),B.setRng(N),a.fire("SetContent",S),a.addVisual()},mceInsertRawHTML:function(y,r,C){B.setContent("tiny_mce_marker"),a.setContent(a.getContent().replace(/tiny_mce_marker/g,function(){return C}))},mceToggleFormat:function(y,r,C){u(C)},mceSetContent:function(y,r,C){a.setContent(C)},"Indent,Outdent":function(y){var r,E,C;r=o.indentation,E=/[a-z%]+$/i.exec(r),r=parseInt(r,10),e("InsertUnorderedList")||e("InsertOrderedList")?D(y):(o.forced_root_block||A.getParent(B.getNode(),A.isBlock)||f.apply("div"),k(B.getSelectedBlocks(),function(H){if("LI"!=H.nodeName){var G=a.getParam("indent_use_margin",!1)?"margin":"padding";G+="rtl"==A.getStyle(H,"direction",!0)?"Right":"Left","outdent"==y?(C=Math.max(0,parseInt(H.style[G]||0,10)-r),A.setStyle(H,G,C?C+E:"")):(C=parseInt(H.style[G]||0,10)+r+E,A.setStyle(H,G,C))}}))},mceRepaint:function(){if(t){try{c(w),B.getSel()&&B.getSel().selectAllChildren(a.getBody()),B.collapse(w),z()}catch(r){}}},InsertHorizontalRule:function(){a.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){a.hasVisual=!a.hasVisual,a.addVisual()},mceReplaceContent:function(y,r,C){a.execCommand("mceInsertContent",!1,C.replace(/\{\$selection\}/g,B.getContent({format:"text"})))},mceInsertLink:function(E,y,G){var C;"string"==typeof G&&(G={href:G}),C=A.getParent(B.getNode(),"a"),G.href=G.href.replace(" ","%20"),C&&G.href||f.remove("link"),G.href&&f.apply("link",G,C)},selectAll:function(){var y=A.getRoot(),r;B.getRng().setStart?(r=A.createRng(),r.setStart(y,0),r.setEnd(y,y.childNodes.length),B.setRng(r)):(r=B.getRng(),r.item||(r.moveToElementText(y),r.select()))},"delete":function(){D("Delete");var r=a.getBody();A.isEmpty(r)&&(a.setContent(""),r.firstChild&&A.isBlock(r.firstChild)?a.selection.setCursorLocation(r.firstChild,0):a.selection.setCursorLocation(r,0))},mceNewDocument:function(){a.setContent("")}}),n({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(E){var y="align"+E.substring(7),G=B.isCollapsed()?[A.getParent(B.getNode(),A.isBlock)]:B.getSelectedBlocks(),C=v(G,function(r){return !!f.matchNode(r,y)});return -1!==x(C,w)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(r){return s(r)},mceBlockQuote:function(){return s("blockquote")},Outdent:function(){var r;if(o.inline_styles){if((r=A.getParent(B.getStart(),A.isBlock))&&parseInt(r.style.paddingLeft,10)>0){return w}if((r=A.getParent(B.getEnd(),A.isBlock))&&parseInt(r.style.paddingLeft,10)>0){return w}}return e("InsertUnorderedList")||e("InsertOrderedList")||!o.inline_styles&&!!A.getParent(B.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(y){var r=A.getParent(B.getNode(),"ul,ol");return r&&("insertunorderedlist"===y&&"UL"===r.tagName||"insertorderedlist"===y&&"OL"===r.tagName)}},"state"),n({"FontSize,FontName":function(y){var r=0,C;return(C=A.getParent(B.getNode(),"span"))&&(r="fontsize"==y?C.style.fontSize:C.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),r}},"value"),n({Undo:function(){a.undoManager.undo()},Redo:function(){a.undoManager.redo()}})}}),aF(bs,[aU],function(d){function b(m,j){var n=this,h,k;if(m=c(m),j=n.settings=j||{},/^([\w\-]+):([^\/]{2})/i.test(m)||/^\s*#/.test(m)){return void (n.source=m)}var g=0===m.indexOf("//");0!==m.indexOf("/")||g||(m=(j.base_uri?j.base_uri.protocol||"http":"http")+"://mce_host"+m),/^[\w\-]*:?\/\//.test(m)||(k=j.base_uri?j.base_uri.path:new b(location.href).directory,m=""===j.base_uri.protocol?"//mce_host"+n.toAbsPath(k,m):(j.base_uri&&j.base_uri.protocol||"http")+"://mce_host"+n.toAbsPath(k,m)),m=m.replace(/@@/g,"(mce_at)"),m=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(m),f(["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],function(e,l){var i=m[l];i&&(i=i.replace(/\(mce_at\)/g,"@@")),n[e]=i}),h=j.base_uri,h&&(n.protocol||(n.protocol=h.protocol),n.userInfo||(n.userInfo=h.userInfo),n.port||"mce_host"!==n.host||(n.port=h.port),n.host&&"mce_host"!==n.host||(n.host=h.host),n.source=""),g&&(n.protocol="")}var f=d.each,c=d.trim,a={ftp:21,http:80,https:443,mailto:25};return b.prototype={setPath:function(h){var g=this;h=/^(.*?)\/?(\w+)?$/.exec(h),g.path=h[0],g.directory=h[1],g.file=h[2],g.source="",g.getURI()},toRelative:function(j){var l=this,h;if("./"===j){return j}if(j=new b(j,{base_uri:l}),"mce_host"!=j.host&&l.host!=j.host&&j.host||l.port!=j.port||l.protocol!=j.protocol&&""!==j.protocol){return j.getURI()}var g=l.getURI(),k=j.getURI();return g==k||"/"==g.charAt(g.length-1)&&g.substr(0,g.length-1)==k?g:(h=l.toRelPath(l.path,j.path),j.query&&(h+="?"+j.query),j.anchor&&(h+="#"+j.anchor),h)},toAbsolute:function(g,h){return g=new b(g,{base_uri:this}),g.getURI(h&&this.isSameOrigin(g))},isSameOrigin:function(h){if(this.host==h.host&&this.protocol==h.protocol){if(this.port==h.port){return !0}var g=a[this.protocol];if(g&&(this.port||g)==(h.port||g)){return !0}}return !1},toRelPath:function(l,j){var p,k=0,h="",m,g;if(l=l.substring(0,l.lastIndexOf("/")),l=l.split("/"),p=j.split("/"),l.length>=p.length){for(m=0,g=l.length;g>m;m++){if(m>=p.length||l[m]!=p[m]){k=m+1;break}}}if(l.length<p.length){for(m=0,g=p.length;g>m;m++){if(m>=l.length||l[m]!=p[m]){k=m+1;break}}}if(1===k){return j}for(m=0,g=l.length-(k-1);g>m;m++){h+="../"}for(m=k-1,g=p.length;g>m;m++){h+=m!=k-1?"/"+p[m]:p[m]}return h},toAbsPath:function(m,j){var l,h=0,n=[],g,k;for(g=/\/$/.test(j)?"/":"",m=m.split("/"),j=j.split("/"),f(m,function(i){i&&n.push(i)}),m=n,l=j.length-1,n=[];l>=0;l--){0!==j[l].length&&"."!==j[l]&&(".."!==j[l]?h>0?h--:n.push(j[l]):h++)}return l=m.length-h,k=0>=l?n.reverse().join("/"):m.slice(0,l).join("/")+"/"+n.reverse().join("/"),0!==k.indexOf("/")&&(k="/"+k),g&&k.lastIndexOf("/")!==k.length-1&&(k+=g),k},getURI:function(h){var g,i=this;return(!i.source||h)&&(g="",h||(g+=i.protocol?i.protocol+"://":"//",i.userInfo&&(g+=i.userInfo+"@"),i.host&&(g+=i.host),i.port&&(g+=":"+i.port)),i.path&&(g+=i.path),i.query&&(g+="?"+i.query),i.anchor&&(g+="#"+i.anchor),i.source=g),i.source}},b}),aF(bw,[aU],function(d){function b(){}var g=d.each,c=d.extend,a,f;return b.extend=a=function(j){function p(){var u,l,v,s=this;if(!f&&(s.init&&s.init.apply(s,arguments),l=s.Mixins)){for(u=l.length;u--;){v=l[u],v.init&&v.init.apply(s,arguments)}}}function n(){return this}function q(r,l){return function(){var t=this,s=t._super,e;return t._super=m[r],e=l.apply(t,arguments),t._super=s,e}}var h=this,m=h.prototype,k,o,i;f=!0,k=new h,f=!1,j.Mixins&&(g(j.Mixins,function(e){e=e;for(var l in e){"init"!==l&&(j[l]=e[l])}}),m.Mixins&&(j.Mixins=m.Mixins.concat(j.Mixins))),j.Methods&&g(j.Methods.split(","),function(e){j[e]=n}),j.Properties&&g(j.Properties.split(","),function(e){var l="_"+e;j[e]=function(v){var s=this,u;return v!==u?(s[l]=v,s):s[l]}}),j.Statics&&g(j.Statics,function(l,r){p[r]=l}),j.Defaults&&m.Defaults&&(j.Defaults=c({},m.Defaults,j.Defaults));for(o in j){i=j[o],k[o]="function"==typeof i&&m[o]?q(o,i):i}return p.prototype=k,p.constructor=p,p.extend=a,p},b}),aF(av,[aU],function(b){function a(m){function v(){return !1}function h(){return !0}function f(t,l){var y,e,n,x;if(t=t.toLowerCase(),l=l||{},l.type=t,l.target||(l.target=j),l.preventDefault||(l.preventDefault=function(){l.isDefaultPrevented=h},l.stopPropagation=function(){l.isPropagationStopped=h},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=h},l.isDefaultPrevented=v,l.isPropagationStopped=v,l.isImmediatePropagationStopped=v),m.beforeFire&&m.beforeFire(l),y=q[t]){for(e=0,n=y.length;n>e;e++){if(y[e]=x=y[e],l.isImmediatePropagationStopped()){return l.stopPropagation(),l}if(x.call(j,l)===!1){return l.preventDefault(),l}}}return l}function k(t,y,s){var l,x,d;if(y===!1&&(y=v),y){for(x=t.toLowerCase().split(" "),d=x.length;d--;){t=x[d],l=q[t],l||(l=q[t]=[],p(t,!0)),s?l.unshift(y):l.push(y)}}return w}function g(y,s){var A,x,l,z,d;if(y){for(z=y.toLowerCase().split(" "),A=z.length;A--;){if(y=z[A],x=q[y],!y){for(l in q){p(l,!1),delete q[l]}return w}if(x){if(s){for(d=x.length;d--;){x[d]===s&&x.splice(d,1)}}else{x.length=0}x.length||(p(y,!1),delete q[y])}}}else{for(y in q){p(y,!1)}q={}}return w}function u(d){return d=d.toLowerCase(),!(!q[d]||0===q[d].length)}var w=this,j,q={},p;m=m||{},j=m.scope||w,p=m.toggleEvent||v,w.fire=f,w.on=k,w.off=g,w.has=u}var c=b.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit"," ");return a.isNative=function(d){return !!c[d.toLowerCase()]},a}),aF(a9,[bw],function(g){function d(k){for(var a=[],l=k.length,i;l--;){i=k[l],i.__checked||(a.push(i),i.__checked=1)}for(l=a.length;l--;){delete a[l].__checked}return a}var j=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=/^\s*|\s*$/g,h,b=g.extend({init:function(m){function v(a){return a?(a=a.toLowerCase(),function(e){return"*"===a||e.type===a}):void 0}function i(a){return a?function(e){return e._name===a}:void 0}function q(a){return a?(a=a.split("."),function(e){for(var l=a.length;l--;){if(!e.hasClass(a[l])){return !1}}return !0}):void 0}function w(l,a,o){return l?function(s){var e=s[l]?s[l]():"";return a?"="===a?e===o:"*="===a?e.indexOf(o)>=0:"~="===a?(" "+e+" ").indexOf(" "+o+" ")>=0:"!="===a?e!=o:"^="===a?0===e.indexOf(o):"$="===a?e.substr(e.length-o.length)===o:!1:!!o}:void 0}function k(l){var a;return l?(l=/(?:not\((.+)\))|(.+)/i.exec(l),l[1]?(a=n(l[1],[]),function(o){return !r(o,a)}):(l=l[2],function(e,s,o){return"first"===l?0===s:"last"===l?s===o-1:"even"===l?s%2===0:"odd"===l?s%2===1:e[l]?e[l]():!1})):void 0}function p(o,l,t){function s(u){u&&l.push(u)}var a;return a=j.exec(o.replace(c,"")),s(v(a[1])),s(i(a[2])),s(q(a[3])),s(w(a[4],a[5],a[6])),s(k(a[7])),l.psuedo=!!a[7],l.direct=t,l}function n(x,u){var z=[],s,y,l;do{if(f.exec(""),y=f.exec(x),y&&(x=y[3],z.push(y[1]),y[2])){s=y[3];break}}while(y);for(s&&n(s,u),x=[],l=0;l<z.length;l++){">"!=z[l]&&x.push(p(z[l],[],">"===z[l-1]))}return u.push(x),u}var r=this.match;this._selectors=n(m,[])},match:function(B,G){var w,k,z,v,E,H,y,D,C,F,A,q,x;for(G=G||this._selectors,w=0,k=G.length;k>w;w++){for(E=G[w],v=E.length,x=B,q=0,z=v-1;z>=0;z--){for(D=E[z];x;){if(D.psuedo){for(A=x.parent().items(),C=F=A.length;C--&&A[C]!==x;){}}for(H=0,y=D.length;y>H;H++){if(!D[H](x,C,F)){H=y+1;break}}if(H===y){q++;break}if(z===v-1){break}x=x.parent()}}if(q===v){return !0}}return !1},find:function(p){function q(v,z,u){var n,y,A,r,x,w=z[u];for(n=0,y=v.length;y>n;n++){for(x=v[n],A=0,r=w.length;r>A;A++){if(!w[A](x,n,y)){A=r+1;break}}if(A===r){u==z.length-1?o.push(x):x.items&&q(x.items(),z,u+1)}else{if(w.direct){return}}x.items&&q(x.items(),z,u)}}var o=[],k,m,a=this._selectors;if(p.items){for(k=0,m=a.length;m>k;k++){q(p.items(),a[k],0)}m>1&&(o=d(o))}return h||(h=b.Collection),new h(o)}});return b}),aF(bb,[aU,a9,bw],function(g,d,j){var f,c,h=Array.prototype.push,b=Array.prototype.slice;return c={length:0,init:function(a){a&&this.add(a)},add:function(a){var e=this;return g.isArray(a)?h.apply(e,a):a instanceof f?e.add(a.toArray()):h.call(e,a),e},set:function(k){var a=this,l=a.length,i;for(a.length=0,a.add(k),i=a.length;l>i;i++){delete a[i]}return a},filter:function(r){var u=this,p,t,m=[],q,k;for("string"==typeof r?(r=new d(r),k=function(a){return r.match(a)}):k=r,p=0,t=u.length;t>p;p++){q=u[p],k(q)&&m.push(q)}return new f(m)},slice:function(){return new f(b.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},each:function(a){return g.each(this,a),this},toArray:function(){return g.toArray(this)},indexOf:function(i){for(var a=this,k=a.length;k--&&a[k]!==i;){}return k},reverse:function(){return new f(g.toArray(this).reverse())},hasClass:function(a){return this[0]?this[0].hasClass(a):!1},prop:function(m,k){var o=this,l,a;return k!==l?(o.each(function(e){e[m]&&e[m](k)}),o):(a=o[0],a&&a[m]?a[m]():void 0)},exec:function(a){var i=this,e=g.toArray(arguments).slice(1);return i.each(function(k){k[a]&&k[a].apply(k,e)}),i},remove:function(){for(var a=this.length;a--;){this[a].remove()}return this}},g.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(a){c[a]=function(){var e=g.toArray(arguments);return this.each(function(i){a in i&&i[a].apply(i,e)}),this}}),g.each("text name disabled active selected checked visible parent value data".split(" "),function(a){c[a]=function(e){return this.prop(a,e)}}),f=j.extend(c),d.Collection=f,f}),aF(bc,[aU,aB],function(b,a){return{id:function(){return a.DOM.uniqueId()},createFragment:function(c){return a.DOM.createFragment(c)},getWindowSize:function(){return a.DOM.getViewPort()},getSize:function(f){var c,g;if(f.getBoundingClientRect){var d=f.getBoundingClientRect();c=Math.max(d.width||d.right-d.left,f.offsetWidth),g=Math.max(d.height||d.bottom-d.bottom,f.offsetHeight)}else{c=f.offsetWidth,g=f.offsetHeight}return{width:c,height:g}},getPos:function(c,d){return a.DOM.getPos(c,d)},getViewPort:function(c){return a.DOM.getViewPort(c)},get:function(c){return document.getElementById(c)},addClass:function(c,d){return a.DOM.addClass(c,d)},removeClass:function(c,d){return a.DOM.removeClass(c,d)},hasClass:function(c,d){return a.DOM.hasClass(c,d)},toggleClass:function(d,f,c){return a.DOM.toggleClass(d,f,c)},css:function(d,f,c){return a.DOM.setStyle(d,f,c)},on:function(f,g,d,c){return a.DOM.bind(f,g,d,c)},off:function(d,f,c){return a.DOM.unbind(d,f,c)},fire:function(d,f,c){return a.DOM.fire(d,f,c)},innerHtml:function(c,d){a.DOM.setHTML(c,d)}}}),aF(aI,[bw,aU,av,bb,bc],function(k,u,g,b,j){function f(a){return a._eventDispatcher||(a._eventDispatcher=new g({scope:a,toggleEvent:function(c,d){d&&g.isNative(c)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[c]=!0,a._rendered&&a.bindPendingEvents())}})),a._eventDispatcher}var q={},v="onmousewheel" in document,h=!1,p="mce-",m=k.extend({Statics:{elementIdCache:q,classPrefix:p},isRtl:function(){return m.rtl},classPrefix:p,init:function(c){var i=this,a,d;if(i.settings=c=u.extend({},i.Defaults,c),i._id=c.id||j.id(),i._text=i._name="",i._width=i._height=0,i._aria={role:c.role},a=c.classes){for(a=a.split(" "),a.map={},d=a.length;d--;){a.map[a[d]]=!0}}i._classes=a||[],i.visible(!0),u.each("title text width height name classes visible disabled active value".split(" "),function(l){var n=c[l],e;n!==e?i[l](n):i["_"+l]===e&&(i["_"+l]=!1)}),i.on("click",function(){return i.disabled()?!1:void 0}),c.classes&&u.each(c.classes.split(" "),function(l){i.addClass(l)}),i.settings=c,i._borderBox=i.parseBox(c.border),i._paddingBox=i.parseBox(c.padding),i._marginBox=i.parseBox(c.margin),c.hidden&&i.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(c){for(var a,d=this.getRoot().controlIdLookup;c&&d&&!(a=d[c.id]);){c=c.parentNode}return a},parseBox:function(c){var a,d=10;if(c){return"number"==typeof c?(c=c||0,{top:c,left:c,bottom:c,right:c}):(c=c.split(" "),a=c.length,1===a?c[1]=c[2]=c[3]=c[0]:2===a?(c[2]=c[0],c[3]=c[1]):3===a&&(c[3]=c[1]),{top:parseInt(c[0],d)||0,right:parseInt(c[1],d)||0,bottom:parseInt(c[2],d)||0,left:parseInt(c[3],d)||0})}},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(d,a){function i(e){var l=document.defaultView;return l?(e=e.replace(/[A-Z]/g,function(n){return"-"+n}),l.getComputedStyle(d,null).getPropertyValue(e)):d.currentStyle[e]}function c(n){var l=parseFloat(i(n),10);return isNaN(l)?0:l}return{top:c(a+"TopWidth"),right:c(a+"RightWidth"),bottom:c(a+"BottomWidth"),left:c(a+"LeftWidth")}},initLayoutRect:function(){var E=this,K=E.settings,y,i,x=E.getEl(),H,L,A,G,F,J,D,w;y=E._borderBox=E._borderBox||E.measureBox(x,"border"),E._paddingBox=E._paddingBox||E.measureBox(x,"padding"),E._marginBox=E._marginBox||E.measureBox(x,"margin"),w=j.getSize(x),J=K.minWidth,D=K.minHeight,A=J||w.width,G=D||w.height,H=K.width,L=K.height,F=K.autoResize,F="undefined"!=typeof F?F:!H&&!L,H=H||A,L=L||G;var z=y.left+y.right,B=y.top+y.bottom,C=K.maxWidth||65535,I=K.maxHeight||65535;return E._layoutRect=i={x:K.x||0,y:K.y||0,w:H,h:L,deltaW:z,deltaH:B,contentW:H-z,contentH:L-B,innerW:H-z,innerH:L-B,startMinWidth:J||0,startMinHeight:D||0,minW:Math.min(A,C),minH:Math.min(G,I),maxW:C,maxH:I,autoResize:F,scrollW:0},E._lastLayoutRect={},i},layoutRect:function(z){var B=this,w=B._layoutRect,c,y,d,A,C,x;return w||(w=B.initLayoutRect()),z?(d=w.deltaW,A=w.deltaH,z.x!==C&&(w.x=z.x),z.y!==C&&(w.y=z.y),z.minW!==C&&(w.minW=z.minW),z.minH!==C&&(w.minH=z.minH),y=z.w,y!==C&&(y=y<w.minW?w.minW:y,y=y>w.maxW?w.maxW:y,w.w=y,w.innerW=y-d),y=z.h,y!==C&&(y=y<w.minH?w.minH:y,y=y>w.maxH?w.maxH:y,w.h=y,w.innerH=y-A),y=z.innerW,y!==C&&(y=y<w.minW-d?w.minW-d:y,y=y>w.maxW-d?w.maxW-d:y,w.innerW=y,w.w=y+d),y=z.innerH,y!==C&&(y=y<w.minH-A?w.minH-A:y,y=y>w.maxH-A?w.maxH-A:y,w.innerH=y,w.h=y+A),z.contentW!==C&&(w.contentW=z.contentW),z.contentH!==C&&(w.contentH=z.contentH),c=B._lastLayoutRect,(c.x!==w.x||c.y!==w.y||c.w!==w.w||c.h!==w.h)&&(x=m.repaintControls,x&&x.map&&!x.map[B._id]&&(x.push(B),x.map[B._id]=!0),c.x=w.x,c.y=w.y,c.w=w.w,c.h=w.h),B):w},repaint:function(){var z=this,B,w,c,y,d=0,A=0,C,x;x=document.createRange?function(a){return a}:Math.round,B=z.getEl().style,c=z._layoutRect,C=z._lastRepaintRect||{},y=z._borderBox,d=y.left+y.right,A=y.top+y.bottom,c.x!==C.x&&(B.left=x(c.x)+"px",C.x=c.x),c.y!==C.y&&(B.top=x(c.y)+"px",C.y=c.y),c.w!==C.w&&(B.width=x(c.w-d)+"px",C.w=c.w),c.h!==C.h&&(B.height=x(c.h-A)+"px",C.h=c.h),z._hasBody&&c.innerW!==C.innerW&&(w=z.getEl("body").style,w.width=x(c.innerW)+"px",C.innerW=c.innerW),z._hasBody&&c.innerH!==C.innerH&&(w=w||z.getEl("body").style,w.height=x(c.innerH)+"px",C.innerH=c.innerH),z._lastRepaintRect=C,z.fire("repaint",{},!1)},on:function(d,a){function i(o){var l,r;return"string"!=typeof o?o:function(e){return l||c.parentsAndSelf().each(function(s){var n=s.settings.callbacks;return n&&(l=n[o])?(r=s,!1):void 0}),l.call(r,e)}}var c=this;return f(c).on(d,i(a)),c},off:function(c,a){return f(this).off(c,a),this},fire:function(l,c,o){var d=this;if(c=c||{},c.control||(c.control=d),c=f(d).fire(l,c),o!==!1&&d.parent){for(var a=d.parent();a&&!c.isPropagationStopped();){a.fire(l,c,!1),a=a.parent()}}return c},hasEventListeners:function(a){return f(this).has(a)},parents:function(d){var c=this,l,a=new b;for(l=c.parent();l;l=l.parent()){a.add(l)}return d&&(a=a.filter(d)),a},parentsAndSelf:function(a){return new b(this).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},findCommonAncestor:function(c,a){for(var d;c;){for(d=a;d&&c!=d;){d=d.parent()}if(c==d){break}c=c.parent()}return c},hasClass:function(c,a){var d=this._classes[a||"control"];return c=this.classPrefix+c,d&&!!d.map[c]},addClass:function(l,c){var o=this,d,a;return l=this.classPrefix+l,d=o._classes[c||"control"],d||(d=[],d.map={},o._classes[c||"control"]=d),d.map[l]||(d.map[l]=l,d.push(l),o._rendered&&(a=o.getEl(c),a&&(a.className=d.join(" ")))),o},removeClass:function(l,c){var w=this,d,a,s;if(l=this.classPrefix+l,d=w._classes[c||"control"],d&&d.map[l]){for(delete d.map[l],a=d.length;a--;){d[a]===l&&d.splice(a,1)}}return w._rendered&&(s=w.getEl(c),s&&(s.className=d.join(" "))),w},toggleClass:function(d,a,i){var c=this;return a?c.addClass(d,i):c.removeClass(d,i),c},classes:function(c){var a=this._classes[c||"control"];return a?a.join(" "):""},innerHtml:function(a){return j.innerHtml(this.getEl(),a),this},getEl:function(d,a){var i,c=d?this._id+"-"+d:this._id;return i=q[c]=(a===!0?null:q[c])||j.get(c)},visible:function(c){var a=this,d;return"undefined"!=typeof c?(a._visible!==c&&(a._rendered&&(a.getEl().style.display=c?"":"none"),a._visible=c,d=a.parent(),d&&(d._lastRect=null),a.fire(c?"show":"hide")),a):a._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),this},aria:function(d,a){var i=this,c=i.getEl(i.ariaTarget);return"undefined"==typeof a?i._aria[d]:(i._aria[d]=a,i._rendered&&c.setAttribute("role"==d?d:"aria-"+d,a),i)},encode:function(c,a){return a!==!1&&(c=this.translate(c)),(c||"").replace(/[&<>"]/g,function(d){return"&#"+d.charCodeAt(0)+";"})},translate:function(a){return m.translate?m.translate(a):a},before:function(c){var a=this,d=a.parent();return d&&d.insert(c,d.items().indexOf(a),!0),a},after:function(c){var a=this,d=a.parent();return d&&d.insert(c,d.items().indexOf(a)),a},remove:function(){var x=this,d=x.getEl(),A=x.parent(),w,y;if(x.items){var i=x.items().toArray();for(y=i.length;y--;){i[y].remove()}}A&&A.items&&(w=[],A.items().each(function(c){c!==x&&w.push(c)}),A.items().set(w),A._lastRect=null),x._eventsRoot&&x._eventsRoot==x&&j.off(d);var a=x.getRoot().controlIdLookup;if(a&&delete a[x._id],delete q[x._id],d&&d.parentNode){var z=d.getElementsByTagName("*");for(y=z.length;y--;){delete q[z[y].id]}d.parentNode.removeChild(d)}return x._rendered=!1,x},renderBefore:function(c){var a=this;return c.parentNode.insertBefore(j.createFragment(a.renderHtml()),c),a.postRender(),a},renderTo:function(c){var a=this;return c=c||a.getContainerElm(),c.appendChild(j.createFragment(a.renderHtml())),a.postRender(),a},postRender:function(){var y=this,B=y.settings,w,d,i,A,C;for(A in B){0===A.indexOf("on")&&y.on(A.substr(2),B[A])}if(y._eventsRoot){for(i=y.parent();!C&&i;i=i.parent()){C=i._eventsRoot}if(C){for(A in C._nativeEvents){y._nativeEvents[A]=!0}}}y.bindPendingEvents(),B.style&&(w=y.getEl(),w&&(w.setAttribute("style",B.style),w.style.cssText=B.style)),y._visible||j.css(y.getEl(),"display","none"),y.settings.border&&(d=y.borderBox(),j.css(y.getEl(),{"border-top-width":d.top,"border-right-width":d.right,"border-bottom-width":d.bottom,"border-left-width":d.left}));var x=y.getRoot();x.controlIdLookup||(x.controlIdLookup={}),x.controlIdLookup[y._id]=y;for(var z in y._aria){y.aria(z,y._aria[z])}y.fire("postrender",{},!1)},scrollIntoView:function(B){function F(l,c){var o,d,a=l;for(o=d=0;a&&a!=c&&a.nodeType;){o+=a.offsetLeft||0,d+=a.offsetTop||0,a=a.offsetParent}return{x:o,y:d}}var y=this.getEl(),w=y.parentNode,A,x,E,G,z,D,C=F(y,w);return A=C.x,x=C.y,E=y.offsetWidth,G=y.offsetHeight,z=w.clientWidth,D=w.clientHeight,"end"==B?(A-=z-E,x-=D-G):"center"==B&&(A-=z/2-E/2,x-=D/2-G/2),w.scrollLeft=A,w.scrollTop=x,this},bindPendingEvents:function(){function z(c){var a=s.getParentCtrl(c.target);a&&a.fire(c.type,c)}function E(){var a=D._lastHoverCtrl;a&&(a.fire("mouseleave",{target:a.getEl()}),a.parents().each(function(c){c.fire("mouseleave",{target:c.getEl()})}),D._lastHoverCtrl=null)}function w(H){var o=s.getParentCtrl(H.target),I=D._lastHoverCtrl,G=0,d,c,F;if(o!==I){if(D._lastHoverCtrl=o,c=o.parents().toArray().reverse(),c.push(o),I){for(F=I.parents().toArray().reverse(),F.push(I),G=0;G<F.length&&c[G]===F[G];G++){}for(d=F.length-1;d>=G;d--){I=F[d],I.fire("mouseleave",{target:I.getEl()})}}for(d=G;d<c.length;d++){o=c[d],o.fire("mouseenter",{target:o.getEl()})}}}function i(a){a.preventDefault(),"mousewheel"==a.type?(a.deltaY=-1/40*a.wheelDelta,a.wheelDeltaX&&(a.deltaX=-1/40*a.wheelDeltaX)):(a.deltaX=0,a.deltaY=a.detail),a=s.fire("wheel",a)}var s=this,C,B,A,D,y,l;if(s._rendered=!0,y=s._nativeEvents){for(A=s.parents().toArray(),A.unshift(s),C=0,B=A.length;!D&&B>C;C++){D=A[C]._eventsRoot}for(D||(D=A[A.length-1]||s),s._eventsRoot=D,B=C,C=0;B>C;C++){A[C]._eventsRoot=D}var x=D._delegates;x||(x=D._delegates={});for(l in y){if(!y){return !1}"wheel"!==l||h?("mouseenter"===l||"mouseleave"===l?D._hasMouseEnter||(j.on(D.getEl(),"mouseleave",E),j.on(D.getEl(),"mouseover",w),D._hasMouseEnter=1):x[l]||(j.on(D.getEl(),l,z),x[l]=!0),y[l]=!1):v?j.on(s.getEl(),"mousewheel",i):j.on(s.getEl(),"DOMMouseScroll",i)}}},getRoot:function(){for(var d=this,a,i=[];d;){if(d.rootControl){a=d.rootControl;break}i.push(d),a=d,d=d.parent()}a||(a=this);for(var c=i.length;c--;){i[c].rootControl=a}return a},reflow:function(){return this.repaint(),this}});return m}),aF(aQ,[],function(){var b={},a;return{add:function(c,d){b[c.toLowerCase()]=d},has:function(c){return !!b[c.toLowerCase()]},create:function(g,e){var d,f,c;if(!a){c=tinymce.ui;for(f in c){b[f.toLowerCase()]=c[f]}a=!0}if("string"==typeof g?(e=e||{},e.type=g):(e=g,g=e.type),g=g.toLowerCase(),d=b[g],!d){throw new Error("Could not find control by type: "+g)}return d=new d(e),d.type=g,d}}}),aF(bM,[],function(){return function(L){function w(a){return a=a||O,a&&a.getAttribute("role")}function E(b){for(var c,a=b||O;a=a.parentNode;){if(c=w(a)){return c}}}function A(b){var a=O;return a?a.getAttribute("aria-"+b):void 0}function H(b){var a=b.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==a}function D(a){return H(a)&&!a.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(w(a))?!0:!1}function P(b){function a(f){if(1==f.nodeType&&"none"!=f.style.display){D(f)&&c.push(f);for(var d=0;d<f.childNodes.length;d++){a(f.childNodes[d])}}}var c=[];return a(b||j.getEl()),c}function x(c){var a,d;c=c||z,d=c.parents().toArray(),d.unshift(c);for(var b=0;b<d.length&&(a=d[b],!a.settings.ariaRoot);b++){}return a}function G(b){var a=x(b),c=P(a.getEl());a.settings.ariaRemember&&"lastAriaIndex" in a?N(a.lastAriaIndex,c):N(0,c)}function N(b,a){return 0>b?b=a.length-1:b>=a.length&&(b=0),a[b]&&a[b].focus(),b}function M(d,b){var f=-1,c=x();b=b||P(c.getEl());for(var a=0;a<b.length;a++){b[a]===O&&(f=a)}f+=d,c.lastAriaIndex=N(f,b)}function q(){var a=E();"tablist"==a?M(-1,P(O.parentNode)):z.parent().submenu?J():M(-1)}function K(){var b=w(),a=E();"tablist"==a?M(1,P(O.parentNode)):"menuitem"==b&&"menu"==a&&A("haspopup")?k():M(1)}function B(){M(-1)}function F(){var b=w(),a=E();"menuitem"==b&&"menubar"==a?k():"button"==b&&A("haspopup")?k({key:"down"}):M(1)}function I(c){var a=E();if("tablist"==a){var b=P(z.getEl("body"))[0];b&&b.focus()}else{M(c.shiftKey?-1:1)}}function J(){z.fire("cancel")}function k(a){a=a||{},z.fire("click",{target:O,aria:a})}var j=L.root,O,z;return O=document.activeElement,z=j.getParentCtrl(O),j.on("keydown",function(b){function a(d,c){H(O)||c(d)!==!1&&d.preventDefault()}if(!b.isDefaultPrevented()){switch(b.keyCode){case 37:a(b,q);break;case 39:a(b,K);break;case 38:a(b,B);break;case 40:a(b,F);break;case 27:J();break;case 14:case 13:case 32:a(b,k);break;case 9:I(b)!==!1&&b.preventDefault()}}}),j.on("focusin",function(a){O=a.target,z=a.control}),{focusFirst:G}}}),aF(bq,[aI,bb,a9,aQ,bM,aU,bc],function(h,d,k,g,c,j,b){var f={};return h.extend({layout:"",innerClass:"container-inner",init:function(a){var i=this;i._super(a),a=i.settings,i._fixed=a.fixed,i._items=new d,i.isRtl()&&i.addClass("rtl"),i.addClass("container"),i.addClass("container-body","body"),a.containerCls&&i.addClass(a.containerCls),i._layout=g.create((a.layout||i.layout)+"layout"),i.settings.items&&i.add(i.settings.items),i._hasBody=!0},items:function(){return this._items},find:function(a){return a=f[a]=f[a]||new k(a),a.find(this)},add:function(i){var a=this;return a.items().add(a.create(i)).parent(a),a},focus:function(o){var l=this,p,m,a;return o&&(m=l.keyboardNav||l.parents().eq(-1)[0].keyboardNav)?void m.focusFirst(l):(a=l.find("*"),l.statusbar&&a.add(l.statusbar.items()),a.each(function(i){return i.settings.autofocus?(p=null,!1):void (i.canFocus&&(p=p||i))}),p&&p.focus(),l)},replace:function(o,l){for(var p,m=this.items(),a=m.length;a--;){if(m[a]===o){m[a]=l;break}}a>=0&&(p=l.getEl(),p&&p.parentNode.removeChild(p),p=o.getEl(),p&&p.parentNode.removeChild(p)),l.parent(this)},create:function(m){var o=this,l,e=[];return j.isArray(m)||(m=[m]),j.each(m,function(a){a&&(a instanceof h||("string"==typeof a&&(a={type:a}),l=j.extend({},o.settings.defaults,a),a.type=l.type=l.type||a.type||o.settings.defaultType||(l.defaults?l.defaults.type:null),a=g.create(l)),e.push(a))}),e},renderNew:function(){var a=this;return a.items().each(function(l,o){var m,e;l.parent(a),l._rendered||(m=a.getEl("body"),e=b.createFragment(l.renderHtml()),m.hasChildNodes()&&o<=m.childNodes.length-1?m.insertBefore(e,m.childNodes[o]):m.appendChild(e),l.postRender())}),a._layout.applyClasses(a),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(i){var a=this;return a.items().set(a.create(i).concat(a.items().toArray())),a.renderNew()},insert:function(s,p,v){var q=this,m,u,l;return s=q.create(s),m=q.items(),!v&&p<m.length-1&&(p+=1),p>=0&&p<m.length&&(u=m.slice(0,p).toArray(),l=m.slice(p).toArray(),m.set(u.concat(s,l))),q.renderNew()},fromJSON:function(i){var a=this;for(var l in i){a.find("#"+l).value(i[l])}return a},toJSON:function(){var i=this,a={};return i.find("*").each(function(m){var o=m.name(),l=m.value();o&&"undefined"!=typeof l&&(a[o]=l)}),a},preRender:function(){},renderHtml:function(){var i=this,a=i._layout,l=this.settings.role;return i.preRender(),a.preRender(i),'<div id="'+i._id+'" class="'+i.classes()+'"'+(l?' role="'+this.settings.role+'"':"")+'><div id="'+i._id+'-body" class="'+i.classes("body")+'">'+(i.settings.html||"")+a.renderHtml(i)+"</div></div>"},postRender:function(){var i=this,a;return i.items().exec("postRender"),i._super(),i._layout.postRender(i),i._rendered=!0,i.settings.style&&b.css(i.getEl(),i.settings.style),i.settings.border&&(a=i.borderBox(),b.css(i.getEl(),{"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),i.parent()||(i.keyboardNav=new c({root:i})),i},initLayoutRect:function(){var i=this,a=i._super();return i._layout.recalc(i),a},recalc:function(){var i=this,a=i._layoutRect,l=i._lastRect;return l&&l.w==a.w&&l.h==a.h?void 0:(i._layout.recalc(i),a=i.layoutRect(),i._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0)},reflow:function(){var a;if(this.visible()){for(h.repaintControls=[],h.repaintControls.map={},this.recalc(),a=h.repaintControls.length;a--;){h.repaintControls[a].repaint()}"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),h.repaintControls=[]}return this}})}),aF(a5,[bc],function(b){function a(){var k=document,q,g,d,j,f,p,u,h,m=Math.max;return q=k.documentElement,g=k.body,d=m(q.scrollWidth,g.scrollWidth),j=m(q.clientWidth,g.clientWidth),f=m(q.offsetWidth,g.offsetWidth),p=m(q.scrollHeight,g.scrollHeight),u=m(q.clientHeight,g.clientHeight),h=m(q.offsetHeight,g.offsetHeight),{width:f>d?j:d,height:h>p?u:p}}return function(h,e){function k(){return t.getElementById(e.handle||h)}var g,t=document,w,j,q,p,v,m;e=e||{},j=function(i){var d=a(),f,c;i.preventDefault(),w=i.button,f=k(),v=i.screenX,m=i.screenY,c=window.getComputedStyle?window.getComputedStyle(f,null).getPropertyValue("cursor"):f.runtimeStyle.cursor,g=t.createElement("div"),b.css(g,{position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:0.0001,background:"red",cursor:c}),t.body.appendChild(g),b.on(t,"mousemove",p),b.on(t,"mouseup",q),e.start(i)},p=function(c){return c.button!==w?q(c):(c.deltaX=c.screenX-v,c.deltaY=c.screenY-m,c.preventDefault(),void e.drag(c))},q=function(c){b.off(t,"mousemove",p),b.off(t,"mouseup",q),g.parentNode.removeChild(g),e.stop&&e.stop(c)},this.destroy=function(){b.off(k())},b.on(k(),"mousedown",j)}}),aF(bv,[bc,a5],function(b,a){return{init:function(){var c=this;c.on("repaint",c.renderScroll)},renderScroll:function(){function f(){function h(F,C,G,o,z,x){var E,w,k,n,q,r,D,B,A;if(w=c.getEl("scroll"+F)){if(B=C.toLowerCase(),A=G.toLowerCase(),c.getEl("absend")&&b.css(c.getEl("absend"),B,c.layoutRect()[o]-1),!z){return void b.css(w,"display","none")}b.css(w,"display","block"),E=c.getEl("body"),k=c.getEl("scroll"+F+"t"),n=E["client"+G]-2*e,n-=j&&i?w["client"+x]:0,q=E["scroll"+G],r=n/q,D={},D[B]=E["offset"+C]+e,D[A]=n,b.css(w,D),D={},D[B]=E["scroll"+C]*r,D[A]=n*r,b.css(k,D)}}var j,i,g;g=c.getEl("body"),j=g.scrollWidth>g.clientWidth,i=g.scrollHeight>g.clientHeight,h("h","Left","Width","contentW",j,"Height"),h("v","Top","Height","contentH",i,"Width")}function d(){function g(q,m,i,k,h){var p,o=c._id+"-scroll"+q,j=c.classPrefix;c.getEl().appendChild(b.createFragment('<div id="'+o+'" class="'+j+"scrollbar "+j+"scrollbar-"+q+'"><div id="'+o+'t" class="'+j+'scrollbar-thumb"></div></div>')),c.draghelper=new a(o+"t",{start:function(){p=c.getEl("body")["scroll"+m],b.addClass(b.get(o),j+"active")},drag:function(v){var n,w,l,r,s=c.layoutRect();w=s.contentW>s.innerW,l=s.contentH>s.innerH,r=c.getEl("body")["client"+i]-2*e,r-=w&&l?c.getEl("scroll"+q)["client"+h]:0,n=r/c.getEl("body")["scroll"+i],c.getEl("body")["scroll"+m]=p+v["delta"+k]/n},stop:function(){b.removeClass(b.get(o),j+"active")}})}c.addClass("scroll"),g("v","Top","Height","Y","Width"),g("h","Left","Width","X","Height")}var c=this,e=2;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,d(),c.on("wheel",function(h){var g=c.getEl("body");g.scrollLeft+=10*(h.deltaX||0),g.scrollTop+=10*h.deltaY,f()}),b.on(c.getEl("body"),"scroll",f)),f())}}}),aF(a7,[bq,bv],function(b,a){return b.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[a],renderHtml:function(){var d=this,c=d._layout,f=d.settings.html;return d.preRender(),c.preRender(d),"undefined"==typeof f?f='<div id="'+d._id+'-body" class="'+d.classes("body")+'">'+c.renderHtml(d)+"</div>":("function"==typeof f&&(f=f.call(d)),d._hasBody=!1),'<div id="'+d._id+'" class="'+d.classes()+'" hidefocus="1" tabindex="-1" role="group">'+(d._preBodyHtml||"")+f+"</div>"}})}),aF(br,[bc],function(b){function a(z,j,e){var m,h,x,A,k,w,v,y,q,g;return q=b.getViewPort(),h=b.getPos(j),x=h.x,A=h.y,z._fixed&&(x-=q.x,A-=q.y),m=z.getEl(),g=b.getSize(m),k=g.width,w=g.height,g=b.getSize(j),v=g.width,y=g.height,e=(e||"").split(""),"b"===e[0]&&(A+=y),"r"===e[1]&&(x+=v),"c"===e[0]&&(A+=Math.round(y/2)),"c"===e[1]&&(x+=Math.round(v/2)),"b"===e[3]&&(A-=w),"r"===e[4]&&(x-=k),"c"===e[3]&&(A-=Math.round(w/2)),"c"===e[4]&&(x-=Math.round(k/2)),{x:x,y:A,w:k,h:w}}return{testMoveRel:function(g,e){for(var d=b.getViewPort(),f=0;f<e.length;f++){var c=a(this,g,e[f]);if(this._fixed){if(c.x>0&&c.x+c.w<d.w&&c.y>0&&c.y+c.h<d.h){return e[f]}}else{if(c.x>d.x&&c.x+c.w<d.w+d.x&&c.y>d.y&&c.y+c.h<d.h+d.y){return e[f]}}}return e[0]},moveRel:function(d,f){"string"!=typeof f&&(f=this.testMoveRel(d,f));var c=a(this,d,f);return this.moveTo(c.x,c.y)},moveBy:function(f,c){var g=this,d=g.layoutRect();return g.moveTo(d.x+f,d.y+c),g},moveTo:function(e,h){function f(j,i,k){return 0>j?0:j+k>i?(j=i-k,0>j?0:j):j}var d=this;if(d.settings.constrainToViewport){var g=b.getViewPort(window),c=d.layoutRect();e=f(e,g.w+g.x,c.w),h=f(h,g.h+g.y,c.h)}return d._rendered?d.layoutRect({x:e,y:h}).repaint():(d.settings.x=e,d.settings.y=h),d.fire("move",{x:e,y:h}),d}}}),aF(bi,[bc],function(a){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(b,d){if(1>=b||1>=d){var c=a.getWindowSize();b=1>=b?b*c.w:b,d=1>=d?d*c.h:d}return this._layoutRect.autoResize=!1,this.layoutRect({minW:b,minH:d,w:b,h:d}).reflow()},resizeBy:function(d,b){var f=this,c=f.layoutRect();return f.resizeTo(c.w+d,c.h+b)}}}),aF(a4,[a7,br,bi,bc],function(k,u,g,b){function j(c){var a;for(a=v.length;a--;){v[a]===c&&v.splice(a,1)}for(a=h.length;a--;){h[a]===c&&h.splice(a,1)}}var f,q,v=[],h=[],p,m=k.extend({Mixins:[u,g],init:function(l){function d(){var w,s=m.zIndex||65535,x;if(h.length){for(w=0;w<h.length;w++){h[w].modal&&(s++,x=h[w]),h[w].getEl().style.zIndex=s,h[w].zIndex=s,s++}}var r=document.getElementById(a.classPrefix+"modal-block");x?b.css(r,"z-index",x.zIndex-1):r&&(r.parentNode.removeChild(r),p=!1),m.currentZIndex=s}function o(n,i){for(;n;){if(n==i){return !0}n=n.parent()}}function c(r){function i(w,y){for(var x,e=0;e<v.length;e++){if(v[e]!=r){for(x=v[e].parent();x&&(x=x.parent());){x==r&&v[e].fixed(w).moveBy(0,y).repaint()}}}}var s=b.getViewPort().y;r.settings.autofix&&(r._fixed?r._autoFixY>s&&(r.fixed(!1).layoutRect({y:r._autoFixY}).repaint(),i(!1,r._autoFixY-s)):(r._autoFixY=r.layoutRect().y,r._autoFixY<s&&(r.fixed(!0).layoutRect({y:0}).repaint(),i(!0,s-r._autoFixY))))}var a=this;a._super(l),a._eventsRoot=a,a.addClass("floatpanel"),l.autohide&&(f||(f=function(x){for(var s=v.length;s--;){var w=v[s],n=w.getParentCtrl(x.target);if(w.settings.autohide){if(n&&(o(n,w)||w.parent()===n)){continue}x=w.fire("autohide",{target:x.target}),x.isDefaultPrevented()||w.hide()}}},b.on(document,"click",f)),v.push(a)),l.autofix&&(q||(q=function(){var i;for(i=v.length;i--;){c(v[i])}},b.on(window,"scroll",q)),a.on("move",function(){c(this)})),a.on("postrender show",function(s){if(s.control==a){var t,r=a.classPrefix;a.modal&&!p&&(t=b.createFragment('<div id="'+r+'modal-block" class="'+r+"reset "+r+'fade"></div>'),t=t.firstChild,a.getContainerElm().appendChild(t),setTimeout(function(){b.addClass(t,r+"in"),b.addClass(a.getEl(),r+"in")},0),p=!0),h.push(a),d()}}),a.on("close hide",function(i){if(i.control==a){for(var r=h.length;r--;){h[r]===a&&h.splice(r,1)}d()}}),a.on("show",function(){a.parents().each(function(i){return i._fixed?(a.fixed(!0),!1):void 0})}),l.popover&&(a._preBodyHtml='<div class="'+a.classPrefix+'arrow"></div>',a.addClass("popover").addClass("bottom").addClass(a.isRtl()?"end":"start"))},fixed:function(c){var a=this;if(a._fixed!=c){if(a._rendered){var d=b.getViewPort();c?a.layoutRect().y-=d.y:a.layoutRect().y+=d.y}a.toggleClass("fixed",c),a._fixed=c}return a},show:function(){var c=this,a,d=c._super();for(a=v.length;a--&&v[a]!==c;){}return -1===a&&v.push(c),d},hide:function(){return j(this),this._super()},hideAll:function(){m.hideAll()},close:function(){var a=this;return a.fire("close"),a.remove()},remove:function(){j(this),this._super()},postRender:function(){var a=this;return a.settings.bodyRole&&this.getEl("body").setAttribute("role",a.settings.bodyRole),a._super()}});return m.hideAll=function(){for(var c=v.length;c--;){var a=v[c];a&&a.settings.autohide&&(a.hide(),v.splice(c,1))}},m}),aF(bX,[a4,a7,bc,a5],function(d,b,f,c){var a=d.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(g){var h=this;h._super(g),h.isRtl()&&h.addClass("rtl"),h.addClass("window"),h._fixed=!0,g.buttons&&(h.statusbar=new b({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:h.isRtl()?"start":"end",defaults:{type:"button"},items:g.buttons}),h.statusbar.addClass("foot"),h.statusbar.parent(h)),h.on("click",function(i){-1!=i.target.className.indexOf(h.classPrefix+"close")&&h.close()}),h.on("cancel",function(){h.close()}),h.aria("describedby",h.describedBy||h._id+"-none"),h.aria("label",g.title),h._fullscreen=!1},recalc:function(){var l=this,j=l.statusbar,k,h,m,g;l._fullscreen&&(l.layoutRect(f.getWindowSize()),l.layoutRect().contentH=l.layoutRect().innerH),l._super(),k=l.layoutRect(),l.settings.title&&!l._fullscreen&&(h=k.headerW,h>k.w&&(m=k.x-Math.max(0,h/2),l.layoutRect({w:h,x:m}),g=!0)),j&&(j.layoutRect({w:l.layoutRect().innerW}).recalc(),h=j.layoutRect().minW+k.deltaW,h>k.w&&(m=k.x-Math.max(0,h-k.w),l.layoutRect({w:h,x:m}),g=!0)),g&&l.recalc()},initLayoutRect:function(){var l=this,j=l._super(),k=0,h;if(l.settings.title&&!l._fullscreen){h=l.getEl("head");var m=f.getSize(h);j.headerW=m.width,j.headerH=m.height,k+=j.headerH}l.statusbar&&(k+=l.statusbar.layoutRect().h),j.deltaH+=k,j.minH+=k,j.h+=k;var g=f.getWindowSize();return j.x=Math.max(0,g.w/2-j.w/2),j.y=Math.max(0,g.h/2-j.h/2),j},renderHtml:function(){var m=this,j=m._layout,q=m._id,l=m.classPrefix,h=m.settings,p="",g="",k=h.html;return m.preRender(),j.preRender(m),h.title&&(p='<div id="'+q+'-head" class="'+l+'window-head"><div id="'+q+'-title" class="'+l+'title">'+m.encode(h.title)+'</div><button type="button" class="'+l+'close" aria-hidden="true">\xd7</button><div id="'+q+'-dragh" class="'+l+'dragh"></div></div>'),h.url&&(k='<iframe src="'+h.url+'" tabindex="-1"></iframe>'),"undefined"==typeof k&&(k=j.renderHtml(m)),m.statusbar&&(g=m.statusbar.renderHtml()),'<div id="'+q+'" class="'+m.classes()+'" hidefocus="1"><div class="'+m.classPrefix+'reset" role="application">'+p+'<div id="'+q+'-body" class="'+m.classes("body")+'">'+k+"</div>"+g+"</div></div>"},fullscreen:function(m){var j=this,l=document.documentElement,h,n=j.classPrefix,g;if(m!=j._fullscreen){if(f.on(window,"resize",function(){var o;if(j._fullscreen){if(h){j._timer||(j._timer=setTimeout(function(){var p=f.getWindowSize();j.moveTo(0,0).resizeTo(p.w,p.h),j._timer=0},50))}else{o=(new Date).getTime();var i=f.getWindowSize();j.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-o>50&&(h=!0)}}}),g=j.layoutRect(),j._fullscreen=m,m){j._initial={x:g.x,y:g.y,w:g.w,h:g.h},j._borderBox=j.parseBox("0"),j.getEl("head").style.display="none",g.deltaH-=g.headerH+2,f.addClass(l,n+"fullscreen"),f.addClass(document.body,n+"fullscreen"),j.addClass("fullscreen");var k=f.getWindowSize();j.moveTo(0,0).resizeTo(k.w,k.h)}else{j._borderBox=j.parseBox(j.settings.border),j.getEl("head").style.display="",g.deltaH+=g.headerH,f.removeClass(l,n+"fullscreen"),f.removeClass(document.body,n+"fullscreen"),j.removeClass("fullscreen"),j.moveTo(j._initial.x,j._initial.y).resizeTo(j._initial.w,j._initial.h)}}return j.reflow()},postRender:function(){var h=this,g;setTimeout(function(){h.addClass("in")},0),h._super(),h.statusbar&&h.statusbar.postRender(),h.focus(),this.dragHelper=new c(h._id+"-dragh",{start:function(){g={x:h.layoutRect().x,y:h.layoutRect().y}},drag:function(e){h.moveTo(g.x+e.deltaX,g.y+e.deltaY)}}),h.on("submit",function(e){e.isDefaultPrevented()||h.close()})},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var h=this,g=h.classPrefix;h.dragHelper.destroy(),h._super(),h.statusbar&&this.statusbar.remove(),h._fullscreen&&(f.removeClass(document.documentElement,g+"fullscreen"),f.removeClass(document.body,g+"fullscreen"))},getContentWindow:function(){var g=this.getEl().getElementsByTagName("iframe")[0];return g?g.contentWindow:null}});return a}),aF(be,[bX],function(b){var a=b.extend({init:function(c){c={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(c)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){var d,c=e.callback||function(){};switch(e.buttons){case a.OK_CANCEL:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),c(!0)}},{type:"button",text:"Cancel",onClick:function(f){f.control.parents()[1].close(),c(!1)}}];break;case a.YES_NO:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),c(!0)}}];break;case a.YES_NO_CANCEL:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close()}}];break;default:d=[{type:"button",text:"Ok",subtype:"primary",onClick:function(f){f.control.parents()[1].close(),c(!0)}}]}return new b({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:d,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){c(!1)}}).renderTo(document.body).reflow()},alert:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,a.msgBox(c)},confirm:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,c.buttons=a.OK_CANCEL,a.msgBox(c)}}});return a}),aF(a6,[bX,be],function(b,a){return function(f){function d(){return e.length?e[e.length-1]:void 0}var c=this,e=[];c.windows=e,c.open=function(h,j){var g;return f.editorManager.activeEditor=f,h.title=h.title||" ",h.url=h.url||h.file,h.url&&(h.width=parseInt(h.width||320,10),h.height=parseInt(h.height||240,10)),h.body&&(h.items={defaults:h.defaults,type:h.bodyType||"form",items:h.body}),h.url||h.buttons||(h.buttons=[{text:"Ok",subtype:"primary",onclick:function(){g.find("form")[0].submit()}},{text:"Cancel",onclick:function(){g.close()}}]),g=new b(h),e.push(g),g.on("close",function(){for(var i=e.length;i--;){e[i]===g&&e.splice(i,1)}f.focus()}),h.data&&g.on("postRender",function(){this.find("*").each(function(i){var k=i.name();k in h.data&&i.value(h.data[k])})}),g.features=h||{},g.params=j||{},f.nodeChanged(),g.renderTo().reflow()},c.alert=function(j,h,g){a.alert(j,function(){h?h.call(g||this):f.focus()})},c.confirm=function(h,i,g){a.confirm(h,function(j){i.call(g||this,j)})},c.close=function(){d()&&d().close()},c.getParams=function(){return d()?d().params:null},c.setParams=function(g){d()&&(d().params=g)},c.getWindows=function(){return e}}}),aF(bR,[bd,bC,bz,aM,aS,aU],function(d,b,g,c,a,f){return function(cw){function cj(j,h){try{cw.getDoc().execCommand(j,!1,h)}catch(k){}}function cn(){var h=cw.getDoc().documentMode;return h?h:6}function cu(h){return h.isDefaultPrevented()}function ct(){function k(u){var l=new j(function(){});f.each(cw.getBody().getElementsByTagName("*"),function(w){"SPAN"==w.tagName&&w.setAttribute("mce-data-marked",1),!w.hasAttribute("data-mce-style")&&w.hasAttribute("style")&&cw.dom.setAttrib(w,"style",w.getAttribute("style"))}),l.observe(cw.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),cw.getDoc().execCommand(u?"ForwardDelete":"Delete",!1,null);var v=cw.selection.getRng(),s=v.startContainer.parentNode;f.each(l.takeRecords(),function(x){if(ck.isChildOf(x.target,cw.getBody())){if("style"==x.attributeName){var w=x.target.getAttribute("data-mce-style");w?x.target.setAttribute("style",w):x.target.removeAttribute("style")}f.each(x.addedNodes,function(A){if("SPAN"==A.nodeName&&!A.getAttribute("mce-data-marked")){var z,y;A==s&&(z=v.startOffset,y=A.firstChild),ck.remove(A,!0),y&&(v.setStart(y,z),v.setEnd(y,z),cw.selection.setRng(v))}})}}),l.disconnect(),f.each(cw.dom.select("span[mce-data-marked]"),function(w){w.removeAttribute("mce-data-marked")})}var q=cw.getDoc(),p="data:text/mce-internal,",j=window.MutationObserver,m,h;j||(m=!0,j=function(){function u(x){var w=x.relatedNode||x.target;v.push({target:w,addedNodes:[w]})}function l(x){var w=x.relatedNode||x.target;v.push({target:w,attributeName:x.attrName})}var v=[],s;this.observe=function(w){s=w,s.addEventListener("DOMSubtreeModified",u,!1),s.addEventListener("DOMNodeInsertedIntoDocument",u,!1),s.addEventListener("DOMNodeInserted",u,!1),s.addEventListener("DOMAttrModified",l,!1)},this.disconnect=function(){s.removeEventListener("DOMSubtreeModified",u,!1),s.removeEventListener("DOMNodeInsertedIntoDocument",u,!1),s.removeEventListener("DOMNodeInserted",u,!1),s.removeEventListener("DOMAttrModified",l,!1)},this.takeRecords=function(){return v}}),cw.on("keydown",function(z){var x=z.keyCode==r,v=d.metaKeyPressed(z);if(!cu(z)&&(x||z.keyCode==o)){var y=cw.selection.getRng(),w=y.startContainer,u=y.startOffset;if(!v&&y.collapsed&&3==w.nodeType&&(x?u<w.data.length:u>0)){return}z.preventDefault(),v&&cw.selection.getSel().modify("extend",x?"forward":"backward","word"),k(x)}}),cw.on("keypress",function(l){cu(l)||cp.isCollapsed()||!l.charCode||d.metaKeyPressed(l)||(l.preventDefault(),k(!0),cw.selection.setContent(String.fromCharCode(l.charCode)))}),cw.addCommand("Delete",function(){k()}),cw.addCommand("ForwardDelete",function(){k(!0)}),m||(cw.on("dragstart",function(s){var l;cw.selection.isCollapsed()&&"IMG"==s.target.tagName&&cp.select(s.target),h=cp.getRng(),l=cw.selection.getContent(),l.length>0&&s.dataTransfer.setData("URL","data:text/mce-internal,"+escape(l))}),cw.on("drop",function(s){if(!cu(s)){var l=s.dataTransfer.getData("URL");if(!l||-1==l.indexOf(p)||!q.caretRangeFromPoint){return}l=unescape(l.substr(p.length)),q.caretRangeFromPoint&&(s.preventDefault(),window.setTimeout(function(){var u=q.caretRangeFromPoint(s.x,s.y);h&&(cp.setRng(h),h=null),k(),cp.setRng(u),cw.insertContent(l)},0))}}),cw.on("cut",function(l){!cu(l)&&l.clipboardData&&(l.preventDefault(),l.clipboardData.clearData(),l.clipboardData.setData("text/html",cw.selection.getContent()),l.clipboardData.setData("text/plain",cw.selection.getContent({format:"text"})),k(!0))}))}function ci(){function h(l){var k=ck.create("body"),m=l.cloneContents();return k.appendChild(m),cp.serializer.serialize(k,{format:"html"})}function j(q){if(!q.setStart){if(q.item){return !1}var m=q.duplicate();return m.moveToElementText(cw.getBody()),b.compareRanges(q,m)}var k=h(q),p=ck.createRng();p.selectNode(cw.getBody());var l=h(p);return k===l}cw.on("keydown",function(p){var l=p.keyCode,m,k;if(!cu(p)&&(l==r||l==o)){if(m=cw.selection.isCollapsed(),k=cw.getBody(),m&&!ck.isEmpty(k)){return}if(!m&&!j(cw.selection.getRng())){return}p.preventDefault(),cw.setContent(""),k.firstChild&&ck.isBlock(k.firstChild)?cw.selection.setCursorLocation(k.firstChild,0):cw.selection.setCursorLocation(k,0),cw.nodeChanged()}})}function cs(){cw.on("keydown",function(h){!cu(h)&&65==h.keyCode&&d.metaKeyPressed(h)&&(h.preventDefault(),cw.execCommand("SelectAll"))})}function cl(){cw.settings.content_editable||(ck.bind(cw.getDoc(),"focusin",function(){cp.setRng(cp.getRng())}),ck.bind(cw.getDoc(),"mousedown",function(h){h.target==cw.getDoc().documentElement&&(cw.getBody().focus(),cp.setRng(cp.getRng()))}))}function cm(){cw.on("keydown",function(j){if(!cu(j)&&j.keyCode===o&&cp.isCollapsed()&&0===cp.getRng(!0).startOffset){var h=cp.getNode(),k=h.previousSibling;if("HR"==h.nodeName){return ck.remove(h),void j.preventDefault()}k&&k.nodeName&&"hr"===k.nodeName.toLowerCase()&&(ck.remove(k),j.preventDefault())}})}function cq(){window.Range.prototype.getClientRects||cw.on("mousedown",function(j){if(!cu(j)&&"HTML"===j.target.nodeName){var h=cw.getBody();h.blur(),setTimeout(function(){h.focus()},0)}})}function cr(){cw.on("click",function(h){h=h.target,/^(IMG|HR)$/.test(h.nodeName)&&cp.getSel().setBaseAndExtent(h,0,h,1),"A"==h.nodeName&&ck.hasClass(h,"mce-item-anchor")&&cp.select(h),cw.nodeChanged()})}function ch(){function j(){var k=ck.getAttribs(cp.getStart().cloneNode(!1));return function(){var l=cp.getStart();l!==cw.getBody()&&(ck.setAttrib(l,"style",null),n(k,function(m){l.setAttributeNode(m.cloneNode(!0))}))}}function h(){return !cp.isCollapsed()&&ck.getParent(cp.getStart(),ck.isBlock)!=ck.getParent(cp.getEnd(),ck.isBlock)}cw.on("keypress",function(l){var k;return cu(l)||8!=l.keyCode&&46!=l.keyCode||!h()?void 0:(k=j(),cw.getDoc().execCommand("delete",!1,null),k(),l.preventDefault(),!1)}),ck.bind(cw.getDoc(),"cut",function(l){var k;!cu(l)&&h()&&(k=j(),setTimeout(function(){k()},0))})}function ce(){var h,j;cw.on("selectionchange",function(){j&&(clearTimeout(j),j=0),j=window.setTimeout(function(){if(!cw.removed){var k=cp.getRng();h&&b.compareRanges(k,h)||(cw.nodeChanged(),h=k)}},50)})}function cv(){document.body.setAttribute("role","application")}function b9(){cw.on("keydown",function(j){if(!cu(j)&&j.keyCode===o&&cp.isCollapsed()&&0===cp.getRng(!0).startOffset){var h=cp.getNode().previousSibling;if(h&&h.nodeName&&"table"===h.nodeName.toLowerCase()){return j.preventDefault(),!1}}})}function cf(){cn()>7||(cj("RespectVisibilityInDesign",!0),cw.contentStyles.push(".mceHideBrInPre pre br {display: none}"),ck.addClass(cw.getBody(),"mceHideBrInPre"),b1.addNodeFilter("pre",function(m){for(var k=m.length,l,j,p,h;k--;){for(l=m[k].getAll("br"),j=l.length;j--;){p=l[j],h=p.prev,h&&3===h.type&&"\n"!=h.value.charAt(h.value-1)?h.value+="\n":p.parent.insert(new g("#text",3),p,!0).value="\n"}}}),e.addNodeFilter("pre",function(l){for(var j=l.length,p,k,h,m;j--;){for(p=l[j].getAll("br"),k=p.length;k--;){h=p[k],m=h.prev,m&&3==m.type&&(m.value=m.value.replace(/\r?\n$/,""))}}}))}function cg(){ck.bind(cw.getBody(),"mouseup",function(){var j,h=cp.getNode();"IMG"==h.nodeName&&((j=ck.getStyle(h,"width"))&&(ck.setAttrib(h,"width",j.replace(/[^0-9%]+/g,"")),ck.setStyle(h,"width","")),(j=ck.getStyle(h,"height"))&&(ck.setAttrib(h,"height",j.replace(/[^0-9%]+/g,"")),ck.setStyle(h,"height","")))})}function cx(){cw.on("keydown",function(j){var p,l,h,m,k;if(!cu(j)&&j.keyCode==d.BACKSPACE&&(p=cp.getRng(),l=p.startContainer,h=p.startOffset,m=ck.getRoot(),k=l,p.collapsed&&0===h)){for(;k&&k.parentNode&&k.parentNode.firstChild==k&&k.parentNode!=m;){k=k.parentNode}"BLOCKQUOTE"===k.tagName&&(cw.formatter.toggle("blockquote",null,k),p=ck.createRng(),p.setStart(l,0),p.setEnd(l,0),cp.setRng(p))}})}function b7(){function h(){cw._refreshContentEditable(),cj("StyleWithCSS",!1),cj("enableInlineTableEditing",!1),cc.object_resizing||cj("enableObjectResizing",!1)}cc.readonly||cw.on("BeforeExecCommand MouseDown",h)}function bY(){function h(){n(ck.select("a"),function(k){var j=k.parentNode,l=ck.getRoot();if(j.lastChild===k){for(;j&&!ck.isBlock(j);){if(j.parentNode.lastChild!==j||j===l){return}j=j.parentNode}ck.add(j,"br",{"data-mce-bogus":1})}})}cw.on("SetContent ExecCommand",function(j){("setcontent"==j.type||"mceInsertLink"===j.command)&&h()})}function co(){cc.forced_root_block&&cw.on("init",function(){cj("DefaultParagraphSeparator",cc.forced_root_block)})}function Q(){cw.on("Undo Redo SetContent",function(h){h.initial||cw.execCommand("mceRepaint")})}function t(){cw.on("keydown",function(j){var h;cu(j)||j.keyCode!=o||(h=cw.getDoc().selection.createRange(),h&&h.item&&(j.preventDefault(),cw.undoManager.beforeChange(),ck.remove(h.item(0)),cw.undoManager.add()))})}function Z(){var h;cn()>=10&&(h="",n("p div h1 h2 h3 h4 h5 h6".split(" "),function(j,k){h+=(k>0?",":"")+j+":empty"}),cw.contentStyles.push(h+"{padding-right: 1px !important}"))}function cb(){cn()<9&&(b1.addNodeFilter("noscript",function(k){for(var h=k.length,l,j;h--;){l=k[h],j=l.firstChild,j&&l.attr("data-mce-innertext",j.value)}}),e.addNodeFilter("noscript",function(l){for(var k=l.length,j,m,h;k--;){j=l[k],m=l[k].firstChild,m?m.value=c.decode(m.value):(h=j.attributes.map["data-mce-innertext"],h&&(j.attr("data-mce-innertext",null),m=new g("#text",3),m.value=h,m.raw=!0,j.append(m)))}}))}function ca(){function p(w,s){var x=j.createTextRange();try{x.moveToPoint(w,s)}catch(v){x=null}return x}function k(s){var v;s.button?(v=p(s.x,s.y),v&&(v.compareEndPoints("StartToStart",h)>0?v.setEndPoint("StartToStart",h):v.setEndPoint("EndToEnd",h),v.select())):u()}function u(){var s=m.selection.createRange();h&&!s.item&&0===s.compareEndPoints("StartToEnd",s)&&h.select(),ck.unbind(m,"mouseup",u),ck.unbind(m,"mousemove",k),h=q=0}var m=ck.doc,j=m.body,q,h,l;m.documentElement.unselectable=!0,ck.bind(m,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(q&&u(),l=m.documentElement,l.scrollHeight>l.clientHeight){return}q=1,h=p(s.x,s.y),h&&(ck.bind(m,"mouseup",u),ck.bind(m,"mousemove",k),ck.getRoot().focus(),h.select())}})}function b8(){cw.on("keyup focusin mouseup",function(h){65==h.keyCode&&d.metaKeyPressed(h)||cp.normalize()},!0)}function b0(){cw.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function bZ(){cw.inline||cw.on("keydown",function(){document.activeElement==document.body&&cw.getWin().focus()})}function b4(){cw.inline||(cw.contentStyles.push("body {min-height: 150px}"),cw.on("click",function(h){"HTML"==h.target.nodeName&&(cw.getBody().focus(),cw.selection.normalize(),cw.nodeChanged())}))}function at(){a.mac&&cw.on("keydown",function(h){!d.metaKeyPressed(h)||37!=h.keyCode&&39!=h.keyCode||(h.preventDefault(),cw.selection.getSel().modify("move",37==h.keyCode?"backward":"forward","word"))})}function bt(){cj("AutoUrlDetect",!1)}function b3(){cw.inline||cw.on("focus blur beforegetcontent",function(){var h=cw.dom.create("br");cw.getBody().appendChild(h),h.parentNode.removeChild(h)},!0)}function b6(){cw.on("click",function(j){var h=j.target;do{if("A"===h.tagName){return void j.preventDefault()}}while(h=h.parentNode)}),cw.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function cd(){cw.on("init",function(){cw.dom.bind(cw.getBody(),"submit",function(h){h.preventDefault()})})}var n=f.each,o=d.BACKSPACE,r=d.DELETE,ck=cw.dom,cp=cw.selection,cc=cw.settings,b1=cw.parser,e=cw.serializer,b5=a.gecko,i=a.ie,b2=a.webkit;b9(),cx(),ci(),b8(),b2&&(ct(),cl(),cr(),co(),cd(),a.iOS?(ce(),bZ(),b4(),b6()):cs()),i&&a.ie<11&&(cm(),cv(),cf(),cg(),t(),Z(),cb(),ca()),a.ie>=11&&(b4(),b3()),a.ie&&(cs(),bt()),b5&&(cm(),cq(),ch(),b7(),bY(),Q(),b0(),at())}}),aF(ar,[av],function(b){function a(c){return c._eventDispatcher||(c._eventDispatcher=new b({scope:c,toggleEvent:function(e,d){b.isNative(e)&&c.toggleNativeEvent&&c.toggleNativeEvent(e,d)}})),c._eventDispatcher}return{fire:function(f,h,d){var c=this;if(c.removed&&"remove"!==f){return h}if(h=a(c).fire(f,h,d),d!==!1&&c.parent){for(var g=c.parent();g&&!h.isPropagationStopped();){g.fire(f,h,!1),g=g.parent()}}return h},on:function(d,f,c){return a(this).on(d,f,c)},off:function(c,d){return a(this).off(c,d)},hasEventListeners:function(c){return a(this).has(c)}}}),aF(az,[ar,aB,aU],function(g,d,j){function f(i,a){return"selectionchange"==a?i.getDoc():!i.inline&&/^mouse|click|contextmenu|drop/.test(a)?i.getDoc():i.getBody()}function c(o,m){var p=o.settings.event_root,l=o.editorManager,k=l.eventRootElm||f(o,m);if(p){if(l.rootEvents||(l.rootEvents={},l.on("RemoveEditor",function(){l.activeEditor||(h.unbind(k),delete l.rootEvents)})),l.rootEvents[m]){return}k==o.getBody()&&(k=h.select(p)[0],l.eventRootElm=k),l.rootEvents[m]=!0,h.bind(k,m,function(u){for(var v=u.target,t=l.editors,i=t.length;i--;){var q=t[i].getBody();(q===v||h.isChildOf(v,q))&&(t[i].hidden||t[i].fire(m,u))}})}else{o.dom.bind(k,m,function(a){o.hidden||o.fire(m,a)})}}var h=d.DOM,b={bindPendingEventDelegates:function(){var a=this;j.each(a._pendingNativeEvents,function(e){c(a,e)})},toggleNativeEvent:function(i,a){var k=this;k.settings.readonly||"focus"!=i&&"blur"!=i&&(a?k.initialized?c(k,i):k._pendingNativeEvents?k._pendingNativeEvents.push(i):k._pendingNativeEvents=[i]:k.initialized&&k.dom.unbind(f(k,i),i))}};return b=j.extend({},g,b)}),aF(bA,[aU,aS],function(d,b){var f=d.each,c=d.explode,a={f9:120,f10:121,f11:122};return function(h){var e=this,g={};h.on("keyup keypress keydown",function(i){(i.altKey||i.ctrlKey||i.metaKey)&&f(g,function(k){var j=b.mac?i.metaKey:i.ctrlKey;if(k.ctrl==j&&k.alt==i.altKey&&k.shift==i.shiftKey){return i.keyCode==k.keyCode||i.charCode&&i.charCode==k.charCode?(i.preventDefault(),"keydown"==i.type&&k.func.call(k.scope),!0):void 0}})}),e.add=function(k,j,i,n){var m;return m=i,"string"==typeof i?i=function(){h.execCommand(m,!1,null)}:d.isArray(m)&&(i=function(){h.execCommand(m[0],m[1],m[2])}),f(c(k.toLowerCase()),function(o){var l={func:i,scope:n||h,desc:h.translate(j),alt:!1,ctrl:!1,shift:!1};f(c(o,"+"),function(p){switch(p){case"alt":case"ctrl":case"shift":l[p]=!0;break;default:l.charCode=p.charCodeAt(0),l.keyCode=a[p]||p.toUpperCase().charCodeAt(0)}}),g[(l.ctrl?"ctrl":"")+","+(l.alt?"alt":"")+","+(l.shift?"shift":"")+","+l.keyCode]=l}),!0}}}),aF(bH,[aB,aZ,bz,aP,bm,bB,bp,bo,bu,bj,bk,bs,aw,aW,a6,ax,a1,bR,aS,aU,az,bA],function(b7,bZ,Y,b3,bY,cb,W,b1,b9,b8,Q,b6,bt,b0,b4,b5,P,I,ca,X,J,O){function cc(g,d,f){var c=this,h,b;h=c.documentBaseUrl=f.documentBaseURL,b=f.baseURI,c.settings=d=q({id:g,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:h,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,li,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c,ie7_compat:!0},d),bZ.language=d.language||"en",bZ.languageLoad=d.language_load,bZ.baseURL=f.baseURL,c.id=d.id=g,c.isNotDirty=!0,c.plugins={},c.documentBaseURI=new b6(d.document_base_url||h,{base_uri:b}),c.baseURI=b,c.contentCSS=[],c.contentStyles=[],c.shortcuts=new O(c),c.execCommands={},c.queryStateCommands={},c.queryValueCommands={},c.loadedCSS={},c.suffix=f.suffix,c.editorManager=f,c.inline=d.inline,f.fire("SetupEditor",c),c.execCallback("setup",c)}var U=b7.DOM,z=bZ.ThemeManager,b2=bZ.PluginManager,q=X.extend,j=X.each,t=X.explode,at=X.inArray,Z=X.trim,V=X.resolve,G=b0.Event,F=ca.gecko,K=ca.ie;return cc.prototype={render:function(){function g(){U.unbind(window,"ready",g),k.render()}function d(){var i=bt.ScriptLoader;if(f.language&&"en"!=f.language&&!f.language_url&&(f.language_url=k.editorManager.baseURL+"/langs/"+f.language+".js"),f.language_url&&i.add(f.language_url),f.theme&&"function"!=typeof f.theme&&"-"!=f.theme.charAt(0)&&!z.urls[f.theme]){var a=f.theme_url;a=a?k.documentBaseURI.toAbsolute(a):"themes/"+f.theme+"/theme"+h+".js",z.load(f.theme,a)}X.isArray(f.plugins)&&(f.plugins=f.plugins.join(" ")),j(f.external_plugins,function(m,l){b2.load(l,m),f.plugins+=" "+l}),j(f.plugins.split(/[ ,]/),function(m){if(m=Z(m),m&&!b2.urls[m]){if("-"==m.charAt(0)){m=m.substr(1,m.length);var l=b2.dependencies(m);j(l,function(o){var n={prefix:"plugins/",resource:o,suffix:"/plugin"+h+".js"};o=b2.createUrl(n,o),b2.load(o.resource,o)})}else{b2.load(m,{prefix:"plugins/",resource:m,suffix:"/plugin"+h+".js"})}}}),i.loadQueue(function(){k.removed||k.init()})}var k=this,f=k.settings,c=k.id,h=k.suffix;if(!G.domLoaded){return void U.bind(window,"ready",g)}if(k.getElement()&&ca.contentEditable){f.inline?k.inline=!0:(k.orgVisibility=k.getElement().style.visibility,k.getElement().style.visibility="hidden");var b=k.getElement().form||U.getParent(c,"form");b&&(k.formElement=b,f.hidden_input&&!/TEXTAREA|INPUT/i.test(k.getElement().nodeName)&&(U.insertAfter(U.create("input",{type:"hidden",name:c}),c),k.hasHiddenInput=!0),k.formEventDelegate=function(a){k.fire(a.type,a)},U.bind(b,"submit reset",k.formEventDelegate),k.on("reset",function(){k.setContent(k.startContent,{format:"raw"})}),!f.submit_patch||b.submit.nodeType||b.submit.length||b._mceOldSubmit||(b._mceOldSubmit=b.submit,b.submit=function(){return k.editorManager.triggerSave(),k.isNotDirty=!0,b._mceOldSubmit(b)})),k.windowManager=new b4(k),"xml"==f.encoding&&k.on("GetContent",function(a){a.save&&(a.content=U.encode(a.content))}),f.add_form_submit_trigger&&k.on("submit",function(){k.initialized&&k.save()}),f.add_unload_trigger&&(k._beforeUnload=function(){!k.initialized||k.destroyed||k.isHidden()||k.save({format:"raw",no_events:!0,set_dirty:!1})},k.editorManager.on("BeforeUnload",k._beforeUnload)),d()}},init:function(){function T(e){var c=b2.get(e),a,d;a=b2.urls[e]||x.documentBaseUrl.replace(/\/$/,""),e=Z(e),c&&-1===at(N,e)&&(j(b2.dependencies(e),function(f){T(f)}),d=new c(x,a),x.plugins[e]=d,d.init&&(d.init(x,a),N.push(e)))}var x=this,E=x.settings,B=x.getElement(),M,D,cf,A,L,ce,cd,w,S,C,H,N=[];if(x.rtl=this.editorManager.i18n.rtl,x.editorManager.add(x),E.aria_label=E.aria_label||U.getAttrib(B,"aria-label",x.getLang("aria.rich_text_area")),E.theme&&("function"!=typeof E.theme?(E.theme=E.theme.replace(/-/,""),ce=z.get(E.theme),x.theme=new ce(x,z.urls[E.theme]),x.theme.init&&x.theme.init(x,z.urls[E.theme]||x.documentBaseUrl.replace(/\/$/,""))):x.theme=E.theme),j(E.plugins.replace(/\-/g,"").split(/[ ,]/),T),E.render_ui&&x.theme&&(x.orgDisplay=B.style.display,"function"!=typeof E.theme?(M=E.width||B.style.width||B.offsetWidth,D=E.height||B.style.height||B.offsetHeight,cf=E.min_height||100,C=/^[0-9\.]+(|px)$/i,C.test(""+M)&&(M=Math.max(parseInt(M,10),100)),C.test(""+D)&&(D=Math.max(parseInt(D,10),cf)),L=x.theme.renderUI({targetNode:B,width:M,height:D,deltaWidth:E.delta_width,deltaHeight:E.delta_height}),E.content_editable||(U.setStyles(L.sizeContainer||L.editorContainer,{wi2dth:M,h2eight:D}),D=(L.iframeHeight||D)+("number"==typeof D?L.deltaHeight||0:""),cf>D&&(D=cf))):(L=E.theme(x,B),L.editorContainer.nodeType&&(L.editorContainer=L.editorContainer.id=L.editorContainer.id||x.id+"_parent"),L.iframeContainer.nodeType&&(L.iframeContainer=L.iframeContainer.id=L.iframeContainer.id||x.id+"_iframecontainer"),D=L.iframeHeight||B.offsetHeight),x.editorContainer=L.editorContainer),E.content_css&&j(t(E.content_css),function(a){x.contentCSS.push(x.documentBaseURI.toAbsolute(a))}),E.content_style&&x.contentStyles.push(E.content_style),E.content_editable){return B=A=L=null,x.initContentBody()}for(x.iframeHTML=E.doctype+"<html><head>",E.document_base_url!=x.documentBaseUrl&&(x.iframeHTML+='<base href="'+x.documentBaseURI.getURI()+'" />'),!ca.caretAfter&&E.ie7_compat&&(x.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),x.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',H=0;H<x.contentCSS.length;H++){var R=x.contentCSS[H];x.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+R+'" />',x.loadedCSS[R]=!0}w=E.body_id||"tinymce",-1!=w.indexOf("=")&&(w=x.getParam("body_id","","hash"),w=w[x.id]||w),S=E.body_class||"",-1!=S.indexOf("=")&&(S=x.getParam("body_class","","hash"),S=S[x.id]||""),x.iframeHTML+='</head><body id="'+w+'" class="mce-content-body '+S+'" onload="window.parent.tinymce.get(\''+x.id+"').fire('load');\"><br></body></html>";var k='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+x.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';if(document.domain!=location.hostname&&(cd=k),A=U.add(L.iframeContainer,"iframe",{id:x.id+"_ifr",src:cd||'javascript:""',frameBorder:"0",allowTransparency:"true",title:x.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:D,display:"block"}}),K){try{x.getDoc()}catch(b){A.src=cd=k}}x.contentAreaContainer=L.iframeContainer,L.editorContainer&&(U.get(L.editorContainer).style.display=x.orgDisplay),U.get(x.id).style.display="none",U.setAttrib(x.id,"aria-hidden",!0),cd||x.initContentBody(),B=A=L=null},initContentBody:function(b){var i=this,g=i.settings,d=U.get(i.id),e=i.getDoc(),a,c;g.inline||(i.getElement().style.visibility=i.orgVisibility),b||g.content_editable||(e.open(),e.write(i.iframeHTML),e.close()),g.content_editable&&(i.on("remove",function(){var f=this.getBody();U.removeClass(f,"mce-content-body"),U.removeClass(f,"mce-edit-focus"),U.setAttrib(f,"contentEditable",null)}),U.addClass(d,"mce-content-body"),i.contentDocument=e=g.content_document||document,i.contentWindow=g.content_window||window,i.bodyElement=d,g.content_document=g.content_window=null,g.root_name=d.nodeName.toLowerCase()),a=i.getBody(),a.disabled=!0,g.readonly||(i.inline&&"static"==U.getStyle(a,"position",!0)&&(a.style.position="relative"),a.contentEditable=i.getParam("content_editable_state",!0)),a.disabled=!1,i.schema=new b5(g),i.dom=new b7(e,{keep_values:!0,url_converter:i.convertURL,url_converter_scope:i,hex_colors:g.force_hex_style_colors,class_filter:g.class_filter,update_styles:!0,root_element:g.content_editable?i.id:null,collect:g.content_editable,schema:i.schema,onSetAttrib:function(f){i.fire("SetAttrib",f)}}),i.parser=new P(g,i.schema),i.parser.addAttributeFilter("src,href,style,tabindex",function(n,k){for(var m=n.length,h,p=i.dom,f,l;m--;){h=n[m],f=h.attr(k),l="data-mce-"+k,h.attributes.map[l]||("style"===k?h.attr(l,p.serializeStyle(p.parseStyle(f),h.name)):"tabindex"===k?(h.attr(l,f),h.attr(k,null)):h.attr(l,i.convertURL(f,k,h.name)))}}),i.parser.addNodeFilter("script",function(h){for(var f=h.length,k;f--;){k=h[f],k.attr("type","mce-"+(k.attr("type")||"text/javascript"))}}),i.parser.addNodeFilter("#cdata",function(h){for(var f=h.length,k;f--;){k=h[f],k.type=8,k.name="#comment",k.value="[CDATA["+k.value+"]]"}}),i.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(k){for(var h=k.length,f,l=i.schema.getNonEmptyElements();h--;){f=k[h],f.isEmpty(l)&&(f.empty().append(new Y("br",1)).shortEnded=!0)}}),i.serializer=new b3(g,i),i.selection=new cb(i.dom,i.getWin(),i.serializer,i),i.formatter=new W(i),i.undoManager=new b1(i),i.forceBlocks=new b8(i),i.enterKey=new b9(i),i.editorCommands=new Q(i),i.fire("PreInit"),g.browser_spellcheck||g.gecko_spellcheck||(e.body.spellcheck=!1,U.setAttrib(a,"spellcheck","false")),i.fire("PostRender"),i.quirks=I(i),g.directionality&&(a.dir=g.directionality),g.nowrap&&(a.style.whiteSpace="nowrap"),g.protect&&i.on("BeforeSetContent",function(f){j(g.protect,function(h){f.content=f.content.replace(h,function(k){return"<!--mce:protected "+escape(k)+"-->"})})}),i.on("SetContent",function(){i.addVisual(i.getBody())}),g.padd_empty_editor&&i.on("PostProcess",function(f){f.content=f.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),i.load({initial:!0,format:"html"}),i.startContent=i.getContent({format:"raw"}),i.initialized=!0,i.bindPendingEventDelegates(),i.fire("init"),i.focus(!0),i.nodeChanged({initial:!0}),i.execCallback("init_instance_callback",i),i.contentStyles.length>0&&(c="",j(i.contentStyles,function(f){c+=f+"\r\n"}),i.dom.addStyle(c)),j(i.contentCSS,function(f){i.loadedCSS[f]||(i.dom.loadCSS(f),i.loadedCSS[f]=!0)}),g.auto_focus&&setTimeout(function(){var f=i.editorManager.get(g.auto_focus);if(f){f.selection.select(f.getBody(),1);f.selection.collapse(1);f.getBody().focus();f.getWin().focus()}},100),d=e=a=null},focus:function(k){var u,f=this,b=f.selection,h=f.settings.content_editable,d,p,v=f.getDoc(),g;if(!k){if(d=b.getRng(),d.item&&(p=d.item(0)),f._refreshContentEditable(),h||(ca.opera||f.getBody().focus(),f.getWin().focus()),F||h){if(g=f.getBody(),g.setActive){try{g.setActive()}catch(m){g.focus()}}else{g.focus()}h&&b.normalize()}p&&p.ownerDocument==v&&(d=v.body.createControlRange(),d.addElement(p),d.select())}f.editorManager.activeEditor!=f&&((u=f.editorManager.activeEditor)&&u.fire("deactivate",{relatedTarget:f}),f.fire("activate",{relatedTarget:u})),f.editorManager.activeEditor=f},execCallback:function(c){var a=this,d=a.settings[c],b;if(d){return a.callbackLookup&&(b=a.callbackLookup[c])&&(d=b.func,b=b.scope),"string"==typeof d&&(b=d.replace(/\.\w+$/,""),b=b?V(b):0,d=V(d),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[c]={func:d,scope:b}),d.apply(b||a,Array.prototype.slice.call(arguments,1))}},translate:function(b){var a=this.settings.language||"en",c=this.editorManager.i18n;return b?c.data[a+"."+b]||b.replace(/\{\#([^\}]+)\}/g,function(f,d){return c.data[a+"."+d]||"{#"+d+"}"}):""},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==aD?b:"{#"+a+"}")},getParam:function(d,b,f){var c=d in this.settings?this.settings[d]:b,a;return"hash"===f?(a={},"string"==typeof c?j(c.split(c.indexOf("=")>0?/[;,](?![^=;,]*(?:[;,]|$))/:","),function(g){g=g.split("="),a[Z(g[0])]=Z(g.length>1?g[1]:g)}):a=c,a):c},nodeChanged:function(){var d=this,b=d.selection,f,c,a;!d.initialized||d.settings.disable_nodechange||d.settings.readonly||(a=d.getBody(),f=b.getStart()||a,f=K&&f.ownerDocument!=d.getDoc()?d.getBody():f,"IMG"==f.nodeName&&b.isCollapsed()&&(f=f.parentNode),c=[],d.dom.getParent(f,function(g){return g===a?!0:void c.push(g)}),d.fire("NodeChange",{element:f,parents:c}))},addButton:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),a.text||a.icon||(a.icon=b),c.buttons=c.buttons||{},a.tooltip=a.tooltip||a.title,c.buttons[b]=a},addMenuItem:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),c.menuItems=c.menuItems||{},c.menuItems[b]=a},addCommand:function(b,a,c){this.execCommands[b]={func:a,scope:c||this}},addQueryStateHandler:function(b,a,c){this.queryStateCommands[b]={func:a,scope:c||this}},addQueryValueHandler:function(b,a,c){this.queryValueCommands[b]={func:a,scope:c||this}},addShortcut:function(c,a,d,b){this.shortcuts.add(c,a,d,b)},execCommand:function(g,d,k,f){var c=this,h=0,b;return/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(g)||f&&f.skip_focus||c.focus(),f=q({},f),f=c.fire("BeforeExecCommand",{command:g,ui:d,value:k}),f.isDefaultPrevented()?!1:(b=c.execCommands[g])&&b.func.call(b.scope,d,k)!==!0?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):(j(c.plugins,function(a){return a.execCommand&&a.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),h=!0,!1):void 0}),h?h:c.theme&&c.theme.execCommand&&c.theme.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):c.editorCommands.execCommand(g,d,k)?(c.fire("ExecCommand",{command:g,ui:d,value:k}),!0):(c.getDoc().execCommand(g,d,k),void c.fire("ExecCommand",{command:g,ui:d,value:k})))},queryCommandState:function(d){var b=this,f,c;if(!b._isHidden()){if((f=b.queryStateCommands[d])&&(c=f.func.call(f.scope),c!==!0)){return c}if(c=b.editorCommands.queryCommandState(d),-1!==c){return c}try{return b.getDoc().queryCommandState(d)}catch(a){}}},queryCommandValue:function(c){var f=this,b,a;if(!f._isHidden()){if((b=f.queryValueCommands[c])&&(a=b.func.call(b.scope),a!==!0)){return a}if(a=f.editorCommands.queryCommandValue(c),a!==aD){return a}try{return f.getDoc().queryCommandValue(c)}catch(d){}}},show:function(){var a=this;a.hidden&&(a.hidden=!1,a.inline?a.getBody().contentEditable=!0:(U.show(a.getContainer()),U.hide(a.id)),a.load(),a.fire("show"))},hide:function(){var b=this,a=b.getDoc();b.hidden||(b.hidden=!0,K&&a&&!b.inline&&a.execCommand("SelectAll"),b.save(),b.inline?(b.getBody().contentEditable=!1,b==b.editorManager.focusedEditor&&(b.editorManager.focusedEditor=null)):(U.hide(b.getContainer()),U.setStyle(b.id,"display",b.orgDisplay)),b.fire("hide"))},isHidden:function(){return !!this.hidden},setProgressState:function(b,a){this.fire("ProgressState",{state:b,time:a})},load:function(c){var d=this,b=d.getElement(),a;return b?(c=c||{},c.load=!0,a=d.setContent(b.value!==aD?b.value:b.innerHTML,c),c.element=b,c.no_events||d.fire("LoadContent",c),c.element=b=null,a):void 0},save:function(d){var b=this,f=b.getElement(),c,a;if(f&&b.initialized){return d=d||{},d.save=!0,d.element=f,c=d.content=b.getContent(d),d.no_events||b.fire("SaveContent",d),c=d.content,/TEXTAREA|INPUT/i.test(f.nodeName)?f.value=c:(b.inline||(f.innerHTML=c),(a=U.getParent(b.id,"form"))&&j(a.elements,function(g){return g.name==b.id?(g.value=c,!1):void 0})),d.element=f=null,d.set_dirty!==!1&&(b.isNotDirty=!0),c}},setContent:function(d,b){var f=this,c=f.getBody(),a;return b=b||{},b.format=b.format||"html",b.set=!0,b.content=d,b.no_events||f.fire("BeforeSetContent",b),d=b.content,0===d.length||/^\s+$/.test(d)?(a=f.settings.forced_root_block,a&&f.schema.isValidChild(c.nodeName.toLowerCase(),a.toLowerCase())?(d=K&&11>K?"":'<br data-mce-bogus="1">',d=f.dom.createHTML(a,f.settings.forced_root_block_attrs,d)):K||(d='<br data-mce-bogus="1">'),c.innerHTML=d,f.fire("SetContent",b)):("raw"!==b.format&&(d=new bY({},f.schema).serialize(f.parser.parse(d,{isRootContent:!0}))),b.content=Z(d),f.dom.setHTML(c,b.content),b.no_events||f.fire("SetContent",b)),b.content},getContent:function(c){var a=this,d,b=a.getBody();return c=c||{},c.format=c.format||"html",c.get=!0,c.getInner=!0,c.no_events||a.fire("BeforeGetContent",c),d="raw"==c.format?b.innerHTML:"text"==c.format?b.innerText||b.textContent:a.serializer.serialize(b,c),c.content="text"!=c.format?Z(d):d,c.no_events||a.fire("GetContent",c),c.content},insertContent:function(a){this.execCommand("mceInsertContent",!1,a)},isDirty:function(){return !this.isNotDirty},getContainer:function(){var a=this;return a.container||(a.container=U.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return U.get(this.settings.content_element||this.id)},getWin:function(){var b=this,a;return b.contentWindow||(a=U.get(b.id+"_ifr"),a&&(b.contentWindow=a.contentWindow)),b.contentWindow},getDoc:function(){var b=this,a;return b.contentDocument||(a=b.getWin(),a&&(b.contentDocument=a.document)),b.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(d,b,f){var c=this,a=c.settings;return a.urlconverter_callback?c.execCallback("urlconverter_callback",d,f,!0,b):!a.convert_urls||f&&"LINK"==f.nodeName||0===d.indexOf("file:")||0===d.length?d:a.relative_urls?c.documentBaseURI.toRelative(d):d=c.documentBaseURI.toAbsolute(d,a.remove_script_host)},addVisual:function(c){var f=this,b=f.settings,a=f.dom,d;c=c||f.getBody(),f.hasVisual===aD&&(f.hasVisual=b.visual),j(a.select("table,a",c),function(h){var g;switch(h.nodeName){case"TABLE":return d=b.visual_table_class||"mce-item-table",g=a.getAttrib(h,"border"),void (g&&"0"!=g||(f.hasVisual?a.addClass(h,d):a.removeClass(h,d)));case"A":return void (a.getAttrib(h,"href",!1)||(g=a.getAttrib(h,"name")||h.id,d=b.visual_anchor_class||"mce-item-anchor",g&&(f.hasVisual?a.addClass(h,d):a.removeClass(h,d))))}}),f.fire("VisualAid",{element:c,hasVisual:f.hasVisual})},remove:function(){var b=this;if(!b.removed){b.removed=1,b.save(),b.hasHiddenInput&&U.remove(b.getElement().nextSibling),b.inline||(K&&10>K&&b.getDoc().execCommand("SelectAll",!1,null),U.setStyle(b.id,"display",b.orgDisplay),b.getBody().onload=null,G.unbind(b.getWin()),G.unbind(b.getDoc()));var a=b.getContainer();G.unbind(b.getBody()),G.unbind(a),b.fire("remove"),b.editorManager.remove(b),U.remove(a),b.destroy()}},destroy:function(b){var a=this,c;if(!a.destroyed){if(!b&&!a.removed){return void a.remove()}b&&F&&(G.unbind(a.getDoc()),G.unbind(a.getWin()),G.unbind(a.getBody())),b||(a.editorManager.off("beforeunload",a._beforeUnload),a.theme&&a.theme.destroy&&a.theme.destroy(),a.selection.destroy(),a.dom.destroy()),c=a.formElement,c&&(c._mceOldSubmit&&(c.submit=c._mceOldSubmit,c._mceOldSubmit=null),U.unbind(c,"submit reset",a.formEventDelegate)),a.contentAreaContainer=a.formElement=a.container=a.editorContainer=null,a.settings.content_element=a.bodyElement=a.contentDocument=a.contentWindow=null,a.selection&&(a.selection=a.selection.win=a.selection.dom=a.selection.dom.doc=null),a.destroyed=1}},_refreshContentEditable:function(){var b=this,a,c;b._isHidden()&&(a=b.getBody(),c=a.parentNode,c.removeChild(a),c.appendChild(a),a.focus())},_isHidden:function(){var a;return F?(a=this.selection.getSel(),!a||!a.rangeCount||0===a.rangeCount):0}},q(cc.prototype,J),cc}),aF(bP,[],function(){var a={};return{rtl:!1,add:function(b,d){for(var c in d){a[c]=d[c]}this.rtl=this.rtl||"rtl"===a._dir},translate:function(b){if("undefined"==typeof b){return b}if("string"!=typeof b&&b.raw){return b.raw}if(b.push){var c=b.slice(1);b=(a[b[0]]||b[0]).replace(/\{([^\}]+)\}/g,function(f,d){return c[d]})}return a[b]||b},data:a}}),aF(aq,[aB,aS],function(g,d){function j(n){function k(){try{return document.activeElement}catch(l){return document.body}}function a(q,l){if(l&&l.startContainer){if(!q.isChildOf(l.startContainer,q.getRoot())||!q.isChildOf(l.endContainer,q.getRoot())){return}return{startContainer:l.startContainer,startOffset:l.startOffset,endContainer:l.endContainer,endOffset:l.endOffset}}return l}function p(q,l){var r;return l.startContainer?(r=q.getDoc().createRange(),r.setStart(l.startContainer,l.startOffset),r.setEnd(l.endContainer,l.endOffset)):r=l,r}function o(l){return !!b.getParent(l,j.isEditorUIElement)}function i(l){var e=l.editor;e.on("init",function(){(e.inline||d.ie)&&(e.on("nodechange keyup",function(){var q=document.activeElement;q&&q.id==e.id+"_ifr"&&(q=e.getBody()),e.dom.isChildOf(q,e.getBody())&&(e.lastRng=e.selection.getRng())}),d.webkit&&!f&&(f=function(){var q=n.activeEditor;if(q&&q.selection){var r=q.selection.getRng();r&&!r.collapsed&&(e.lastRng=r)}},b.bind(document,"selectionchange",f)))}),e.on("setcontent",function(){e.lastRng=null}),e.on("mousedown",function(){e.selection.lastFocusBookmark=null}),e.on("focusin",function(){var q=n.focusedEditor;e.selection.lastFocusBookmark&&(e.selection.setRng(p(e,e.selection.lastFocusBookmark)),e.selection.lastFocusBookmark=null),q!=e&&(q&&q.fire("blur",{focusedEditor:e}),n.activeEditor=e,n.focusedEditor=e,e.fire("focus",{blurredEditor:q}),e.focus(!0)),e.lastRng=null}),e.on("focusout",function(){window.setTimeout(function(){var q=n.focusedEditor;o(k())||q!=e||(e.fire("blur",{focusedEditor:null}),n.focusedEditor=null,e.selection&&(e.selection.lastFocusBookmark=null))},0)}),c||(c=function(q){var r=n.activeEditor;r&&q.target.ownerDocument==document&&(r.selection&&(r.selection.lastFocusBookmark=a(r.dom,r.lastRng)),o(q.target)||n.focusedEditor!=r||(r.fire("blur",{focusedEditor:null}),n.focusedEditor=null))},b.bind(document,"focusin",c)),e.inline&&!h&&(h=function(q){var u=n.activeEditor;if(u.inline&&!u.dom.isChildOf(q.target,u.getBody())){var s=u.selection.getRng();s.collapsed||(u.lastRng=s)}},b.bind(document,"mouseup",h))}function m(e){n.focusedEditor==e.editor&&(n.focusedEditor=null),n.activeEditor||(b.unbind(document,"selectionchange",f),b.unbind(document,"focusin",c),b.unbind(document,"mouseup",h),f=c=h=null)}n.on("AddEditor",i),n.on("RemoveEditor",m)}var f,c,h,b=g.DOM;return j.isEditorUIElement=function(a){return -1!==a.className.toString().indexOf("mce-")},j}),aF(ai,[bH,aB,bs,aS,aU,ar,bP,aq],function(B,G,q,b,x,k,E,H){function w(d){var a=z.editors,f;delete a[d.id];for(var c=0;c<a.length;c++){if(a[c]==d){a.splice(c,1),f=!0;break}}return z.activeEditor==d&&(z.activeEditor=a[0]),z.focusedEditor==d&&(z.focusedEditor=null),f}function D(a){return a&&!(a.getContainer()||a.getBody()).parentNode&&(w(a),a.destroy(!0),a=null),a}var C=G.DOM,F=x.explode,A=x.each,j=x.extend,v=0,y,z;return z={majorVersion:"4",minorVersion:"0.26",releaseDate:"2014-05-06",editors:[],i18n:E,activeEditor:null,setup:function(){var n=this,h,m,g="",p,f;if(m=document.location.href.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(m)||(m+="/"),p=window.tinymce||window.tinyMCEPreInit){h=p.base||p.baseURL,g=p.suffix}else{for(var d=document.getElementsByTagName("script"),s=0;s<d.length;s++){if(f=d[s].src,/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)){-1!=f.indexOf(".min")&&(g=".min"),h=f.substring(0,f.lastIndexOf("/"));break}}!h&&document.currentScript&&(f=document.currentScript.src,-1!=f.indexOf(".min")&&(g=".min"),h=f.substring(0,f.lastIndexOf("/")))}n.baseURL=new q(m).toAbsolute(h),n.documentBaseURL=m,n.baseURI=new q(n.baseURL),n.suffix=g,n.focusManager=new H(n)},init:function(u){function e(h){var a=h.id;return a||(a=h.name,a=a&&!C.get(a)?h.name:C.uniqueId(),h.setAttribute("id",a)),a}function c(a,i){if(!D(I.get(a))){var h=new B(a,i,I);f.push(h),h.render()}}function g(i,a,l){var h=i[a];if(h){return h.apply(l||this,Array.prototype.slice.call(arguments,2))}}function d(h,a){return a.constructor===RegExp?a.test(h.className):C.hasClass(h,a)}function p(){var h,a;if(C.unbind(window,"ready",p),g(u,"onpageload"),u.types){return void A(u.types,function(i){A(C.select(i.selector),function(l){c(e(l),j({},u,i))})})}if(u.selector){return void A(C.select(u.selector),function(i){c(e(i),u)})}switch(u.mode){case"exact":h=u.elements||"",h.length>0&&A(F(h),function(i){C.get(i)?(m=new B(i,u,I),f.push(m),m.render()):A(document.forms,function(l){A(l.elements,function(n){n.name===i&&(i="mce_editor_"+v++,C.setAttrib(n,"id",i),c(i,u))})})});break;case"textareas":case"specific_textareas":A(C.select("textarea"),function(i){u.editor_deselector&&d(i,u.editor_deselector)||(!u.editor_selector||d(i,u.editor_selector))&&c(e(i),u)})}u.oninit&&(h=a=0,A(f,function(i){a++,i.initialized?h++:i.on("init",function(){h++,h==a&&g(u,"oninit")}),h==a&&g(u,"oninit")}))}var I=this,f=[],m;I.settings=u,C.bind(window,"ready",p)},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(c){var a=this,d=a.editors;return d[c.id]=c,d.push(c),a.activeEditor=c,a.fire("AddEditor",{editor:c}),y||(y=function(){a.fire("BeforeUnload")},C.bind(window,"beforeunload",y)),c},createEditor:function(a,c){return this.add(new B(a,c,this))},remove:function(f){var c=this,g,d=c.editors,a;if(f){return"string"==typeof f?(f=f.selector||f,void A(C.select(f),function(h){c.remove(d[h.id])})):(a=f,d[a.id]?(w(a)&&c.fire("RemoveEditor",{editor:a}),d.length||C.unbind(window,"beforeunload",y),a.remove(),a):null)}for(g=d.length-1;g>=0;g--){c.remove(d[g])}},execCommand:function(c,f,d){var a=this,e=a.get(d);switch(c){case"mceAddEditor":return a.get(d)||new B(d,a.settings,a).render(),!0;case"mceRemoveEditor":return e&&e.remove(),!0;case"mceToggleEditor":return e?(e.isHidden()?e.show():e.hide(),!0):(a.execCommand("mceAddEditor",0,d),!0)}return a.activeEditor?a.activeEditor.execCommand(c,f,d):!1},triggerSave:function(){A(this.editors,function(a){a.save()})},addI18n:function(c,a){E.add(c,a)},translate:function(a){return E.translate(a)}},j(z,k),z.setup(),window.tinymce=window.tinyMCE=z,z}),aF(aG,[ai,aU],function(c,a){var d=a.each,b=a.explode;c.on("AddEditor",function(g){var f=g.editor;f.on("preInit",function(){function n(l,i){d(i,function(e,o){e&&m.setStyle(l,o,e)}),m.rename(l,"span")}function k(i){m=f.dom,h.convert_fonts_to_spans&&d(m.select("font,u,strike",i.node),function(l){p[l.nodeName.toLowerCase()](m,l)})}var p,j,m,h=f.settings;h.inline_styles&&(j=b(h.font_size_legacy_values),p={font:function(e,i){n(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:j[parseInt(i.size,10)-1]})},u:function(e,i){n(i,{textDecoration:"underline"})},strike:function(e,i){n(i,{textDecoration:"line-through"})}},f.on("PreProcess SetContent",k))})})}),aF(bN,[],function(){return{send:function(c){function a(){!c.async||4==d.readyState||b++>10000?(c.success&&10000>b&&200==d.status?c.success.call(c.success_scope,""+d.responseText,d,c):c.error&&c.error.call(c.error_scope,b>10000?"TIMED_OUT":"GENERAL",d,c),d=null):setTimeout(a,10)}var d,b=0;if(c.scope=c.scope||this,c.success_scope=c.success_scope||c.scope,c.error_scope=c.error_scope||c.scope,c.async=c.async===!1?!1:!0,c.data=c.data||"",d=new XMLHttpRequest){if(d.overrideMimeType&&d.overrideMimeType(c.content_type),d.open(c.type||(c.data?"POST":"GET"),c.url,c.async),c.content_type&&d.setRequestHeader("Content-Type",c.content_type),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(c.data),!c.async){return a()}setTimeout(a,10)}}}}),aF(al,[],function(){function a(d,g){var e,c,f,b;if(g=g||'"',null===d){return"null"}if(f=typeof d,"string"==f){return c="\bb	t\nn\ff\rr\"\"''\\\\",g+d.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(i,h){return'"'===g&&"'"===i?i:(e=c.indexOf(h),e+1?"\\"+c.charAt(e+1):(i=h.charCodeAt().toString(16),"\\u"+"0000".substring(i.length)+i))})+g}if("object"==f){if(d.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(d)){for(e=0,c="[";e<d.length;e++){c+=(e>0?",":"")+a(d[e],g)}return c+"]"}c="{";for(b in d){d.hasOwnProperty(b)&&(c+="function"!=typeof d[b]?(c.length>1?","+g:g)+b+g+":"+a(d[b],g):"")}return c+"}"}return""+d}return{serialize:a,parse:function(c){try{return window[String.fromCharCode(101)+"val"]("("+c+")")}catch(b){}}}}),aF(bF,[al,bN,aU],function(d,b,f){function c(g){this.settings=a({},g),this.count=0}var a=f.extend;return c.sendRPC=function(g){return(new c).send(g)},c.prototype={send:function(h){var e=h.error,g=h.success;h=a(this.settings,h),h.success=function(k,j){k=d.parse(k),"undefined"==typeof k&&(k={error:"JSON Parse error."}),k.error?e.call(h.error_scope||h.scope,k.error,j):g.call(h.success_scope||h.scope,k.result)},h.error=function(j,i){e&&e.call(h.error_scope||h.scope,j,i)},h.data=d.serialize({id:h.id||"c"+this.count++,method:h.method,params:h.params}),h.content_type="application/json",b.send(h)}},c}),aF(a2,[aB],function(a){return{callbacks:{},count:0,send:function(f){var d=this,c=a.DOM,e=f.count!==aD?f.count:d.count,b="tinymce_jsonp_"+e;d.callbacks[e]=function(g){c.remove(b),delete d.callbacks[e],f.callback(g)},c.add(c.doc.body,"script",{id:b,src:f.url,type:"text/javascript"}),d.count++}}}),aF(bD,[],function(){function k(){t=[];for(var a in q){t.push(a)}j.length=t.length}function g(){function v(i){var s,d;return d=i!==aD?o+i:c.indexOf(",",o),-1===d||d>c.length?null:(s=c.substring(o,d),o=d+1,s)}var l,c,e,o=0;if(q={},p){f.load(h),c=f.getAttribute(h)||"";do{var a=v();if(null===a){break}if(l=v(parseInt(a,32)||0),null!==l){if(a=v(),null===a){break}e=v(parseInt(a,32)||0),l&&(q[l]=e)}}while(null!==l);k()}}function b(){var c,e="";if(p){for(var d in q){c=q[d],e+=(e?",":"")+d.length.toString(32)+","+d+","+c.length.toString(32)+","+c}f.setAttribute(h,e);try{f.save(h)}catch(a){}k()}}var j,f,q,t,h,p;try{if(window.localStorage){return localStorage}}catch(m){}return h="tinymce",f=document.documentElement,p=!!f.addBehavior,p&&f.addBehavior("#default#userData"),j={key:function(a){return t[a]},getItem:function(a){return a in q?q[a]:null},setItem:function(c,a){q[c]=""+a,b()},removeItem:function(a){delete q[a],b()},clear:function(){q={},b()}},g(),j}),aF(an,[aB,aW,aw,aZ,aU,aS],function(g,d,j,f,c,h){var b=window.tinymce;return b.DOM=g.DOM,b.ScriptLoader=j.ScriptLoader,b.PluginManager=f.PluginManager,b.ThemeManager=f.ThemeManager,b.dom=b.dom||{},b.dom.Event=d.Event,c.each(c,function(i,a){b[a]=i}),c.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(a){b[a]=h[a.substr(2).toLowerCase()]}),{}}),aF(bJ,[bw,aU],function(b,a){return b.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=a.extend({},this.Defaults,c)},preRender:function(c){c.addClass(this.settings.containerClass,"body")},applyClasses:function(g){var d=this,j=d.settings,f,c,h;f=g.items().filter(":visible"),c=j.firstControlClass,h=j.lastControlClass,f.each(function(i){i.removeClass(c).removeClass(h),j.controlClass&&i.addClass(j.controlClass)}),f.eq(0).addClass(c),f.eq(-1).addClass(h)},renderHtml:function(g){var d=this,h=d.settings,f,c="";return f=g.items(),f.eq(0).addClass(h.firstControlClass),f.eq(-1).addClass(h.lastControlClass),f.each(function(i){h.controlClass&&i.addClass(h.controlClass),c+=i.renderHtml()}),c},recalc:function(){},postRender:function(){}})}),aF(aY,[bJ],function(a){return a.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(b){b.items().filter(":visible").each(function(d){var c=d.settings;d.layoutRect({x:c.x,y:c.y,w:c.w,h:c.h}),d.recalc&&d.recalc()})},renderHtml:function(b){return'<div id="'+b._id+'-absend" class="'+b.classPrefix+'abs-end"></div>'+this._super(b)}})}),aF(a3,[aI,br],function(b,a){return b.extend({Mixins:[a],Defaults:{classes:"widget tooltip tooltip-n"},text:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c._rendered&&(c.getEl().lastChild.innerHTML=c.encode(d)),c):c._value},renderHtml:function(){var d=this,c=d.classPrefix;return'<div id="'+d._id+'" class="'+d.classes()+'" role="presentation"><div class="'+c+'tooltip-arrow"></div><div class="'+c+'tooltip-inner">'+d.encode(d._text)+"</div></div>"},repaint:function(){var d=this,c,f;c=d.getEl().style,f=d._layoutRect,c.left=f.x+"px",c.top=f.y+"px",c.zIndex=131070}})}),aF(bT,[aI,a3],function(c,a){var d,b=c.extend({init:function(g){var f=this;f._super(g),g=f.settings,f.canFocus=!0,g.tooltip&&b.tooltips!==!1&&(f.on("mouseenter",function(j){var h=f.tooltip().moveTo(-65535);if(j.control==f){var e=h.text(g.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]);h.toggleClass("tooltip-n","bc-tc"==e),h.toggleClass("tooltip-nw","bc-tl"==e),h.toggleClass("tooltip-ne","bc-tr"==e),h.moveRel(f.getEl(),e)}else{h.hide()}}),f.on("mouseleave mousedown click",function(){f.tooltip().hide()})),f.aria("label",g.ariaLabel||g.tooltip)},tooltip:function(){return d||(d=new a({type:"tooltip"}),d.renderTo()),d},active:function(g){var f=this,h;return g!==h&&(f.aria("pressed",g),f.toggleClass("active",g)),f._super(g)},disabled:function(g){var f=this,h;return g!==h&&(f.aria("disabled",g),f.toggleClass("disabled",g)),f._super(g)},postRender:function(){var g=this,f=g.settings;g._rendered=!0,g._super(),g.parent()||!f.width&&!f.height||(g.initLayoutRect(),g.repaint()),f.autofocus&&g.focus()},remove:function(){this._super(),d&&(d.remove(),d=null)}});return b}),aF(af,[bT],function(a){return a.extend({Defaults:{classes:"widget btn",role:"button"},init:function(c){var b=this,d;b.on("click mousedown",function(f){f.preventDefault()}),b._super(c),d=c.size,c.subtype&&b.addClass(c.subtype),d&&b.addClass("btn-"+d)},icon:function(f){var c=this,g=c.classPrefix;if("undefined"==typeof f){return c.settings.icon}if(c.settings.icon=f,f=f?g+"ico "+g+"i-"+c.settings.icon:"",c._rendered){var d=c.getEl().firstChild,b=d.getElementsByTagName("i")[0];f?(b&&b==d.firstChild||(b=document.createElement("i"),d.insertBefore(b,d.firstChild)),b.className=f):b&&d.removeChild(b),c.text(c._text)}return c},repaint:function(){var b=this.getEl().firstChild.style;b.width=b.height="100%",this._super()},text:function(c){var b=this;if(b._rendered){var d=b.getEl().lastChild.lastChild;d&&(d.data=b.translate(c))}return b._super(c)},renderHtml:function(){var f=this,c=f._id,g=f.classPrefix,d=f.settings.icon,b;return b=f.settings.image,b?(d="none","string"!=typeof b&&(b=window.getSelection?b[0]:b[1]),b=" style=\"background-image: url('"+b+"')\""):b="",d=f.settings.icon?g+"ico "+g+"i-"+d:"",'<div id="'+c+'" class="'+f.classes()+'" tabindex="-1" aria-labelledby="'+c+'"><button role="presentation" type="button" tabindex="-1">'+(d?'<i class="'+d+'"'+b+"></i>":"")+(f._text?(d?"\xa0":"")+f.encode(f._text):"")+"</button></div>"}})}),aF(bW,[bq],function(a){return a.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var c=this,b=c._layout;return c.addClass("btn-group"),c.preRender(),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes()+'"><div id="'+c._id+'-body">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aF(ak,[bT],function(a){return a.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(c){var b=this;b._super(c),b.on("click mousedown",function(d){d.preventDefault()}),b.on("click",function(d){d.preventDefault(),b.disabled()||b.checked(!b.checked())}),b.checked(b.settings.checked)},checked:function(c){var b=this;return"undefined"!=typeof c?(c?b.addClass("checked"):b.removeClass("checked"),b._checked=c,b.aria("checked",c),b):b._checked},value:function(b){return this.checked(b)},renderHtml:function(){var c=this,b=c._id,d=c.classPrefix;return'<div id="'+b+'" class="'+c.classes()+'" unselectable="on" aria-labelledby="'+b+'-al" tabindex="-1"><i class="'+d+"ico "+d+'i-checkbox"></i><span id="'+b+'-al" class="'+d+'label">'+c.encode(c._text)+"</span></div>"}})}),aF(bI,[af,a4],function(b,a){return b.extend({showPanel:function(){var d=this,f=d.settings;if(d.active(!0),d.panel){d.panel.show()}else{var c=f.panel;c.type&&(c={layout:"grid",items:c}),c.role=c.role||"dialog",c.popover=!0,c.autohide=!0,c.ariaRoot=!0,d.panel=new a(c).on("hide",function(){d.active(!1)}).on("cancel",function(e){e.stopPropagation(),d.focus(),d.hidePanel()}).parent(d).renderTo(d.getContainerElm()),d.panel.fire("show"),d.panel.reflow()}d.panel.moveRel(d.getEl(),f.popoverAlign||(d.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var c=this;c.panel&&c.panel.hide()},postRender:function(){var c=this;return c.aria("haspopup",!0),c.on("click",function(d){d.control===c&&(c.panel&&c.panel.visible()?c.hidePanel():(c.showPanel(),c.panel.focus(!!d.aria)))}),c._super()}})}),aF(aa,[bI,aB],function(b,a){var c=a.DOM;return b.extend({init:function(d){this._super(d),this.addClass("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},renderHtml:function(){var h=this,f=h._id,j=h.classPrefix,g=h.settings.icon?j+"ico "+j+"i-"+h.settings.icon:"",d=h.settings.image?" style=\"background-image: url('"+h.settings.image+"')\"":"";return'<div id="'+f+'" class="'+h.classes()+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(g?'<i class="'+g+'"'+d+"></i>":"")+'<span id="'+f+'-preview" class="'+j+'preview"></span>'+(h._text?(g?" ":"")+h._text:"")+'</button><button type="button" class="'+j+'open" hidefocus="1" tabindex="-1"> <i class="'+j+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(e){e.aria&&"down"==e.aria.key||e.control!=f||c.getParent(e.target,"."+f.classPrefix+"open")||(e.stopImmediatePropagation(),d.call(f,e))}),delete f.settings.onclick,f._super()}})}),aF(bU,[bT,aQ,bc],function(b,a,c){return b.extend({init:function(f){var d=this;d._super(f),d.addClass("combobox"),d.subinput=!0,d.ariaTarget="inp",f=d.settings,f.menu=f.menu||f.values,f.menu&&(f.icon="caret"),d.on("click",function(h){for(var g=h.target,e=d.getEl();g&&g!=e;){g.id&&-1!=g.id.indexOf("-open")&&(d.fire("action"),f.menu&&(d.showMenu(),h.aria&&d.menu.items()[0].focus())),g=g.parentNode}}),d.on("keydown",function(g){"INPUT"==g.target.nodeName&&13==g.keyCode&&d.parents().reverse().each(function(e){return g.preventDefault(),d.fire("change"),e.hasEventListeners("submit")&&e.toJSON?(e.fire("submit",{data:e.toJSON()}),!1):void 0})}),f.placeholder&&(d.addClass("placeholder"),d.on("focusin",function(){d._hasOnChange||(c.on(d.getEl("inp"),"change",function(){d.fire("change")}),d._hasOnChange=!0),d.hasClass("placeholder")&&(d.getEl("inp").value="",d.removeClass("placeholder"))}),d.on("focusout",function(){0===d.value().length&&(d.getEl("inp").value=f.placeholder,d.addClass("placeholder"))}))},showMenu:function(){var f=this,g=f.settings,d;f.menu||(d=g.menu||[],d.length?d={type:"menu",items:d}:d.type=d.type||"menu",f.menu=a.create(d).parent(f).renderTo(f.getContainerElm()),f.fire("createmenu"),f.menu.reflow(),f.menu.on("cancel",function(e){e.control===f.menu&&f.focus()}),f.menu.on("show hide",function(e){e.control.items().each(function(h){h.active(h.value()==f.value())})}).fire("show"),f.menu.on("select",function(e){f.value(e.control.value())}),f.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&f.menu.hide()}),f.aria("expanded",!0)),f.menu.show(),f.menu.layoutRect({w:f.layoutRect().w}),f.menu.moveRel(f.getEl(),f.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},value:function(f){var d=this;return"undefined"!=typeof f?(d._value=f,d.removeClass("placeholder"),d._rendered&&(d.getEl("inp").value=f),d):d._rendered?(f=d.getEl("inp").value,f!=d.settings.placeholder?f:""):d._value},disabled:function(f){var d=this;return d._rendered&&"undefined"!=typeof f&&(d.getEl("inp").disabled=f),d._super(f)},focus:function(){this.getEl("inp").focus()},repaint:function(){var k=this,g=k.getEl(),j=k.getEl("open"),f=k.layoutRect(),l,d;l=j?f.w-c.getSize(j).width-10:f.w-10;var h=document;return h.all&&(!h.documentMode||h.documentMode<=8)&&(d=k.layoutRect().h-2+"px"),c.css(g.firstChild,{width:l,lineHeight:d}),k._super(),k},postRender:function(){var d=this;return c.on(this.getEl("inp"),"change",function(){d.fire("change")}),d._super()},remove:function(){c.off(this.getEl("inp")),this._super()},renderHtml:function(){var k=this,p=k._id,g=k.settings,d=k.classPrefix,j=g.value||g.placeholder||"",f,m,q="",h="";return"spellcheck" in g&&(h+=' spellcheck="'+g.spellcheck+'"'),g.maxLength&&(h+=' maxlength="'+g.maxLength+'"'),g.size&&(h+=' size="'+g.size+'"'),g.subtype&&(h+=' type="'+g.subtype+'"'),k.disabled()&&(h+=' disabled="disabled"'),f=g.icon,f&&"caret"!=f&&(f=d+"ico "+d+"i-"+g.icon),m=k._text,(f||m)&&(q='<div id="'+p+'-open" class="'+d+"btn "+d+'open" tabIndex="-1" role="button"><button id="'+p+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=f?'<i class="'+f+'"></i>':'<i class="'+d+'caret"></i>')+(m?(f?" ":"")+m:"")+"</button></div>",k.addClass("has-open")),'<div id="'+p+'" class="'+k.classes()+'"><input id="'+p+'-inp" class="'+d+"textbox "+d+'placeholder" value="'+j+'" hidefocus="1"'+h+" />"+q+"</div>"}})}),aF(bK,[bT],function(a){return a.extend({init:function(c){var b=this;c.delimiter||(c.delimiter="\xbb"),b._super(c),b.addClass("path"),b.canFocus=!0,b.on("click",function(f){var g,d=f.target;(g=d.getAttribute("data-index"))&&b.fire("select",{value:b.data()[g],index:g})})},focus:function(){var b=this;return b.getEl().firstChild.focus(),b},data:function(c){var b=this;return"undefined"!=typeof c?(b._data=c,b.update(),b):b._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){var b=this;b._super(),b.data(b.settings.data)},renderHtml:function(){var b=this;return'<div id="'+b._id+'" class="'+b.classes()+'">'+b._getPathHtml()+"</div>"},_getPathHtml:function(){var f=this,c=f._data||[],h,d,b="",g=f.classPrefix;for(h=0,d=c.length;d>h;h++){b+=(h>0?'<div class="'+g+'divider" aria-hidden="true"> '+f.settings.delimiter+" </div>":"")+'<div role="button" class="'+g+"path-item"+(h==d-1?" "+g+"last":"")+'" data-index="'+h+'" tabindex="-1" id="'+f._id+"-"+h+'" aria-level="'+h+'">'+c[h].name+"</div>"}return b||(b='<div class="'+g+'path-item">\xa0</div>'),b}})}),aF(ag,[bK,ai],function(b,a){return b.extend({postRender:function(){function d(g){if(1===g.nodeType){if("BR"==g.nodeName||g.getAttribute("data-mce-bogus")){return !0}if("bookmark"===g.getAttribute("data-mce-type")){return !0}}return !1}var f=this,c=a.activeEditor;return f.on("select",function(g){var j=[],e,h=c.getBody();for(c.focus(),e=c.selection.getStart();e&&e!=h;){d(e)||j.push(e),e=e.parentNode}c.selection.select(j[j.length-1-g.index]),c.nodeChanged()}),c.on("nodeChange",function(h){for(var g=[],k=h.parents,e=k.length;e--;){if(1==k[e].nodeType&&!d(k[e])){var j=c.fire("ResolveName",{name:k[e].nodeName.toLowerCase(),target:k[e]});g.push({name:j.name})}}f.data(g)}),f._super()}})}),aF(bO,[bq],function(a){return a.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.addClass("formitem"),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes()+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<div id="'+c._id+'-title" class="'+d+'title">'+c.settings.title+"</div>":"")+'<div id="'+c._id+'-body" class="'+c.classes("body")+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),aF(bE,[bq,bO],function(b,a){return b.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var c=this,d=c.items();d.each(function(g){var f,e=g.settings.label;e&&(f=new a({layout:"flex",autoResize:"overflow",defaults:{flex:1},items:[{type:"label",id:g._id+"-l",text:e,flex:0,forId:g._id,disabled:g.disabled()}]}),f.type="formitem",g.aria("labelledby",g._id+"-l"),"undefined"==typeof g.settings.flex&&(g.settings.flex=1),c.replace(g,f),f.add(g))})},recalcLabels:function(){var g=this,d=0,h=[],f,c;if(g.settings.labelGapCalc!==!1){for(g.items().filter("formitem").each(function(l){var k=l.items()[0],j=k.getEl().clientWidth;d=j>d?j:d,h.push(k)}),c=g.settings.labelGap||0,f=h.length;f--;){h[f].settings.minWidth=d+c}}},visible:function(d){var c=this._super(d);return d===!0&&this._rendered&&this.recalcLabels(),c},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var c=this;c._super(),c.recalcLabels(),c.fromJSON(c.settings.data)}})}),aF(au,[bE],function(a){return a.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.preRender(),b.preRender(c),'<fieldset id="'+c._id+'" class="'+c.classes()+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<legend id="'+c._id+'-title" class="'+d+'fieldset-title">'+c.settings.title+"</legend>":"")+'<div id="'+c._id+'-body" class="'+c.classes("body")+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></fieldset>"}})}),aF(ae,[bU],function(a){return a.extend({init:function(d){var b=this,f=tinymce.activeEditor,c;d.spellcheck=!1,c=f.settings.file_browser_callback,c&&(d.icon="browse",d.onaction=function(){c(b.getEl("inp").id,b.getEl("inp").value,d.filetype,window)}),b._super(d)}})}),aF(bS,[aY],function(a){return a.extend({recalc:function(c){var b=c.layoutRect(),d=c.paddingBox();c.items().filter(":visible").each(function(f){f.layoutRect({x:d.left,y:d.top,w:b.innerW-d.right-d.left,h:b.innerH-d.top-d.bottom}),f.recalc&&f.recalc()})}})}),aF(bG,[aY],function(a){return a.extend({recalc:function(cn){var ca,cf,cc,cj,ce,cr,cb,ch,cp,co,b9,cm,cd,cg,ck,cl,b8=[],b5,cq,b1,b6,b7,cs,bZ,X,ci,J,G,K,b3,b2,b0,Z,Y,bt,Q,U,at,bY,b4=Math.max,j=Math.min;for(cc=cn.items().filter(":visible"),cj=cn.layoutRect(),ce=cn._paddingBox,cr=cn.settings,cm=cn.isRtl()?cr.direction||"row-reversed":cr.direction,cb=cr.align,ch=cn.isRtl()?cr.pack||"end":cr.pack,cp=cr.spacing||0,("row-reversed"==cm||"column-reverse"==cm)&&(cc=cc.set(cc.toArray().reverse()),cm=cm.split("-")[0]),"column"==cm?(ci="y",bZ="h",X="minH",J="maxH",K="innerH",G="top",b3="deltaH",b2="contentH",Q="left",Y="w",b0="x",Z="innerW",bt="minW",U="right",at="deltaW",bY="contentW"):(ci="x",bZ="w",X="minW",J="maxW",K="innerW",G="left",b3="deltaW",b2="contentW",Q="top",Y="h",b0="y",Z="innerH",bt="minH",U="bottom",at="deltaH",bY="contentH"),b9=cj[K]-ce[G]-ce[G],cs=co=0,ca=0,cf=cc.length;cf>ca;ca++){cd=cc[ca],cg=cd.layoutRect(),ck=cd.settings,cl=ck.flex,b9-=cf-1>ca?cp:0,cl>0&&(co+=cl,cg[J]&&b8.push(cd),cg.flex=cl),b9-=cg[X],b5=ce[Q]+cg[bt]+ce[U],b5>cs&&(cs=b5)}if(b6={},b6[X]=0>b9?cj[X]-b9+cj[b3]:cj[K]-b9+cj[b3],b6[bt]=cs+cj[at],b6[b2]=cj[K]-b9,b6[bY]=cs,b6.minW=j(b6.minW,cj.maxW),b6.minH=j(b6.minH,cj.maxH),b6.minW=b4(b6.minW,cj.startMinWidth),b6.minH=b4(b6.minH,cj.startMinHeight),!cj.autoResize||b6.minW==cj.minW&&b6.minH==cj.minH){for(b1=b9/co,ca=0,cf=b8.length;cf>ca;ca++){cd=b8[ca],cg=cd.layoutRect(),cq=cg[J],b5=cg[X]+cg.flex*b1,b5>cq?(b9-=cg[J]-cg[X],co-=cg.flex,cg.flex=0,cg.maxFlexSize=cq):cg.maxFlexSize=0}for(b1=b9/co,b7=ce[G],b6={},0===co&&("end"==ch?b7=b9+ce[G]:"center"==ch?(b7=Math.round(cj[K]/2-(cj[K]-b9)/2)+ce[G],0>b7&&(b7=ce[G])):"justify"==ch&&(b7=ce[G],cp=Math.floor(b9/(cc.length-1)))),b6[b0]=ce[Q],ca=0,cf=cc.length;cf>ca;ca++){cd=cc[ca],cg=cd.layoutRect(),b5=cg.maxFlexSize||cg[X],"center"===cb?b6[b0]=Math.round(cj[Z]/2-cg[Y]/2):"stretch"===cb?(b6[Y]=b4(cg[bt]||0,cj[Z]-ce[Q]-ce[U]),b6[b0]=ce[Q]):"end"===cb&&(b6[b0]=cj[Z]-cg[Y]-ce.top),cg.flex>0&&(b5+=cg.flex*b1),b6[bZ]=b5,b6[ci]=b7,cd.layoutRect(b6),cd.recalc&&cd.recalc(),b7+=b5+cp}}else{if(b6.w=b6.minW,b6.h=b6.minH,cn.layoutRect(b6),this.recalc(cn),null===cn._lastRect){var q=cn.parent();q&&(q._lastRect=null,q.recalc())}}}})}),aF(aH,[bJ],function(a){return a.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(b){b.items().filter(":visible").each(function(c){c.recalc&&c.recalc()})}})}),aF(bg,[aI,bT,a4,aU,ai,aS],function(h,d,k,g,c,j){function b(v){function A(a,e){return function(){var i=this;v.on("nodeChange",function(r){var t=v.formatter,l=null;f(r.parents,function(o){return f(a,function(u){return e?t.matchNode(o,e,{value:u.value})&&(l=u.value):t.matchNode(o,u.value)&&(l=u.value),l?!1:void 0}),l?!1:void 0}),i.value(l)})}}function m(i){i=i.replace(/;$/,"").split(";");for(var a=i.length;a--;){i[a]=i[a].split("=")}return i}function q(){function e(i){var o=[];if(i){return f(i,function(t){var C={text:t.title,icon:t.icon};if(t.items){C.menu=e(t.items)}else{var r=t.format||"custom"+l++;t.format||(t.name=r,a.push(t)),C.format=r}o.push(C)}),o}}function B(){var i;return i=e(v.settings.style_formats_merge?v.settings.style_formats?u.concat(v.settings.style_formats):u:v.settings.style_formats||u)}var l=0,a=[],u=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return v.on("init",function(){f(a,function(i){v.formatter.register(i.name,i)})}),{type:"menu",items:B(),onPostRender:function(i){v.fire("renderFormatsMenu",{control:i.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?v.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var i=this,o=this.settings.format;o&&i.parent().on("show",function(){i.disabled(!v.formatter.canApply(o)),i.active(v.formatter.match(o))})},onclick:function(){this.settings.format&&z(this.settings.format)}}}}function n(){return v.undoManager?v.undoManager.hasUndo():!1}function y(){return v.undoManager?v.undoManager.hasRedo():!1}function p(){var a=this;a.disabled(!n()),v.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!n())})}function x(){var a=this;a.disabled(!y()),v.on("Undo Redo AddUndo TypingUndo",function(){a.disabled(!y())})}function w(){var a=this;v.on("VisualAid",function(i){a.active(i.hasVisual)}),a.active(v.hasVisual)}function z(a){a.control&&(a=a.control.value()),a&&v.execCommand("mceToggleFormat",!1,a)}var s;s=q(),f({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(a,e){v.addButton(e,{tooltip:a,onPostRender:function(){var i=this;v.formatter?v.formatter.formatChanged(e,function(l){i.active(l)}):v.on("init",function(){v.formatter.formatChanged(e,function(l){i.active(l)})})},onclick:function(){z(e)}})}),f({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],hr:["Insert horizontal rule","InsertHorizontalRule"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(a,e){v.addButton(e,{tooltip:a[0],cmd:a[1]})}),f({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(a,e){v.addButton(e,{tooltip:a[0],cmd:a[1],onPostRender:function(){var i=this;v.formatter?v.formatter.formatChanged(e,function(l){i.active(l)}):v.on("init",function(){v.formatter.formatChanged(e,function(l){i.active(l)})})}})}),v.addButton("undo",{tooltip:"Undo",onPostRender:p,cmd:"undo"}),v.addButton("redo",{tooltip:"Redo",onPostRender:x,cmd:"redo"}),v.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"}),v.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:p,cmd:"undo"}),v.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:x,cmd:"redo"}),v.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:w,cmd:"mceToggleVisualAid"}),f({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(a,e){v.addMenuItem(e,{text:a[0],icon:e,shortcut:a[2],cmd:a[1]})}),v.on("mousedown",function(){k.hideAll()}),v.addButton("styleselect",{type:"menubutton",text:"Formats",menu:s}),v.addButton("formatselect",function(){var e=[],a=m(v.settings.block_formats||"Paragraph=p;Address=address;Blockquote=blockquote;Pre=pre;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6");return f(a,function(i){e.push({text:i[0],value:i[1],textStyle:function(){return v.formatter.getCssText(i[1])}})}),{type:"listbox",text:a[0][0],values:e,fixedWidth:!0,onselect:z,onPostRender:A(e)}}),v.addButton("fontselect",function(){var l="Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",a=[],e=m(v.settings.font_formats||l);return f(e,function(i){a.push({text:{raw:i[0]},value:i[1],textStyle:-1==i[1].indexOf("dings")?"font-family:"+i[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:a,fixedWidth:!0,onPostRender:A(a,"fontname"),onselect:function(i){i.control.settings.value&&v.execCommand("FontName",!1,i.control.settings.value)}}}),v.addButton("fontsizeselect",function(){var l=[],e="8pt 10pt 12pt 14pt 18pt 24pt 36pt",a=v.settings.fontsize_formats||e;return f(a.split(" "),function(i){l.push({text:i,value:i})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:l,fixedWidth:!0,onPostRender:A(l,"fontsize"),onclick:function(i){i.control.settings.value&&v.execCommand("FontSize",!1,i.control.settings.value)}}}),v.addMenuItem("formats",{text:"Formats",menu:s})}var f=g.each;c.on("AddEditor",function(a){a.editor.rtl&&(h.rtl=!0),b(a.editor)}),h.translate=function(a){return c.translate(a)},d.tooltips=!j.iOS}),aF(a8,[aY],function(a){return a.extend({recalc:function(b7){var U=b7.settings,bZ,Y,b3,bY,cb,W,b1,b9,b8,P,b6,bt,b0,b4,b5,O,I,ca,X,J,K,cc,Q=[],F=[],b2,q,j,z;for(U=b7.settings,b3=b7.items().filter(":visible"),bY=b7.layoutRect(),Y=U.columns||Math.ceil(Math.sqrt(b3.length)),bZ=Math.ceil(b3.length/Y),I=U.spacingH||U.spacing||0,ca=U.spacingV||U.spacing||0,X=U.alignH||U.align,J=U.alignV||U.align,b5=b7._paddingBox,X&&"string"==typeof X&&(X=[X]),J&&"string"==typeof J&&(J=[J]),P=0;Y>P;P++){Q.push(0)}for(b6=0;bZ>b6;b6++){F.push(0)}for(b6=0;bZ>b6;b6++){for(P=0;Y>P&&(b8=b3[b6*Y+P],b8);P++){b9=b8.layoutRect(),b2=b9.minW,q=b9.minH,Q[P]=b2>Q[P]?b2:Q[P],F[b6]=q>F[b6]?q:F[b6]}}for(j=bY.innerW-b5.left-b5.right,K=0,P=0;Y>P;P++){K+=Q[P]+(P>0?I:0),j-=(P>0?I:0)+Q[P]}for(z=bY.innerH-b5.top-b5.bottom,cc=0,b6=0;bZ>b6;b6++){cc+=F[b6]+(b6>0?ca:0),z-=(b6>0?ca:0)+F[b6]}if(K+=b5.left+b5.right,cc+=b5.top+b5.bottom,b1={},b1.minW=K+(bY.w-bY.innerW),b1.minH=cc+(bY.h-bY.innerH),b1.contentW=b1.minW-bY.deltaW,b1.contentH=b1.minH-bY.deltaH,b1.minW=Math.min(b1.minW,bY.maxW),b1.minH=Math.min(b1.minH,bY.maxH),b1.minW=Math.max(b1.minW,bY.startMinWidth),b1.minH=Math.max(b1.minH,bY.startMinHeight),!bY.autoResize||b1.minW==bY.minW&&b1.minH==bY.minH){bY.autoResize&&(b1=b7.layoutRect(b1),b1.contentW=b1.minW-bY.deltaW,b1.contentH=b1.minH-bY.deltaH);var at;at="start"==U.packV?0:z>0?Math.floor(z/bZ):0;var Z=0,V=U.flexWidths;if(V){for(P=0;P<V.length;P++){Z+=V[P]}}else{Z=Y}var H=j/Z;for(P=0;Y>P;P++){Q[P]+=V?V[P]*H:H}for(b0=b5.top,b6=0;bZ>b6;b6++){for(bt=b5.left,W=F[b6]+at,P=0;Y>P&&(b8=b3[b6*Y+P],b8);P++){b4=b8.settings,b9=b8.layoutRect(),cb=Math.max(Q[P],b9.startMinWidth),b9.x=bt,b9.y=b0,O=b4.alignH||(X?X[P]||X[0]:null),"center"==O?b9.x=bt+cb/2-b9.w/2:"right"==O?b9.x=bt+cb-b9.w:"stretch"==O&&(b9.w=cb),O=b4.alignV||(J?J[P]||J[0]:null),"center"==O?b9.y=b0+W/2-b9.h/2:"bottom"==O?b9.y=b0+W-b9.h:"stretch"==O&&(b9.h=W),b8.layoutRect(b9),bt+=cb+I,b8.recalc&&b8.recalc()}b0+=W+ca}}else{if(b1.w=b1.minW,b1.h=b1.minH,b7.layoutRect(b1),this.recalc(b7),null===b7._lastRect){var G=b7.parent();G&&(G._lastRect=null,G.recalc())}}}})}),aF(ac,[bT],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("iframe"),b.canFocus=!1,'<iframe id="'+b._id+'" class="'+b.classes()+'" tabindex="-1" src="'+(b.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(b){this.getEl().src=b},html:function(d,b){var f=this,c=this.getEl().contentWindow.document.body;return c?(c.innerHTML=d,b&&b()):setTimeout(function(){f.html(d)},0),this}})}),aF(bl,[bT,bc],function(b,a){return b.extend({init:function(d){var c=this;c._super(d),c.addClass("widget"),c.addClass("label"),c.canFocus=!1,d.multiline&&c.addClass("autoscroll"),d.strong&&c.addClass("strong")},initLayoutRect:function(){var d=this,f=d._super();if(d.settings.multiline){var c=a.getSize(d.getEl());c.width>f.maxW&&(f.minW=f.maxW,d.addClass("multiline")),d.getEl().style.width=f.minW+"px",f.startMinH=f.h=f.minH=Math.min(f.maxH,a.getSize(d.getEl()).height)}return f},repaint:function(){var c=this;return c.settings.multiline||(c.getEl().style.lineHeight=c.layoutRect().h+"px"),c._super()},text:function(d){var c=this;return c._rendered&&d&&this.innerHtml(c.encode(d)),c._super(d)},renderHtml:function(){var d=this,c=d.settings.forId;return'<label id="'+d._id+'" class="'+d.classes()+'"'+(c?' for="'+c+'"':"")+">"+d.encode(d._text)+"</label>"}})}),aF(ap,[bq],function(a){return a.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(c){var b=this;b._super(c),b.addClass("toolbar")},postRender:function(){var b=this;return b.items().addClass("toolbar-item"),b._super()}})}),aF(aN,[ap],function(a){return a.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),aF(bn,[af,aQ,aN],function(d,b,f){function c(h,g){for(;h;){if(g===h){return !0}h=h.parentNode}return !1}var a=d.extend({init:function(h){var g=this;g._renderOpen=!0,g._super(h),g.addClass("menubtn"),h.fixedWidth&&g.addClass("fixed-width"),g.aria("haspopup",!0),g.hasPopup=!0},showMenu:function(){var h=this,i=h.settings,g;return h.menu&&h.menu.visible()?h.hideMenu():(h.menu||(g=i.menu||[],g.length?g={type:"menu",items:g}:g.type=g.type||"menu",h.menu=b.create(g).parent(h).renderTo(),h.fire("createmenu"),h.menu.reflow(),h.menu.on("cancel",function(e){e.control.parent()===h.menu&&(e.stopPropagation(),h.focus(),h.hideMenu())}),h.menu.on("select",function(){h.focus()}),h.menu.on("show hide",function(e){e.control==h.menu&&h.activeMenu("show"==e.type),h.aria("expanded","show"==e.type)}).fire("show")),h.menu.show(),h.menu.layoutRect({w:h.layoutRect().w}),void h.menu.moveRel(h.getEl(),h.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){var g=this;g.menu&&(g.menu.items().each(function(h){h.hideMenu&&h.hideMenu()}),g.menu.hide())},activeMenu:function(g){this.toggleClass("active",g)},renderHtml:function(){var k=this,h=k._id,j=k.classPrefix,g=k.settings.icon?j+"ico "+j+"i-"+k.settings.icon:"";return k.aria("role",k.parent() instanceof f?"menuitem":"button"),'<div id="'+h+'" class="'+k.classes()+'" tabindex="-1" aria-labelledby="'+h+'"><button id="'+h+'-open" role="presentation" type="button" tabindex="-1">'+(g?'<i class="'+g+'"></i>':"")+"<span>"+(k._text?(g?"\xa0":"")+k.encode(k._text):"")+'</span> <i class="'+j+'caret"></i></button></div>'},postRender:function(){var g=this;return g.on("click",function(e){e.control===g&&c(e.target,g.getEl())&&(g.showMenu(),e.aria&&g.menu.items()[0].focus())}),g.on("mouseenter",function(e){var j=e.control,h=g.parent(),i;j&&h&&j instanceof a&&j.parent()==h&&(h.items().filter("MenuButton").each(function(k){k.hideMenu&&k!=j&&(k.menu&&k.menu.visible()&&(i=!0),k.hideMenu())}),i&&(j.focus(),j.showMenu()))}),g._super()},text:function(i){var g=this,j,h;if(g._rendered){for(h=g.getEl("open").getElementsByTagName("span"),j=0;j<h.length;j++){h[j].innerHTML=(g.settings.icon&&i?"\xa0":"")+g.encode(i)}}return this._super(i)},remove:function(){this._super(),this.menu&&this.menu.remove()}});return a}),aF(ad,[bn],function(a){return a.extend({init:function(g){var d=this,j,f,c,h,b;if(d._values=j=g.values,j){for(f=0;f<j.length;f++){if(c=j[f].selected||g.value===j[f].value){h=h||j[f].text,d._value=j[f].value;break}}!c&&j.length>0&&(h=j[0].text,d._value=j[0].value),g.menu=j}g.text=g.text||h||j[0].text,d._super(g),d.addClass("listbox"),d.on("select",function(i){var e=i.control;b&&(i.lastControl=b),g.multiple?e.active(!e.active()):d.value(i.control.settings.value),b=e})},value:function(g){function d(i,k){i.items().each(function(l){f=l.value()===k,f&&(c=c||l.text()),l.active(f),l.menu&&d(l.menu,k)})}var j=this,f,c,h,b;if("undefined"!=typeof g){if(j.menu){d(j.menu,g)}else{for(h=j.settings.menu,b=0;b<h.length;b++){f=h[b].value==g,f&&(c=c||h[b].text),h[b].active=f}}j.text(c||this.settings.text)}return j._super(g)}})}),aF(aj,[bT,aQ,aS],function(b,a,c){return b.extend({Defaults:{border:0,role:"menuitem"},init:function(f){var d=this;d.hasPopup=!0,d._super(f),f=d.settings,d.addClass("menu-item"),f.menu&&d.addClass("menu-item-expand"),f.preview&&d.addClass("menu-item-preview"),("-"===d._text||"|"===d._text)&&(d.addClass("menu-item-sep"),d.aria("role","separator"),d._text="-"),f.selectable&&(d.aria("role","menuitemcheckbox"),d.addClass("menu-item-checkbox"),f.icon="selected"),f.preview||f.selectable||d.addClass("menu-item-normal"),d.on("mousedown",function(g){g.preventDefault()}),f.menu&&!f.ariaHideMenu&&d.aria("haspopup",!0)},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var g=this,j=g.settings,f,d=g.parent();if(d.items().each(function(e){e!==g&&e.hideMenu()}),j.menu){f=g.menu,f?f.show():(f=j.menu,f.length?f={type:"menu",items:f}:f.type=f.type||"menu",d.settings.itemDefaults&&(f.itemDefaults=d.settings.itemDefaults),f=g.menu=a.create(f).parent(g).renderTo(),f.reflow(),f.fire("show"),f.on("cancel",function(e){e.stopPropagation(),g.focus(),f.hide()}),f.on("hide",function(e){e.control===f&&g.removeClass("selected")}),f.submenu=!0),f._parentMenu=d,f.addClass("menu-sub");var h=f.testMoveRel(g.getEl(),g.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);f.moveRel(g.getEl(),h),f.rel=h,h="menu-sub-"+h,f.removeClass(f._lastRel),f.addClass(h),f._lastRel=h,g.addClass("selected"),g.aria("expanded",!0)}},hideMenu:function(){var d=this;return d.menu&&(d.menu.items().each(function(f){f.hideMenu&&f.hideMenu()}),d.menu.hide(),d.aria("expanded",!1)),d},renderHtml:function(){var m=this,h=m._id,k=m.settings,g=m.classPrefix,n=m.encode(m._text),f=m.settings.icon,j="",d=k.shortcut;return f&&m.parent().addClass("menu-has-icons"),k.image&&(f="none",j=" style=\"background-image: url('"+k.image+"')\""),d&&c.mac&&(d=d.replace(/ctrl\+alt\+/i,"&#x2325;&#x2318;"),d=d.replace(/ctrl\+/i,"&#x2318;"),d=d.replace(/alt\+/i,"&#x2325;"),d=d.replace(/shift\+/i,"&#x21E7;")),f=g+"ico "+g+"i-"+(m.settings.icon||"none"),'<div id="'+h+'" class="'+m.classes()+'" tabindex="-1">'+("-"!==n?'<i class="'+f+'"'+j+"></i>\xa0":"")+("-"!==n?'<span id="'+h+'-text" class="'+g+'text">'+n+"</span>":"")+(d?'<div id="'+h+'-shortcut" class="'+g+'menu-shortcut">'+d+"</div>":"")+(k.menu?'<div class="'+g+'caret"></div>':"")+"</div>"},postRender:function(){var g=this,d=g.settings,h=d.textStyle;if("function"==typeof h&&(h=h.call(this)),h){var f=g.getEl("text");f&&f.setAttribute("style",h)}return g.on("mouseenter click",function(e){e.control===g&&(d.menu||"click"!==e.type?(g.showMenu(),e.aria&&g.menu.focus(!0)):(g.fire("select"),g.parent().hideAll()))}),g._super(),g},active:function(d){return"undefined"!=typeof d&&this.aria("checked",d),this._super(d)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),aF(ba,[a4,aj,aU],function(c,a,d){var b=c.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(j){var g=this;if(j.autohide=!0,j.constrainToViewport=!0,j.itemDefaults){for(var h=j.items,f=h.length;f--;){h[f]=d.extend({},j.itemDefaults,h[f])}}g._super(j),g.addClass("menu")},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var f=this;f.hideAll(),f.fire("select")},hideAll:function(){var f=this;return this.find("menuitem").exec("hideMenu"),f._super()},preRender:function(){var f=this;return f.items().each(function(e){var g=e.settings;return g.icon||g.selectable?(f._hasIcons=!0,!1):void 0}),f._super()}});return b}),aF(am,[ak],function(a){return a.extend({Defaults:{classes:"radio",role:"radio"}})}),aF(bV,[bT,a5],function(b,a){return b.extend({renderHtml:function(){var d=this,c=d.classPrefix;return d.addClass("resizehandle"),"both"==d.settings.direction&&d.addClass("resizehandle-both"),d.canFocus=!1,'<div id="'+d._id+'" class="'+d.classes()+'"><i class="'+c+"ico "+c+'i-resize"></i></div>'},postRender:function(){var c=this;c._super(),c.resizeDragHelper=new a(this._id,{start:function(){c.fire("ResizeStart")},drag:function(d){"both"!=c.settings.direction&&(d.deltaX=0),c.fire("Resize",d)},stop:function(){c.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),aF(bQ,[bT],function(a){return a.extend({renderHtml:function(){var b=this;return b.addClass("spacer"),b.canFocus=!1,'<div id="'+b._id+'" class="'+b.classes()+'"></div>'}})}),aF(ah,[bn,bc],function(b,a){return b.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var f=this,h=f.getEl(),d=f.layoutRect(),c,g;return f._super(),c=h.firstChild,g=h.lastChild,a.css(c,{width:d.w-a.getSize(g).width,height:d.h-2}),a.css(g,{height:d.h-2}),f},activeMenu:function(c){var d=this;a.toggleClass(d.getEl().lastChild,d.classPrefix+"active",c)},renderHtml:function(){var f=this,c=f._id,g=f.classPrefix,d=f.settings.icon?g+"ico "+g+"i-"+f.settings.icon:"";return'<div id="'+c+'" class="'+f.classes()+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(d?'<i class="'+d+'"></i>':"")+(f._text?(d?" ":"")+f._text:"")+'</button><button type="button" class="'+g+'open" hidefocus="1" tabindex="-1">'+(f._menuBtnText?(d?"\xa0":"")+f._menuBtnText:"")+' <i class="'+g+'caret"></i></button></div>'},postRender:function(){var d=this,c=d.settings.onclick;return d.on("click",function(f){var g=f.target;if(f.control==this){for(;g;){if(f.aria&&"down"!=f.aria.key||"BUTTON"==g.nodeName&&-1==g.className.indexOf("open")){return f.stopImmediatePropagation(),void c.call(this,f)}g=g.parentNode}}}),delete d.settings.onclick,d._super()}})}),aF(aA,[aH],function(a){return a.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})}),aF(ao,[a7,bc],function(b,a){return b.extend({lastIdx:0,Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(c){var d;this.activeTabId&&(d=this.getEl(this.activeTabId),a.removeClass(d,this.classPrefix+"active"),d.setAttribute("aria-selected","false")),this.activeTabId="t"+c,d=this.getEl("t"+c),d.setAttribute("aria-selected","true"),a.addClass(d,this.classPrefix+"active"),c!=this.lastIdx&&(this.items()[this.lastIdx].hide(),this.lastIdx=c),this.items()[c].show().fire("showtab"),this.reflow()},renderHtml:function(){var f=this,c=f._layout,g="",d=f.classPrefix;return f.preRender(),c.preRender(f),f.items().each(function(h,e){var j=f._id+"-t"+e;h.aria("role","tabpanel"),h.aria("labelledby",j),g+='<div id="'+j+'" class="'+d+'tab" unselectable="on" role="tab" aria-controls="'+h._id+'" aria-selected="false" tabIndex="-1">'+f.encode(h.settings.title)+"</div>"}),'<div id="'+f._id+'" class="'+f.classes()+'" hidefocus="1" tabindex="-1"><div id="'+f._id+'-head" class="'+d+'tabs" role="tablist">'+g+'</div><div id="'+f._id+'-body" class="'+f.classes("body")+'">'+c.renderHtml(f)+"</div></div>"},postRender:function(){var c=this;c._super(),c.settings.activeTab=c.settings.activeTab||0,c.activateTab(c.settings.activeTab),this.on("click",function(d){var f=d.target.parentNode;if(d.target.parentNode.id==c._id+"-head"){for(var e=f.childNodes.length;e--;){f.childNodes[e]==d.target&&c.activateTab(e)}}})},initLayoutRect:function(){var f=this,h,d,c;d=a.getSize(f.getEl("head")).width,d=0>d?0:d,c=0,f.items().each(function(e,i){d=Math.max(d,e.layoutRect().minW),c=Math.max(c,e.layoutRect().minH),f.settings.activeTab!=i&&e.hide()}),f.items().each(function(i){i.settings.x=0,i.settings.y=0,i.settings.w=d,i.settings.h=c,i.layoutRect({x:0,y:0,w:d,h:c})});var g=a.getSize(f.getEl("head")).height;return f.settings.minWidth=d,f.settings.minHeight=c+g,h=f._super(),h.deltaH+=g,h.innerH=h.h-h.deltaH,h}})}),aF(bL,[bT,bc],function(b,a){return b.extend({init:function(d){var c=this;c._super(d),c._value=d.value||"",c.addClass("textbox"),d.multiline?c.addClass("multiline"):c.on("keydown",function(f){13==f.keyCode&&c.parents().reverse().each(function(e){return f.preventDefault(),e.hasEventListeners("submit")&&e.toJSON?(e.fire("submit",{data:e.toJSON()}),!1):void 0})})},disabled:function(d){var c=this;return c._rendered&&"undefined"!=typeof d&&(c.getEl().disabled=d),c._super(d)},value:function(d){var c=this;return"undefined"!=typeof d?(c._value=d,c._rendered&&(c.getEl().value=d),c):c._rendered?c.getEl().value:c._value},repaint:function(){var j=this,f,l,h,d=0,k=0,c;f=j.getEl().style,l=j._layoutRect,c=j._lastRepaintRect||{};var g=document;return !j.settings.multiline&&g.all&&(!g.documentMode||g.documentMode<=8)&&(f.lineHeight=l.h-k+"px"),h=j._borderBox,d=h.left+h.right+8,k=h.top+h.bottom+(j.settings.multiline?8:0),l.x!==c.x&&(f.left=l.x+"px",c.x=l.x),l.y!==c.y&&(f.top=l.y+"px",c.y=l.y),l.w!==c.w&&(f.width=l.w-d+"px",c.w=l.w),l.h!==c.h&&(f.height=l.h-k+"px",c.h=l.h),j._lastRepaintRect=c,j.fire("repaint",{},!1),j},renderHtml:function(){var g=this,d=g._id,h=g.settings,f=g.encode(g._value,!1),c="";return"spellcheck" in h&&(c+=' spellcheck="'+h.spellcheck+'"'),h.maxLength&&(c+=' maxlength="'+h.maxLength+'"'),h.size&&(c+=' size="'+h.size+'"'),h.subtype&&(c+=' type="'+h.subtype+'"'),g.disabled()&&(c+=' disabled="disabled"'),h.multiline?'<textarea id="'+d+'" class="'+g.classes()+'" '+(h.rows?' rows="'+h.rows+'"':"")+' hidefocus="1"'+c+">"+f+"</textarea>":'<input id="'+d+'" class="'+g.classes()+'" value="'+f+'" hidefocus="1"'+c+" />"},postRender:function(){var c=this;return a.on(c.getEl(),"change",function(d){c.fire("change",d)}),c._super()},remove:function(){a.off(this.getEl()),this._super()}})}),aF(ab,[bc,aI],function(b,a){return function(g,e){var d=this,f,c=a.classPrefix;d.show=function(h){return d.hide(),f=!0,window.setTimeout(function(){f&&g.appendChild(b.createFragment('<div class="'+c+"throbber"+(e?" "+c+"throbber-inline":"")+'"></div>'))},h||0),d},d.hide=function(){var h=g.lastChild;return h&&-1!=h.className.indexOf("throbber")&&h.parentNode.removeChild(h),f=!1,d}}}),a0([aO,aX,aW,aC,aU,aJ,aM,aS,aT,aB,aw,aZ,bz,ax,ay,a1,bx,bm,aP,bf,bd,bh,bC,bB,by,bp,bo,bu,bj,bk,bs,bw,av,a9,bb,bc,aI,aQ,bM,bq,a5,bv,a7,br,bi,a4,bX,be,a6,bR,ar,az,bA,bH,bP,aq,ai,aG,bN,al,bF,a2,bD,an,bJ,aY,a3,bT,af,bW,ak,bI,aa,bU,bK,ag,bO,bE,au,ae,bS,bG,aH,bg,a8,ac,bl,ap,aN,bn,ad,aj,ba,am,bV,bQ,ah,aA,ao,bL,ab])}(this);