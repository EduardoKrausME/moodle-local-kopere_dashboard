tinymce.PluginManager.add("filemanager",function(a){tinymce.activeEditor.settings.file_browser_callback=b;function b(d,l,i,g){console.log(a.settings);urltype=2;if(i=="image"){urltype=1}if(i=="media"){urltype=3}var k="RESPONSIVE FileManager";if(typeof a.settings.filemanager_title!=="undefined"&&a.settings.filemanager_title){k=a.settings.filemanager_title}var f="key";if(typeof a.settings.filemanager_access_key!=="undefined"&&a.settings.filemanager_access_key){f=a.settings.filemanager_access_key}var j="";if(typeof a.settings.filemanager_sort_by!=="undefined"&&a.settings.filemanager_sort_by){j="&sort_by="+a.settings.filemanager_sort_by}var e="false";if(typeof a.settings.filemanager_descending!=="undefined"&&a.settings.filemanager_descending){e=a.settings.filemanager_descending}var c="";if(typeof a.settings.filemanager_subfolder!=="undefined"&&a.settings.filemanager_subfolder){c="&fldr="+a.settings.filemanager_subfolder}var h="";if(typeof a.settings.folderSaveFile!=="undefined"&&a.settings.folderSaveFile){h="&folderSaveFile="+a.settings.folderSaveFile}tinymce.activeEditor.windowManager.open({title:k,file:a.settings.external_filemanager_path+"dialog.php?type="+urltype+"&descending="+e+j+c+h+"&lang="+a.settings.language+"&akey="+f,width:860,height:570,resizable:true,maximizable:true,inline:1},{setUrl:function(n){var o=g.document.getElementById(d);o.value=a.convertURL(n);if("fireEvent" in o){o.fireEvent("onchange")}else{var m=document.createEvent("HTMLEvents");m.initEvent("change",false,true);o.dispatchEvent(m)}}})}return false});